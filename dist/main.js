(()=>{"use strict";let t=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce(((t,e)=>t+((e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_")),"");function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===e(i)?i:String(i)),r)}var i}function o(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function r(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,c(t,e,"get"))}function i(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,c(t,e,"set"),n),n}function c(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var a=new WeakMap,s=new WeakMap,l=function(){function e(n){var r=n.title,c=n.description,l=n.dueDate,d=n.priority,u=n.id,f=n.checked,p=void 0!==f&&f;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a,{writable:!0,value:void 0}),o(this,s,{writable:!0,value:void 0}),i(this,a,u||t()),this.title=r,this.description=c||"",this.dueDate=l,this.priority=d,this.checked=p}var c,l;return c=e,(l=[{key:"toggleDone",value:function(){this.checked=!this.checked}},{key:"dueDate",get:function(){return r(this,s)},set:function(t){i(this,s,t)}},{key:"id",get:function(){return r(this,a)}}])&&n(c.prototype,l),Object.defineProperty(c,"prototype",{writable:!1}),e}();function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,f(o.key),o)}}function f(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==d(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}const p=function(){function t(){var e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,o=[],(n=f(n="events"))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}var e,n,o;return e=t,n=[{key:"subscribe",value:function(t,e){this.events[t]?this.events[t].push(e):this.events[t]=[e]}},{key:"triggerEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];this.events[t]&&this.events[t].forEach((function(t){return t.apply(void 0,n)}))}}],o=[{key:"getInstance",value:function(){return t._instance||(t._instance=new t),t._instance}}],n&&u(e.prototype,n),o&&u(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==h(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===h(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){function e(e){return console.log(e),t.get(e)}function n(t,n){return e(n).find((function(e){return e.id===t}))}function o(e){var n=e.category,o=e.todo;t.has(n)?t.get(n).push(o):t.set(n,[o])}function r(e){var n=e.category,o=e.todo;if(!t.has(n))throw new Error("Something went wrong");var r=t.get(n).filter((function(t){return t.id!==o.id}));t.set(n,r),localStorage.removeItem("todo-".concat(o.id))}return{addTodo:o,getTodo:n,removeTodo:r,subscribeToPublisher:function(){var e=p.getInstance();e.subscribe("addTodo",(function(t){var e=t.category,n=t.todo;o({category:e,todo:n}),function(t){var e=t.category,n=t.todo,o=y(y({},n),{},{dueDate:n.dueDate,category:e});console.log(o),localStorage.setItem("todo-".concat(n.id),JSON.stringify(o))}({category:e,todo:n})})),e.subscribe("deleteTodo",(function(e){r({category:e.category,todo:e.todo}),console.log(t)})),e.subscribe("editTodo",(function(t){var e=t.category,o=t.todo,r=n(o.id,e);r.title=o.title,r.dueDate=o.dueDate,r.description=o.description,r.priority=o.priority})),e.subscribe("loadTodo",(function(t){o({category:t.category,todo:t.todo})})),e.subscribe("addCategory",(function(n){var o=n.category;null==t.get(o)?(t.set(o,[]),e.triggerEvent("reloadCategories",{categories:Array.from(t.keys())})):alert("A category with the same name already exist!")}))},getTodosByCategory:e,editTodo:function(t,e,n){var o=v.getTodosByCategory(e).find((function(e){return e.id===t}));return o._dueDate=n.dueDate,o.title=n.title,o.priority=n.priority,o.description=n.description,o}}}(new Map([["Home",[new l({title:"Do My Homework",description:"Do my math homework by Mrs. Vida before March 28th, else she will get angry :(",priority:"high",checked:!1,dueDate:new Date("2023-03-28T00:00:00.000Z")}),new l({title:"Wash My Dishes",description:"Wash my dishes before dad come back from the supermarket, he said he's buying some milk",priority:"medium",checked:!0,dueDate:new Date("2023-03-15T00:00:00.000Z")}),new l({title:"Buy Some Milk",description:"Buy milk for a long period of time when i become a dad, just like my dad",priority:"low",checked:!1,dueDate:new Date("2023-10-28T00:00:00.000Z")})]]]));const b=v,w=Object.freeze({left:0,top:0,width:16,height:16}),E=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),k=Object.freeze({...w,...E}),x=Object.freeze({...k,body:"",hidden:!1}),S=Object.freeze({width:null,height:null}),I=Object.freeze({...S,...E}),C=/[\s,]+/,j={...I,preserveAspectRatio:""};function T(t){const e={...j},n=(e,n)=>t.getAttribute(e)||n;var o;return e.width=n("width",null),e.height=n("height",null),e.rotate=function(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function o(t){for(;t<0;)t+=4;return t%4}if(""===n){const e=parseInt(t);return isNaN(e)?0:o(e)}if(n!==t){let e=0;switch(n){case"%":e=25;break;case"deg":e=90}if(e){let r=parseFloat(t.slice(0,t.length-n.length));return isNaN(r)?0:(r/=e,r%1==0?o(r):0)}}return e}(n("rotate","")),o=e,n("flip","").split(C).forEach((t=>{switch(t.trim()){case"horizontal":o.hFlip=!0;break;case"vertical":o.vFlip=!0}})),e.preserveAspectRatio=n("preserveAspectRatio",n("preserveaspectratio","")),e}const _=/^[a-z0-9]+(-[a-z0-9]+)*$/,L=(t,e,n,o="")=>{const r=t.split(":");if("@"===t.slice(0,1)){if(r.length<2||r.length>3)return null;o=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const t=r.pop(),n=r.pop(),i={provider:r.length>0?r[0]:o,prefix:n,name:t};return e&&!A(i)?null:i}const i=r[0],c=i.split("-");if(c.length>1){const t={provider:o,prefix:c.shift(),name:c.join("-")};return e&&!A(t)?null:t}if(n&&""===o){const t={provider:o,prefix:"",name:i};return e&&!A(t,n)?null:t}return null},A=(t,e)=>!!t&&!(""!==t.provider&&!t.provider.match(_)||!(e&&""===t.prefix||t.prefix.match(_))||!t.name.match(_));function O(t,e){const n=function(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const o=((t.rotate||0)+(e.rotate||0))%4;return o&&(n.rotate=o),n}(t,e);for(const o in x)o in E?o in t&&!(o in n)&&(n[o]=E[o]):o in e?n[o]=e[o]:o in t&&(n[o]=t[o]);return n}function D(t,e,n){const o=t.icons,r=t.aliases||Object.create(null);let i={};function c(t){i=O(o[t]||r[t],i)}return c(e),n.forEach(c),O(t,i)}function M(t,e){const n=[];if("object"!=typeof t||"object"!=typeof t.icons)return n;t.not_found instanceof Array&&t.not_found.forEach((t=>{e(t,null),n.push(t)}));const o=function(t,e){const n=t.icons,o=t.aliases||Object.create(null),r=Object.create(null);return Object.keys(n).concat(Object.keys(o)).forEach((function t(e){if(n[e])return r[e]=[];if(!(e in r)){r[e]=null;const n=o[e]&&o[e].parent,i=n&&t(n);i&&(r[e]=[n].concat(i))}return r[e]})),r}(t);for(const r in o){const i=o[r];i&&(e(r,D(t,r,i)),n.push(r))}return n}const P={provider:"",aliases:{},not_found:{},...w};function q(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function B(t){if("object"!=typeof t||null===t)return null;const e=t;if("string"!=typeof e.prefix||!t.icons||"object"!=typeof t.icons)return null;if(!q(t,P))return null;const n=e.icons;for(const t in n){const e=n[t];if(!t.match(_)||"string"!=typeof e.body||!q(e,x))return null}const o=e.aliases||Object.create(null);for(const t in o){const e=o[t],r=e.parent;if(!t.match(_)||"string"!=typeof r||!n[r]&&!o[r]||!q(e,x))return null}return e}const F=Object.create(null);function N(t,e){const n=F[t]||(F[t]=Object.create(null));return n[e]||(n[e]=function(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}(t,e))}function H(t,e){return B(e)?M(e,((e,n)=>{n?t.icons[e]=n:t.missing.add(e)})):[]}function R(t,e){let n=[];return("string"==typeof t?[t]:Object.keys(F)).forEach((t=>{("string"==typeof t&&"string"==typeof e?[e]:Object.keys(F[t]||{})).forEach((e=>{const o=N(t,e);n=n.concat(Object.keys(o.icons).map((n=>(""!==t?"@"+t+":":"")+e+":"+n)))}))})),n}let z=!1;function U(t){return"boolean"==typeof t&&(z=t),z}function Q(t){const e="string"==typeof t?L(t,!0,z):t;if(e){const t=N(e.provider,e.prefix),n=e.name;return t.icons[n]||(t.missing.has(n)?null:void 0)}}function W(t,e){const n=L(t,!0,z);return!!n&&function(t,e,n){try{if("string"==typeof n.body)return t.icons[e]={...n},!0}catch(t){}return!1}(N(n.provider,n.prefix),n.name,e)}function J(t,e){if("object"!=typeof t)return!1;if("string"!=typeof e&&(e=t.provider||""),z&&!e&&!t.prefix){let e=!1;return B(t)&&(t.prefix="",M(t,((t,n)=>{n&&W(t,n)&&(e=!0)}))),e}const n=t.prefix;return!!A({provider:e,prefix:n,name:"a"})&&!!H(N(e,n),t)}function $(t){return!!Q(t)}function G(t){const e=Q(t);return e?{...k,...e}:null}function V(t,e){t.forEach((t=>{const n=t.loaderCallbacks;n&&(t.loaderCallbacks=n.filter((t=>t.id!==e)))}))}let Z=0;const K=Object.create(null);function X(t,e){K[t]=e}function Y(t){return K[t]||K[""]}var tt={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function et(t){const e={...tt,...t};let n=[];function o(){n=n.filter((t=>"pending"===t().status))}return{query:function(t,r,i){const c=function(t,e,n,o){const r=t.resources.length,i=t.random?Math.floor(Math.random()*r):t.index;let c;if(t.random){let e=t.resources.slice(0);for(c=[];e.length>1;){const t=Math.floor(Math.random()*e.length);c.push(e[t]),e=e.slice(0,t).concat(e.slice(t+1))}c=c.concat(e)}else c=t.resources.slice(i).concat(t.resources.slice(0,i));const a=Date.now();let s,l="pending",d=0,u=null,f=[],p=[];function h(){u&&(clearTimeout(u),u=null)}function g(){"pending"===l&&(l="aborted"),h(),f.forEach((t=>{"pending"===t.status&&(t.status="aborted")})),f=[]}function y(t,e){e&&(p=[]),"function"==typeof t&&p.push(t)}function m(){l="failed",p.forEach((t=>{t(void 0,s)}))}function v(){f.forEach((t=>{"pending"===t.status&&(t.status="aborted")})),f=[]}return"function"==typeof o&&p.push(o),setTimeout((function o(){if("pending"!==l)return;h();const r=c.shift();if(void 0===r)return f.length?void(u=setTimeout((()=>{h(),"pending"===l&&(v(),m())}),t.timeout)):void m();const i={status:"pending",resource:r,callback:(e,n)=>{!function(e,n,r){const i="success"!==n;switch(f=f.filter((t=>t!==e)),l){case"pending":break;case"failed":if(i||!t.dataAfterTimeout)return;break;default:return}if("abort"===n)return s=r,void m();if(i)return s=r,void(f.length||(c.length?o():m()));if(h(),v(),!t.random){const n=t.resources.indexOf(e.resource);-1!==n&&n!==t.index&&(t.index=n)}l="completed",p.forEach((t=>{t(r)}))}(i,e,n)}};f.push(i),d++,u=setTimeout(o,t.rotate),n(r,e,i.callback)})),function(){return{startTime:a,payload:e,status:l,queriesSent:d,queriesPending:f.length,subscribe:y,abort:g}}}(e,t,r,((t,e)=>{o(),i&&i(t,e)}));return n.push(c),c},find:function(t){return n.find((e=>t(e)))||null},setIndex:t=>{e.index=t},getIndex:()=>e.index,cleanup:o}}function nt(t){let e;if("string"==typeof t.resources)e=[t.resources];else if(e=t.resources,!(e instanceof Array&&e.length))return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:!0===t.random,index:t.index||0,dataAfterTimeout:!1!==t.dataAfterTimeout}}const ot=Object.create(null),rt=["https://api.simplesvg.com","https://api.unisvg.com"],it=[];for(;rt.length>0;)1===rt.length||Math.random()>.5?it.push(rt.shift()):it.push(rt.pop());function ct(t,e){const n=nt(e);return null!==n&&(ot[t]=n,!0)}function at(t){return ot[t]}function st(){return Object.keys(ot)}function lt(){}ot[""]=nt({resources:["https://api.iconify.design"].concat(it)});const dt=Object.create(null);function ut(t,e,n){let o,r;if("string"==typeof t){const e=Y(t);if(!e)return n(void 0,424),lt;r=e.send;const i=function(t){if(!dt[t]){const e=at(t);if(!e)return;const n={config:e,redundancy:et(e)};dt[t]=n}return dt[t]}(t);i&&(o=i.redundancy)}else{const e=nt(t);if(e){o=et(e);const n=Y(t.resources?t.resources[0]:"");n&&(r=n.send)}}return o&&r?o.query(e,r,n)().abort:(n(void 0,424),lt)}const ft="iconify2",pt="iconify",ht=pt+"-count",gt=pt+"-version",yt=36e5,mt=168;function vt(t,e){try{return t.getItem(e)}catch(t){}}function bt(t,e,n){try{return t.setItem(e,n),!0}catch(t){}}function wt(t,e){try{t.removeItem(e)}catch(t){}}function Et(t,e){return bt(t,ht,e.toString())}function kt(t){return parseInt(vt(t,ht))||0}const xt={local:!0,session:!0},St={local:new Set,session:new Set};let It=!1,Ct="undefined"==typeof window?{}:window;function jt(t){const e=t+"Storage";try{if(Ct&&Ct[e]&&"number"==typeof Ct[e].length)return Ct[e]}catch(t){}xt[t]=!1}function Tt(t,e){const n=jt(t);if(!n)return;const o=vt(n,gt);if(o!==ft){if(o){const t=kt(n);for(let e=0;e<t;e++)wt(n,pt+e.toString())}return bt(n,gt,ft),void Et(n,0)}const r=Math.floor(Date.now()/yt)-mt,i=t=>{const o=pt+t.toString(),i=vt(n,o);if("string"==typeof i){try{const n=JSON.parse(i);if("object"==typeof n&&"number"==typeof n.cached&&n.cached>r&&"string"==typeof n.provider&&"object"==typeof n.data&&"string"==typeof n.data.prefix&&e(n,t))return!0}catch(t){}wt(n,o)}};let c=kt(n);for(let e=c-1;e>=0;e--)i(e)||(e===c-1?(c--,Et(n,c)):St[t].add(e))}function _t(){if(!It){It=!0;for(const t in xt)Tt(t,(t=>{const e=t.data,n=N(t.provider,e.prefix);if(!H(n,e).length)return!1;const o=e.lastModified||-1;return n.lastModifiedCached=n.lastModifiedCached?Math.min(n.lastModifiedCached,o):o,!0}))}}function Lt(){}const At=(t,e)=>{const n=function(t,e=!0,n=!1){const o=[];return t.forEach((t=>{const r="string"==typeof t?L(t,e,n):t;r&&o.push(r)})),o}(t,!0,U()),o=function(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort(((t,e)=>t.provider!==e.provider?t.provider.localeCompare(e.provider):t.prefix!==e.prefix?t.prefix.localeCompare(e.prefix):t.name.localeCompare(e.name)));let o={provider:"",prefix:"",name:""};return t.forEach((t=>{if(o.name===t.name&&o.prefix===t.prefix&&o.provider===t.provider)return;o=t;const r=t.provider,i=t.prefix,c=t.name,a=n[r]||(n[r]=Object.create(null)),s=a[i]||(a[i]=N(r,i));let l;l=c in s.icons?e.loaded:""===i||s.missing.has(c)?e.missing:e.pending;const d={provider:r,prefix:i,name:c};l.push(d)})),e}(n);if(!o.pending.length){let t=!0;return e&&setTimeout((()=>{t&&e(o.loaded,o.missing,o.pending,Lt)})),()=>{t=!1}}const r=Object.create(null),i=[];let c,a;return o.pending.forEach((t=>{const{provider:e,prefix:n}=t;if(n===a&&e===c)return;c=e,a=n,i.push(N(e,n));const o=r[e]||(r[e]=Object.create(null));o[n]||(o[n]=[])})),o.pending.forEach((t=>{const{provider:e,prefix:n,name:o}=t,i=N(e,n),c=i.pendingIcons||(i.pendingIcons=new Set);c.has(o)||(c.add(o),r[e][n].push(o))})),i.forEach((t=>{const{provider:e,prefix:n}=t;r[e][n].length&&function(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout((()=>{t.iconsQueueFlag=!1;const{provider:e,prefix:n}=t,o=t.iconsToLoad;let r;delete t.iconsToLoad,o&&(r=Y(e))&&r.prepare(e,n,o).forEach((n=>{ut(e,n,(e=>{if("object"!=typeof e)n.icons.forEach((e=>{t.missing.add(e)}));else try{const n=H(t,e);if(!n.length)return;const o=t.pendingIcons;o&&n.forEach((t=>{o.delete(t)})),function(t,e){function n(n){let o;if(!xt[n]||!(o=jt(n)))return;const r=St[n];let i;if(r.size)r.delete(i=Array.from(r).shift());else if(i=kt(o),!Et(o,i+1))return;const c={cached:Math.floor(Date.now()/yt),provider:t.provider,data:e};return bt(o,pt+i.toString(),JSON.stringify(c))}It||_t(),e.lastModified&&!function(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const n in xt)Tt(n,(n=>{const o=n.data;return n.provider!==t.provider||o.prefix!==t.prefix||o.lastModified===e}));return!0}(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&delete(e=Object.assign({},e)).not_found,n("local")||n("session"))}(t,e)}catch(t){console.error(t)}!function(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout((()=>{t.iconsLoaderFlag=!1,function(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout((()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const o=t.provider,r=t.prefix;e.forEach((e=>{const i=e.icons,c=i.pending.length;i.pending=i.pending.filter((e=>{if(e.prefix!==r)return!0;const c=e.name;if(t.icons[c])i.loaded.push({provider:o,prefix:r,name:c});else{if(!t.missing.has(c))return n=!0,!0;i.missing.push({provider:o,prefix:r,name:c})}return!1})),i.pending.length!==c&&(n||V([t],e.id),e.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),e.abort))}))})))}(t)})))}(t)}))}))})))}(t,r[e][n])})),e?function(t,e,n){const o=Z++,r=V.bind(null,n,o);if(!e.pending.length)return r;const i={id:o,icons:e,callback:t,abort:r};return n.forEach((t=>{(t.loaderCallbacks||(t.loaderCallbacks=[])).push(i)})),r}(e,o,i):Lt},Ot=t=>new Promise(((e,n)=>{const o="string"==typeof t?L(t,!0):t;o?At([o||t],(r=>{if(r.length&&o){const t=Q(o);if(t)return void e({...k,...t})}n(t)})):n(t)}));function Dt(t){return t.hasAttribute("inline")}let Mt=!1;try{Mt=0===navigator.vendor.indexOf("Apple")}catch(t){}const Pt=/(-?[0-9.]*[0-9]+[0-9.]*)/g,qt=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Bt(t,e,n){if(1===e)return t;if(n=n||100,"number"==typeof t)return Math.ceil(t*e*n)/n;if("string"!=typeof t)return t;const o=t.split(Pt);if(null===o||!o.length)return t;const r=[];let i=o.shift(),c=qt.test(i);for(;;){if(c){const t=parseFloat(i);isNaN(t)?r.push(i):r.push(Math.ceil(t*e*n)/n)}else r.push(i);if(i=o.shift(),void 0===i)return r.join("");c=!c}}const Ft=t=>"unset"===t||"undefined"===t||"none"===t;function Nt(t,e){const n={...k,...t},o={...I,...e},r={left:n.left,top:n.top,width:n.width,height:n.height};let i=n.body;[n,o].forEach((t=>{const e=[],n=t.hFlip,o=t.vFlip;let c,a=t.rotate;switch(n?o?a+=2:(e.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),e.push("scale(-1 1)"),r.top=r.left=0):o&&(e.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),e.push("scale(1 -1)"),r.top=r.left=0),a<0&&(a-=4*Math.floor(a/4)),a%=4,a){case 1:c=r.height/2+r.top,e.unshift("rotate(90 "+c.toString()+" "+c.toString()+")");break;case 2:e.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:c=r.width/2+r.left,e.unshift("rotate(-90 "+c.toString()+" "+c.toString()+")")}a%2==1&&(r.left!==r.top&&(c=r.left,r.left=r.top,r.top=c),r.width!==r.height&&(c=r.width,r.width=r.height,r.height=c)),e.length&&(i='<g transform="'+e.join(" ")+'">'+i+"</g>")}));const c=o.width,a=o.height,s=r.width,l=r.height;let d,u;null===c?(u=null===a?"1em":"auto"===a?l:a,d=Bt(u,s/l)):(d="auto"===c?s:c,u=null===a?Bt(d,l/s):"auto"===a?l:a);const f={},p=(t,e)=>{Ft(e)||(f[t]=e.toString())};return p("width",d),p("height",u),f.viewBox=r.left.toString()+" "+r.top.toString()+" "+s.toString()+" "+l.toString(),{attributes:f,body:i}}let Ht=(()=>{let t;try{if(t=fetch,"function"==typeof t)return t}catch(t){}})();function Rt(t){Ht=t}function zt(){return Ht}const Ut={prepare:(t,e,n)=>{const o=[],r=function(t,e){const n=at(t);if(!n)return 0;let o;if(n.maxURL){let t=0;n.resources.forEach((e=>{const n=e;t=Math.max(t,n.length)}));const r=e+".json?icons=";o=n.maxURL-t-n.path.length-r.length}else o=0;return o}(t,e),i="icons";let c={type:i,provider:t,prefix:e,icons:[]},a=0;return n.forEach(((n,s)=>{a+=n.length+1,a>=r&&s>0&&(o.push(c),c={type:i,provider:t,prefix:e,icons:[]},a=n.length),c.icons.push(n)})),o.push(c),o},send:(t,e,n)=>{if(!Ht)return void n("abort",424);let o=function(t){if("string"==typeof t){const e=at(t);if(e)return e.path}return"/"}(e.provider);switch(e.type){case"icons":{const t=e.prefix,n=e.icons.join(",");o+=t+".json?"+new URLSearchParams({icons:n}).toString();break}case"custom":{const t=e.uri;o+="/"===t.slice(0,1)?t.slice(1):t;break}default:return void n("abort",400)}let r=503;Ht(t+o).then((t=>{const e=t.status;if(200===e)return r=501,t.json();setTimeout((()=>{n(function(t){return 404===t}(e)?"abort":"next",e)}))})).then((t=>{"object"==typeof t&&null!==t?setTimeout((()=>{n("success",t)})):setTimeout((()=>{404===t?n("abort",t):n("next",r)}))})).catch((()=>{n("next",r)}))}};function Qt(t,e){switch(t){case"local":case"session":xt[t]=e;break;case"all":for(const t in xt)xt[t]=e}}const Wt="data-style";let Jt="";function $t(t){Jt=t}function Gt(t,e){let n=Array.from(t.childNodes).find((t=>t.hasAttribute&&t.hasAttribute(Wt)));n||(n=document.createElement("style"),n.setAttribute(Wt,Wt),t.appendChild(n)),n.textContent=":host{display:inline-block;vertical-align:"+(e?"-0.125em":"0")+"}span,svg{display:block}"+Jt}function Vt(){let t;X("",Ut),U(!0);try{t=window}catch(t){}if(t){if(_t(),void 0!==t.IconifyPreload){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";"object"==typeof e&&null!==e&&(e instanceof Array?e:[e]).forEach((t=>{try{("object"!=typeof t||null===t||t instanceof Array||"object"!=typeof t.icons||"string"!=typeof t.prefix||!J(t))&&console.error(n)}catch(t){console.error(n)}}))}if(void 0!==t.IconifyProviders){const e=t.IconifyProviders;if("object"==typeof e&&null!==e)for(const t in e){const n="IconifyProviders["+t+"] is invalid.";try{const o=e[t];if("object"!=typeof o||!o||void 0===o.resources)continue;ct(t,o)||console.error(n)}catch(t){console.error(n)}}}}return{enableCache:t=>Qt(t,!0),disableCache:t=>Qt(t,!1),iconExists:$,getIcon:G,listIcons:R,addIcon:W,addCollection:J,calculateSize:Bt,buildIcon:Nt,loadIcons:At,loadIcon:Ot,addAPIProvider:ct,appendCustomStyle:$t,_api:{getAPIConfig:at,setAPIModule:X,sendAPIQuery:ut,setFetch:Rt,getFetch:zt,listAPIProviders:st}}}function Zt(t,e){let n=-1===t.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const t in e)n+=" "+t+'="'+e[t]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}const Kt={"background-color":"currentColor"},Xt={"background-color":"transparent"},Yt={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},te={"-webkit-mask":Kt,mask:Kt,background:Xt};for(const t in te){const e=te[t];for(const n in Yt)e[t+"-"+n]=Yt[n]}function ee(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}function ne(t,e){const n=e.icon.data,o=e.customisations,r=Nt(n,o);o.preserveAspectRatio&&(r.attributes.preserveAspectRatio=o.preserveAspectRatio);const i=e.renderedMode;let c;c="svg"===i?function(t){const e=document.createElement("span");return e.innerHTML=Zt(t.body,t.attributes),e.firstChild}(r):function(t,e,n){const o=document.createElement("span");let r=t.body;-1!==r.indexOf("<a")&&(r+="\x3c!-- "+Date.now()+" --\x3e");const i=t.attributes,c='url("data:image/svg+xml,'+(Zt(r,{...i,width:e.width+"",height:e.height+""}).replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")+'")'),a=o.style,s={"--svg":c,width:ee(i.width),height:ee(i.height),...n?Kt:Xt};for(const t in s)a.setProperty(t,s[t]);return o}(r,{...k,...n},"mask"===i);const a=Array.from(t.childNodes).find((t=>{const e=t.tagName&&t.tagName.toUpperCase();return"SPAN"===e||"SVG"===e}));a?"SPAN"===c.tagName&&a.tagName===c.tagName?a.setAttribute("style",c.getAttribute("style")):t.replaceChild(c,a):t.appendChild(c)}function oe(t,e,n){return{rendered:!1,inline:e,icon:t,lastRender:n&&(n.rendered?n:n.lastRender)}}const re=function(t="iconify-icon"){let e,n;try{e=window.customElements,n=window.HTMLElement}catch(t){return}if(!e||!n)return;const o=e.get(t);if(o)return o;const r=["icon","mode","inline","width","height","rotate","flip"],i=class extends n{_shadowRoot;_state;_checkQueued=!1;constructor(){super();const t=this._shadowRoot=this.attachShadow({mode:"open"}),e=Dt(this);Gt(t,e),this._state=oe({value:""},e),this._queueCheck()}static get observedAttributes(){return r.slice(0)}attributeChangedCallback(t){if("inline"===t){const t=Dt(this),e=this._state;t!==e.inline&&(e.inline=t,Gt(this._shadowRoot,t))}else this._queueCheck()}get icon(){const t=this.getAttribute("icon");if(t&&"{"===t.slice(0,1))try{return JSON.parse(t)}catch(t){}return t}set icon(t){"object"==typeof t&&(t=JSON.stringify(t)),this.setAttribute("icon",t)}get inline(){return Dt(this)}set inline(t){t?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const t=this._state;if(t.rendered){const e=this._shadowRoot;if("svg"===t.renderedMode)try{return void e.lastChild.setCurrentTime(0)}catch(t){}ne(e,t)}}get status(){const t=this._state;return t.rendered?"rendered":null===t.icon.data?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout((()=>{this._check()})))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const t=this._state,e=this.getAttribute("icon");if(e!==t.icon.value)return void this._iconChanged(e);if(!t.rendered)return;const n=this.getAttribute("mode"),o=T(this);(t.attrMode!==n||function(t,e){for(const n in j)if(t[n]!==e[n])return!0;return!1}(t.customisations,o))&&this._renderIcon(t.icon,o,n)}_iconChanged(t){const e=function(t,e){const n="string"==typeof t?L(t,!0,!0):null;if(!n){const e=function(t){try{const e="string"==typeof t?JSON.parse(t):t;if("string"==typeof e.body)return{...e}}catch(t){}}(t);return{value:t,data:e}}const o=Q(n);if(void 0!==o||!n.prefix)return{value:t,name:n,data:o};const r=At([n],(()=>e(t,n,Q(n))));return{value:t,name:n,loading:r}}(t,((t,e,n)=>{const o=this._state;if(o.rendered||this.getAttribute("icon")!==t)return;const r={value:t,name:e,data:n};r.data?this._gotIconData(r):o.icon=r}));e.data?this._gotIconData(e):this._state=oe(e,this._state.inline,this._state)}_gotIconData(t){this._checkQueued=!1,this._renderIcon(t,T(this),this.getAttribute("mode"))}_renderIcon(t,e,n){const o=function(t,e){switch(e){case"svg":case"bg":case"mask":return e}return"style"===e||!Mt&&-1!==t.indexOf("<a")?-1===t.indexOf("currentColor")?"bg":"mask":"svg"}(t.data.body,n),r=this._state.inline;ne(this._shadowRoot,this._state={rendered:!0,icon:t,inline:r,customisations:e,attrMode:n,renderedMode:o})}};r.forEach((t=>{t in i.prototype||Object.defineProperty(i.prototype,t,{get:function(){return this.getAttribute(t)},set:function(e){this.setAttribute(t,e)}})}));const c=Vt();for(const t in c)i[t]=i.prototype[t]=c[t];return e.define(t,i),i}()||Vt(),{enableCache:ie,disableCache:ce,iconExists:ae,getIcon:se,listIcons:le,addIcon:de,addCollection:ue,calculateSize:fe,buildIcon:pe,loadIcons:he,loadIcon:ge,addAPIProvider:ye,_api:me}=re;function ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var be="iconify-icon",we="Home",Ee='<i class="empty">No todo yet in this category. Empty categories will be deleted after refresh (except home).</i>',ke=function(){function t(t){var e=document.createElement("div");e.classList.add("todo",t.priority),e.setAttribute("data-id",t.id),e.setAttribute("aria-role","button");var n=document.createElement("div");n.classList.add("left_section");var o=document.createElement("button");o.classList.add("checkbox"),t.checked&&o.classList.add("checked");var r=document.createElement("p");r.textContent=t.title,n.append(o,r),e.addEventListener("click",(function(){o.click()})),o.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.toggleDone(),e.target.classList.toggle("checked")}));var i=document.createElement("div");i.classList.add("right_section");var c=document.createElement("button");c.classList.add("detail_button"),c.textContent="DETAILS",c.addEventListener("click",(function(t){t.stopPropagation();var e=document.getElementById("categories_container").dataset.selected,n=t.target.parentElement.parentElement.dataset.id;!function(t,e){var n=function(t,e){var n=document.createElement("div");n.classList.add("detail_modal"),n.id="detail_modal";var o=document.createElement("div");o.classList.add("detail_header");var r=document.createElement("h3");r.textContent=t.title;var i=document.createElement("button");i.textContent="x",i.addEventListener("click",(function(){document.getElementById("overlay").classList.add("hidden")})),o.append(r,i);var c,a=document.createElement("p");a.textContent="Category: ".concat((c=e).charAt(0).toUpperCase()+c.slice(1));var s=document.createElement("p");s.textContent="Priority: ".concat(t.priority);var l=document.createElement("p");l.textContent="Date: ".concat(t.dueDate.toLocaleDateString());var d=document.createElement("p");return d.textContent="Description: ".concat(t.description),n.append(o,a,s,l,d),n}(t,e),o=document.getElementById("overlay");o.innerHTML="",o.appendChild(n),o.classList.remove("hidden")}(b.getTodo(n,e),e)}));var a=document.createElement("p");a.textContent=t.dueDate.toLocaleDateString("en-us",{month:"short",day:"numeric"});var s=document.createElement("button");s.classList.add("icon_button");var d=document.createElement(be);d.setAttribute("icon","mdi:square-edit-outline"),d.setAttribute("height","24px"),d.setAttribute("width","24px"),d.style.verticalAlign="middle",s.appendChild(d),s.addEventListener("click",(function(e){e.stopPropagation(),function(t){var e=t.dueDate.toISOString().split("T")[0].replace("/","-"),n='\n      <div class="modal" id="add_modal">\n        <form>\n          <div class="form-control">\n            <label for="title">Title</label>\n            <input\n              required\n              type="text"\n              name="title"\n              id="title"\n              value="'.concat(t.title,'"\n              placeholder="Work on my thesis"\n            />\n          </div>\n          <div class="form-control">\n            <label for="description">Description</label>\n            <textarea\n              required\n              name="description"\n              id="description"\n              cols="30"\n              rows="7"\n              placeholder="Work on my thesis instead of doing this project. Help mee!!"\n            >\n').concat(t.description,'</textarea\n            >\n          </div>\n          <div class="form-control">\n            <label for="date">Due Date</label>\n            <input required value="').concat(e,'" type="date" name="date" id="date" />\n          </div>\n          <fieldset>\n            <legend>Priority</legend>\n            <div class="priorities">\n              <div class="priority_control low">\n                <input\n                  required\n                  ').concat("low"===t.priority?"checked":null,'\n                  type="radio"\n                  name="priority"\n                  id="low"\n                  value="low"\n                />\n                <label for="low">LOW</label>\n              </div>\n              <div class="priority_control medium">\n                <input\n                  ').concat("medium"===t.priority?"checked":null,'\n                  type="radio"\n                  name="priority"\n                  id="medium"\n                  value="medium"\n                />\n                <label for="medium">MEDIUM</label>\n              </div>\n              <div class="priority_control high">\n                <input\n                  ').concat("high"===t.priority?"checked":null,'\n                  type="radio"\n                  name="priority"\n                  id="high"\n                  value="high"\n                />\n                <label for="high">HIGH</label>\n              </div>\n            </div>\n          </fieldset>\n          <button id="editTodoButton" type="submit">Edit Todo</button>\n        </form>\n      </div>\n    '),o=(new DOMParser).parseFromString(n,"text/html").body.firstChild,r=document.getElementById("overlay");r.innerHTML="",r.classList.remove("hidden"),r.appendChild(o);var i=o.querySelector("form");i.addEventListener("submit",(function(e){e.preventDefault();var n=p.getInstance(),o=document.getElementById("categories_container").dataset.selected,r=i.querySelector('input[type="text"]#title').value,c=i.querySelector("textarea#description").value,a=i.querySelector('input[type="date"]#date').value,s=new Date(a),d=i.querySelector('input[type="radio"][name="priority"]:checked').value;if(d){var u=new l({title:r,description:c,dueDate:s,priority:d,id:t.id});n.triggerEvent("editTodo",{category:o,todo:u}),document.querySelector("#overlay").classList.add("hidden")}}))}(t)}));var u=document.createElement("button");u.classList.add("icon_button");var f=document.createElement(be);return f.setAttribute("icon","mdi:trash-can"),f.setAttribute("height","24px"),f.setAttribute("width","24px"),f.style.verticalAlign="middle",u.appendChild(f),u.addEventListener("click",(function(e){e.stopPropagation();var n=document.getElementById("categories_container").dataset.selected;p.getInstance().triggerEvent("deleteTodo",{category:n,todo:t})})),i.append(c,a,s,u),e.append(n,i),e}function e(e){var n=document.getElementById("todos_container");n.innerHTML="";var o=b.getTodosByCategory(e);o&&0!==o.length?o.forEach((function(e){var o=t(e);n.appendChild(o)})):n.innerHTML=Ee}function n(e){var n=document.getElementById("todos_container");n.innerHTML===Ee&&(n.innerHTML="");var o=t(e);n.appendChild(o)}function o(t){var e=p.getInstance(),n=document.createElement("li"),o=document.createElement("button");return o.dataset.category=t,o.innerText=t,o.addEventListener("click",(function(){e.triggerEvent("changeTab",{category:t})})),o.classList.add("category_button"),n.appendChild(o),n}function r(t){var e,n=document.getElementById("categories");if(t&&0!==t.length){var r=o(we);r.classList.add("active"),console.log(r.classList.contains("active")),n.innerHTML="",n.appendChild(r);var i,c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ve(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){a=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}(t);try{for(c.s();!(i=c.n()).done;){var a=i.value;a!==we&&(e=o(a),document.getElementById("categories").appendChild(e))}}catch(t){c.e(t)}finally{c.f()}}}return{subscribeToPublisher:function(){var t=p.getInstance(),o=document.getElementById("categories_container");t.subscribe("addTodo",(function(t){n(t.todo)})),t.subscribe("loadTodo",(function(t){o.dataset.selected===t.category&&n(t.todo)})),t.subscribe("loadCategories",(function(t){r(t.categories)})),t.subscribe("changeTab",(function(t){document.querySelector("nav ul#categories li.active").classList.remove("active"),o.setAttribute("data-selected",t.category),document.querySelector('.category_button[data-category="'.concat(t.category,'"]')).parentNode.classList.add("active"),e(t.category)})),t.subscribe("editTodo",(function(t){var e=document.querySelector('div[data-id="'.concat(t.todo.id,'"]'));e.querySelector(".left_section > p").textContent=t.todo.title,e.querySelector(".right_section > p").textContent=t.todo.dueDate.toLocaleDateString("en-us",{month:"short",day:"numeric"}),e.className="todo ".concat(t.todo.priority)})),t.subscribe("deleteTodo",(function(t){e(t.category)})),t.subscribe("reloadCategories",(function(t){r(t.categories)}))},initializeDomEvents:function(){var t=p.getInstance();document.querySelectorAll(".category_button").forEach((function(e){e.addEventListener("click",(function(e){var n=e.target.dataset.category;t.triggerEvent("changeTab",{category:n})}))})),document.getElementById("fab").addEventListener("click",(function(){var t,e=document.getElementById("overlay");e.classList.contains("hidden")&&(e.innerHTML="",e.appendChild(((t=(new DOMParser).parseFromString('\n      <div class="modal" id="add_modal">\n        <form>\n          <div class="form-control">\n            <label for="title">Title</label>\n            <input\n              required="true"\n              type="text"\n              name="title"\n              id="title"\n              placeholder="Mr.Fitz Homework"\n            />\n          </div>\n          <div class="form-control">\n            <label for="description">Description</label>\n            <textarea\n              required="true"\n              name="description"\n              id="description"\n              cols="30"\n              rows="7"\n              placeholder="Do Mr.Fitz biology homework before March 29th."\n            ></textarea>\n          </div>\n          <div class="form-control">\n            <label for="date">Due Date</label>\n            <input required="true" type="date" name="date" id="date" />\n          </div>\n          <fieldset>\n            <legend>Priority</legend>\n            <div class="priorities">\n              <div class="priority_control low">\n                <input\n                  required="true"\n                  type="radio"\n                  name="priority"\n                  id="low"\n                  value="low"\n                />\n                <label for="low">LOW</label>\n              </div>\n              <div class="priority_control medium">\n                <input\n                  type="radio"\n                  name="priority"\n                  id="medium"\n                  value="medium"\n                />\n                <label for="medium">MEDIUM</label>\n              </div>\n              <div class="priority_control high">\n                <input type="radio" name="priority" id="high" value="high" />\n                <label for="high">HIGH</label>\n              </div>\n            </div>\n          </fieldset>\n          <button id="addTodoButton" type="submit">Add Todo</button>\n        </form>\n      </div>\n    ',"text/html").body.firstChild).querySelector("form").addEventListener("submit",(function(t){t.preventDefault();var e=p.getInstance(),n=document.getElementById("categories_container").dataset.selected,o=document.querySelector('input[type="text"]#title').value,r=document.querySelector("textarea#description").value,i=document.querySelector('input[type="date"]#date').value,c=new Date(i),a=document.querySelector('input[type="radio"][name="priority"]:checked').value;if(a){var s=new l({title:o,description:r,dueDate:c,priority:a});e.triggerEvent("addTodo",{category:n,todo:s}),document.querySelector("#overlay").classList.add("hidden")}})),t)),e.classList.remove("hidden"))}));var e=document.getElementById("overlay");e.addEventListener("click",(function(t){t.stopPropagation(),t.target.classList.contains("overlay")&&e.classList.add("hidden")}));var n=document.getElementById("add_category__form"),o=document.getElementById("add-category");o.addEventListener("click",(function(t){t.preventDefault(),t.target.classList.add("hidden"),n.classList.remove("hidden")})),document.getElementById("submit_category").addEventListener("click",(function(e){e.preventDefault();var r=document.getElementById("category_input");""!==r.value?(t.triggerEvent("addCategory",{category:r.value}),o.classList.remove("hidden"),n.classList.add("hidden")):alert("Category text can't be empty!")})),document.getElementById("cancel_submit").addEventListener("click",(function(){n.classList.add("hidden"),o.classList.remove("hidden")}))}}}();const xe=ke;function Se(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var Ie=p.getInstance();b.subscribeToPublisher(),xe.subscribeToPublisher(),xe.initializeDomEvents(),document.addEventListener("DOMContentLoaded",(function(){var t,e=Object.keys(localStorage).filter((function(t){return t.startsWith("todo-")})),n=new Set,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Se(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){a=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}(e);try{for(o.s();!(t=o.n()).done;){var r=t.value,i=JSON.parse(localStorage.getItem(r));n.add(i.category);var c=new l({id:r.substring(5),title:i.title,description:i.description,dueDate:new Date(i.dueDate),priority:i.priority,checked:i.checked});Ie.triggerEvent("loadTodo",{todo:c,category:i.category})}}catch(t){o.e(t)}finally{o.f()}Ie.triggerEvent("loadCategories",{categories:n}),Ie.triggerEvent("changeTab",{category:"Home"})})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&document.getElementById("overlay").classList.add("hidden")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSXNhLEVBQVEvaUIsVUFFeEIsSUFBTU8sRUFBTyxJQUFJMUIsRUFBSyxDQUNwQkosR0FBSXdGLEVBQUkrZSxVQUFVLEdBQ2xCbGtCLE1BQU9pa0IsRUFBUWprQixNQUNmQyxZQUFhZ2tCLEVBQVFoa0IsWUFDckJDLFFBQVMsSUFBSXdELEtBQUt1Z0IsRUFBUS9qQixTQUMxQkMsU0FBVThqQixFQUFROWpCLFNBQ2xCQyxRQUFTNmpCLEVBQVE3akIsVUFHbkJrQyxHQUFpQlMsYUFBYSxXQUFZLENBQ3hDdEIsS0FBQUEsRUFDQVAsU0FBVStpQixFQUFRL2lCLFVBRXRCLENBQUMsK0JBRURvQixHQUFpQlMsYUFBYSxpQkFBa0IsQ0FDOUNDLFdBQVlnaEIsSUFJZDFoQixHQUFpQlMsYUFBYSxZQUFhLENBQUU3QixTQUFVLFFBQ3pELElBRUEyWCxTQUFTMEcsaUJBQWlCLFdBQVcsU0FBQ2xHLEdBQ3RCLFdBQVZBLEVBQUVsVSxLQUNZMFQsU0FBU21ILGVBQWUsV0FDaENiLFVBQVV4VixJQUFJLFNBRTFCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9ub2RlX21vZHVsZXMvbmFub2lkL2luZGV4LmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL21vZGVsL1RvZG8uanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL3V0aWxzL0V2ZW50TWFuYWdlci5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvdG9kb3MvdG9kb01vZGVsLmpzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL25vZGVfbW9kdWxlcy9pY29uaWZ5LWljb24vZGlzdC9pY29uaWZ5LWljb24ubWpzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy90b2Rvcy90b2RvVmlldy5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgdXJsQWxwaGFiZXQgfSBmcm9tICcuL3VybC1hbHBoYWJldC9pbmRleC5qcydcbmV4cG9ydCBsZXQgcmFuZG9tID0gYnl0ZXMgPT4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShieXRlcykpXG5leHBvcnQgbGV0IGN1c3RvbVJhbmRvbSA9IChhbHBoYWJldCwgZGVmYXVsdFNpemUsIGdldFJhbmRvbSkgPT4ge1xuICBsZXQgbWFzayA9ICgyIDw8IChNYXRoLmxvZyhhbHBoYWJldC5sZW5ndGggLSAxKSAvIE1hdGguTE4yKSkgLSAxXG4gIGxldCBzdGVwID0gLX4oKDEuNiAqIG1hc2sgKiBkZWZhdWx0U2l6ZSkgLyBhbHBoYWJldC5sZW5ndGgpXG4gIHJldHVybiAoc2l6ZSA9IGRlZmF1bHRTaXplKSA9PiB7XG4gICAgbGV0IGlkID0gJydcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbGV0IGJ5dGVzID0gZ2V0UmFuZG9tKHN0ZXApXG4gICAgICBsZXQgaiA9IHN0ZXBcbiAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgaWQgKz0gYWxwaGFiZXRbYnl0ZXNbal0gJiBtYXNrXSB8fCAnJ1xuICAgICAgICBpZiAoaWQubGVuZ3RoID09PSBzaXplKSByZXR1cm4gaWRcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBsZXQgY3VzdG9tQWxwaGFiZXQgPSAoYWxwaGFiZXQsIHNpemUgPSAyMSkgPT5cbiAgY3VzdG9tUmFuZG9tKGFscGhhYmV0LCBzaXplLCByYW5kb20pXG5leHBvcnQgbGV0IG5hbm9pZCA9IChzaXplID0gMjEpID0+XG4gIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpLnJlZHVjZSgoaWQsIGJ5dGUpID0+IHtcbiAgICBieXRlICY9IDYzXG4gICAgaWYgKGJ5dGUgPCAzNikge1xuICAgICAgaWQgKz0gYnl0ZS50b1N0cmluZygzNilcbiAgICB9IGVsc2UgaWYgKGJ5dGUgPCA2Mikge1xuICAgICAgaWQgKz0gKGJ5dGUgLSAyNikudG9TdHJpbmcoMzYpLnRvVXBwZXJDYXNlKClcbiAgICB9IGVsc2UgaWYgKGJ5dGUgPiA2Mikge1xuICAgICAgaWQgKz0gJy0nXG4gICAgfSBlbHNlIHtcbiAgICAgIGlkICs9ICdfJ1xuICAgIH1cbiAgICByZXR1cm4gaWRcbiAgfSwgJycpXG4iLCJpbXBvcnQgeyBuYW5vaWQgfSBmcm9tICduYW5vaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2RvIHtcbiAgI2lkO1xuICAjZHVlRGF0ZTtcbiAgY29uc3RydWN0b3IoeyB0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBpZCwgY2hlY2tlZCA9IGZhbHNlIH0pIHtcbiAgICB0aGlzLiNpZCA9IGlkIHx8IG5hbm9pZCgpO1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgdGhpcy5jaGVja2VkID0gY2hlY2tlZDtcbiAgfVxuXG4gIHRvZ2dsZURvbmUoKSB7XG4gICAgdGhpcy5jaGVja2VkID0gIXRoaXMuY2hlY2tlZDtcbiAgfVxuXG4gIHNldCBkdWVEYXRlKHZhbHVlKSB7XG4gICAgdGhpcy4jZHVlRGF0ZSA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IGR1ZURhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2R1ZURhdGU7XG4gIH1cblxuICBnZXQgaWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG59XG4iLCJjbGFzcyBFdmVudE1hbmFnZXIge1xuICBldmVudHMgPSBbXTtcblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKCFFdmVudE1hbmFnZXIuX2luc3RhbmNlKSB7XG4gICAgICBFdmVudE1hbmFnZXIuX2luc3RhbmNlID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuICAgIH1cbiAgICByZXR1cm4gRXZlbnRNYW5hZ2VyLl9pbnN0YW5jZTtcbiAgfVxuXG4gIHN1YnNjcmliZSh0eXBlLCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmV2ZW50c1t0eXBlXSkge1xuICAgICAgdGhpcy5ldmVudHNbdHlwZV0ucHVzaChjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXZlbnRzW3R5cGVdID0gW2NhbGxiYWNrXTtcbiAgICB9XG4gIH1cblxuICB0cmlnZ2VyRXZlbnQodHlwZSwgLi4uYXJncykge1xuICAgIGlmICh0aGlzLmV2ZW50c1t0eXBlXSkge1xuICAgICAgdGhpcy5ldmVudHNbdHlwZV0uZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKC4uLmFyZ3MpKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRNYW5hZ2VyO1xuIiwiaW1wb3J0IFRvZG8gZnJvbSAnLi4vbW9kZWwvVG9kby5qcyc7XG5pbXBvcnQgRXZlbnRNYW5hZ2VyIGZyb20gJy4uL3V0aWxzL0V2ZW50TWFuYWdlci5qcyc7XG5cbmNvbnN0IHRvZG9TdG9yYWdlID0gbmV3IE1hcChbXG4gIFtcbiAgICAnSG9tZScsXG4gICAgW1xuICAgICAgbmV3IFRvZG8oe1xuICAgICAgICB0aXRsZTogJ0RvIE15IEhvbWV3b3JrJyxcbiAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgJ0RvIG15IG1hdGggaG9tZXdvcmsgYnkgTXJzLiBWaWRhIGJlZm9yZSBNYXJjaCAyOHRoLCBlbHNlIHNoZSB3aWxsIGdldCBhbmdyeSA6KCcsXG4gICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgIGNoZWNrZWQ6IGZhbHNlLFxuICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZSgnMjAyMy0wMy0yOFQwMDowMDowMC4wMDBaJyksXG4gICAgICB9KSxcbiAgICAgIG5ldyBUb2RvKHtcbiAgICAgICAgdGl0bGU6ICdXYXNoIE15IERpc2hlcycsXG4gICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgIFwiV2FzaCBteSBkaXNoZXMgYmVmb3JlIGRhZCBjb21lIGJhY2sgZnJvbSB0aGUgc3VwZXJtYXJrZXQsIGhlIHNhaWQgaGUncyBidXlpbmcgc29tZSBtaWxrXCIsXG4gICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgY2hlY2tlZDogdHJ1ZSxcbiAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoJzIwMjMtMDMtMTVUMDA6MDA6MDAuMDAwWicpLFxuICAgICAgfSksXG4gICAgICBuZXcgVG9kbyh7XG4gICAgICAgIHRpdGxlOiAnQnV5IFNvbWUgTWlsaycsXG4gICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICdCdXkgbWlsayBmb3IgYSBsb25nIHBlcmlvZCBvZiB0aW1lIHdoZW4gaSBiZWNvbWUgYSBkYWQsIGp1c3QgbGlrZSBteSBkYWQnLFxuICAgICAgICBwcmlvcml0eTogJ2xvdycsXG4gICAgICAgIGNoZWNrZWQ6IGZhbHNlLFxuICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZSgnMjAyMy0xMC0yOFQwMDowMDowMC4wMDBaJyksXG4gICAgICB9KSxcbiAgICBdLFxuICBdLFxuXSk7XG5cbmNvbnN0IHRvZG9Nb2RlbCA9ICgodG9kb1N0b3JhZ2UpID0+IHtcbiAgZnVuY3Rpb24gZ2V0VG9kb3NCeUNhdGVnb3J5KGNhdGVnb3J5KSB7XG4gICAgY29uc29sZS5sb2coY2F0ZWdvcnkpO1xuXG4gICAgY29uc3QgdG9kb3MgPSB0b2RvU3RvcmFnZS5nZXQoY2F0ZWdvcnkpO1xuICAgIHJldHVybiB0b2RvcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEFsbENhdGVnb3JpZXMoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odG9kb1N0b3JhZ2Uua2V5cygpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRvZG8odG9kb0lkLCBjYXRlZ29yeSkge1xuICAgIGNvbnN0IHRvZG9zID0gZ2V0VG9kb3NCeUNhdGVnb3J5KGNhdGVnb3J5KTtcbiAgICByZXR1cm4gdG9kb3MuZmluZCgodG9kbykgPT4gdG9kby5pZCA9PT0gdG9kb0lkKTtcbiAgfVxuICBmdW5jdGlvbiBhZGRUb2RvKHsgY2F0ZWdvcnksIHRvZG8gfSkge1xuICAgIGlmICghdG9kb1N0b3JhZ2UuaGFzKGNhdGVnb3J5KSkge1xuICAgICAgdG9kb1N0b3JhZ2Uuc2V0KGNhdGVnb3J5LCBbdG9kb10pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b2RvU3RvcmFnZS5nZXQoY2F0ZWdvcnkpLnB1c2godG9kbyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkVG9Mb2NhbFN0b3JhZ2UoeyBjYXRlZ29yeSwgdG9kbyB9KSB7XG4gICAgY29uc3QgdG9kb09iaiA9IHtcbiAgICAgIC4uLnRvZG8sXG4gICAgICBkdWVEYXRlOiB0b2RvLmR1ZURhdGUsXG4gICAgICBjYXRlZ29yeSxcbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKHRvZG9PYmopO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGB0b2RvLSR7dG9kby5pZH1gLCBKU09OLnN0cmluZ2lmeSh0b2RvT2JqKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVUb2RvKHsgY2F0ZWdvcnksIHRvZG8gfSkge1xuICAgIGlmICghdG9kb1N0b3JhZ2UuaGFzKGNhdGVnb3J5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuICAgIH1cbiAgICBjb25zdCBmaWx0ZXJlZFRvZG9zID0gdG9kb1N0b3JhZ2VcbiAgICAgIC5nZXQoY2F0ZWdvcnkpXG4gICAgICAuZmlsdGVyKChleGlzdGluZ1RvZG8pID0+IGV4aXN0aW5nVG9kby5pZCAhPT0gdG9kby5pZCk7XG4gICAgdG9kb1N0b3JhZ2Uuc2V0KGNhdGVnb3J5LCBmaWx0ZXJlZFRvZG9zKTtcblxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGB0b2RvLSR7dG9kby5pZH1gKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVkaXRUb2RvKHRvZG9JZCwgY2F0ZWdvcnksIHBhcmFtcykge1xuICAgIGNvbnN0IHRvZG9zID0gdG9kb01vZGVsLmdldFRvZG9zQnlDYXRlZ29yeShjYXRlZ29yeSk7XG4gICAgY29uc3QgdG9kb1RvRWRpdCA9IHRvZG9zLmZpbmQoKHRvZG8pID0+IHRvZG8uaWQgPT09IHRvZG9JZCk7XG4gICAgdG9kb1RvRWRpdC5fZHVlRGF0ZSA9IHBhcmFtcy5kdWVEYXRlO1xuICAgIHRvZG9Ub0VkaXQudGl0bGUgPSBwYXJhbXMudGl0bGU7XG4gICAgdG9kb1RvRWRpdC5wcmlvcml0eSA9IHBhcmFtcy5wcmlvcml0eTtcbiAgICB0b2RvVG9FZGl0LmRlc2NyaXB0aW9uID0gcGFyYW1zLmRlc2NyaXB0aW9uO1xuXG4gICAgcmV0dXJuIHRvZG9Ub0VkaXQ7XG4gIH1cblxuICBmdW5jdGlvbiBzdWJzY3JpYmVUb1B1Ymxpc2hlcigpIHtcbiAgICBjb25zdCB0b2RvRXZlbnRNYW5hZ2VyID0gRXZlbnRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgdG9kb0V2ZW50TWFuYWdlci5zdWJzY3JpYmUoJ2FkZFRvZG8nLCAoeyBjYXRlZ29yeSwgdG9kbyB9KSA9PiB7XG4gICAgICBhZGRUb2RvKHsgY2F0ZWdvcnksIHRvZG8gfSk7XG4gICAgICBhZGRUb0xvY2FsU3RvcmFnZSh7IGNhdGVnb3J5LCB0b2RvIH0pO1xuICAgIH0pO1xuXG4gICAgdG9kb0V2ZW50TWFuYWdlci5zdWJzY3JpYmUoJ2RlbGV0ZVRvZG8nLCAoeyBjYXRlZ29yeSwgdG9kbyB9KSA9PiB7XG4gICAgICBkZWxldGVUb2RvKHsgY2F0ZWdvcnksIHRvZG8gfSk7XG4gICAgICBjb25zb2xlLmxvZyh0b2RvU3RvcmFnZSk7XG4gICAgfSk7XG5cbiAgICB0b2RvRXZlbnRNYW5hZ2VyLnN1YnNjcmliZSgnZWRpdFRvZG8nLCAoeyBjYXRlZ29yeSwgdG9kbyB9KSA9PiB7XG4gICAgICBjb25zdCB0b2RvVG9CZUVkaXRlZCA9IGdldFRvZG8odG9kby5pZCwgY2F0ZWdvcnkpO1xuICAgICAgdG9kb1RvQmVFZGl0ZWQudGl0bGUgPSB0b2RvLnRpdGxlO1xuICAgICAgdG9kb1RvQmVFZGl0ZWQuZHVlRGF0ZSA9IHRvZG8uZHVlRGF0ZTtcbiAgICAgIHRvZG9Ub0JlRWRpdGVkLmRlc2NyaXB0aW9uID0gdG9kby5kZXNjcmlwdGlvbjtcbiAgICAgIHRvZG9Ub0JlRWRpdGVkLnByaW9yaXR5ID0gdG9kby5wcmlvcml0eTtcbiAgICB9KTtcblxuICAgIHRvZG9FdmVudE1hbmFnZXIuc3Vic2NyaWJlKCdsb2FkVG9kbycsICh7IGNhdGVnb3J5LCB0b2RvIH0pID0+IHtcbiAgICAgIGFkZFRvZG8oeyBjYXRlZ29yeSwgdG9kbyB9KTtcbiAgICB9KTtcblxuICAgIHRvZG9FdmVudE1hbmFnZXIuc3Vic2NyaWJlKCdhZGRDYXRlZ29yeScsICh7IGNhdGVnb3J5IH0pID0+IHtcbiAgICAgIGlmICh0b2RvU3RvcmFnZS5nZXQoY2F0ZWdvcnkpICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBhbGVydCgnQSBjYXRlZ29yeSB3aXRoIHRoZSBzYW1lIG5hbWUgYWxyZWFkeSBleGlzdCEnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdG9kb1N0b3JhZ2Uuc2V0KGNhdGVnb3J5LCBbXSk7XG4gICAgICB0b2RvRXZlbnRNYW5hZ2VyLnRyaWdnZXJFdmVudCgncmVsb2FkQ2F0ZWdvcmllcycsIHtcbiAgICAgICAgY2F0ZWdvcmllczogZ2V0QWxsQ2F0ZWdvcmllcygpLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBhZGRUb2RvLFxuICAgIGdldFRvZG8sXG4gICAgcmVtb3ZlVG9kbzogZGVsZXRlVG9kbyxcbiAgICBzdWJzY3JpYmVUb1B1Ymxpc2hlcixcbiAgICBnZXRUb2Rvc0J5Q2F0ZWdvcnksXG4gICAgZWRpdFRvZG8sXG4gIH07XG59KSh0b2RvU3RvcmFnZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHRvZG9Nb2RlbDtcbiIsIi8qKlxuKiAoYykgSWNvbmlmeVxuKlxuKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlldyB0aGUgbGljZW5zZS50eHRcbiogZmlsZXMgYXQgaHR0cHM6Ly9naXRodWIuY29tL2ljb25pZnkvaWNvbmlmeVxuKlxuKiBMaWNlbnNlZCB1bmRlciBNSVQuXG4qXG4qIEBsaWNlbnNlIE1JVFxuKiBAdmVyc2lvbiAxLjAuNFxuKi9cbmNvbnN0IGRlZmF1bHRJY29uRGltZW5zaW9ucyA9IE9iamVjdC5mcmVlemUoXG4gIHtcbiAgICBsZWZ0OiAwLFxuICAgIHRvcDogMCxcbiAgICB3aWR0aDogMTYsXG4gICAgaGVpZ2h0OiAxNlxuICB9XG4pO1xuY29uc3QgZGVmYXVsdEljb25UcmFuc2Zvcm1hdGlvbnMgPSBPYmplY3QuZnJlZXplKHtcbiAgcm90YXRlOiAwLFxuICB2RmxpcDogZmFsc2UsXG4gIGhGbGlwOiBmYWxzZVxufSk7XG5jb25zdCBkZWZhdWx0SWNvblByb3BzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIC4uLmRlZmF1bHRJY29uRGltZW5zaW9ucyxcbiAgLi4uZGVmYXVsdEljb25UcmFuc2Zvcm1hdGlvbnNcbn0pO1xuY29uc3QgZGVmYXVsdEV4dGVuZGVkSWNvblByb3BzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIC4uLmRlZmF1bHRJY29uUHJvcHMsXG4gIGJvZHk6IFwiXCIsXG4gIGhpZGRlbjogZmFsc2Vcbn0pO1xuXG5jb25zdCBkZWZhdWx0SWNvblNpemVDdXN0b21pc2F0aW9ucyA9IE9iamVjdC5mcmVlemUoe1xuICB3aWR0aDogbnVsbCxcbiAgaGVpZ2h0OiBudWxsXG59KTtcbmNvbnN0IGRlZmF1bHRJY29uQ3VzdG9taXNhdGlvbnMgPSBPYmplY3QuZnJlZXplKHtcbiAgLi4uZGVmYXVsdEljb25TaXplQ3VzdG9taXNhdGlvbnMsXG4gIC4uLmRlZmF1bHRJY29uVHJhbnNmb3JtYXRpb25zXG59KTtcblxuZnVuY3Rpb24gcm90YXRlRnJvbVN0cmluZyh2YWx1ZSwgZGVmYXVsdFZhbHVlID0gMCkge1xuICBjb25zdCB1bml0cyA9IHZhbHVlLnJlcGxhY2UoL14tP1swLTkuXSovLCBcIlwiKTtcbiAgZnVuY3Rpb24gY2xlYW51cCh2YWx1ZTIpIHtcbiAgICB3aGlsZSAodmFsdWUyIDwgMCkge1xuICAgICAgdmFsdWUyICs9IDQ7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTIgJSA0O1xuICB9XG4gIGlmICh1bml0cyA9PT0gXCJcIikge1xuICAgIGNvbnN0IG51bSA9IHBhcnNlSW50KHZhbHVlKTtcbiAgICByZXR1cm4gaXNOYU4obnVtKSA/IDAgOiBjbGVhbnVwKG51bSk7XG4gIH0gZWxzZSBpZiAodW5pdHMgIT09IHZhbHVlKSB7XG4gICAgbGV0IHNwbGl0ID0gMDtcbiAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICBjYXNlIFwiJVwiOlxuICAgICAgICBzcGxpdCA9IDI1O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkZWdcIjpcbiAgICAgICAgc3BsaXQgPSA5MDtcbiAgICB9XG4gICAgaWYgKHNwbGl0KSB7XG4gICAgICBsZXQgbnVtID0gcGFyc2VGbG9hdCh2YWx1ZS5zbGljZSgwLCB2YWx1ZS5sZW5ndGggLSB1bml0cy5sZW5ndGgpKTtcbiAgICAgIGlmIChpc05hTihudW0pKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgbnVtID0gbnVtIC8gc3BsaXQ7XG4gICAgICByZXR1cm4gbnVtICUgMSA9PT0gMCA/IGNsZWFudXAobnVtKSA6IDA7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWZhdWx0VmFsdWU7XG59XG5cbmNvbnN0IHNlcGFyYXRvciA9IC9bXFxzLF0rLztcbmZ1bmN0aW9uIGZsaXBGcm9tU3RyaW5nKGN1c3RvbSwgZmxpcCkge1xuICBmbGlwLnNwbGl0KHNlcGFyYXRvcikuZm9yRWFjaCgoc3RyKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBzdHIudHJpbSgpO1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgXCJob3Jpem9udGFsXCI6XG4gICAgICAgIGN1c3RvbS5oRmxpcCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInZlcnRpY2FsXCI6XG4gICAgICAgIGN1c3RvbS52RmxpcCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG59XG5cbmNvbnN0IGRlZmF1bHRDdXN0b21pc2F0aW9ucyA9IHtcbiAgICAuLi5kZWZhdWx0SWNvbkN1c3RvbWlzYXRpb25zLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86ICcnLFxufTtcbi8qKlxuICogR2V0IGN1c3RvbWlzYXRpb25zXG4gKi9cbmZ1bmN0aW9uIGdldEN1c3RvbWlzYXRpb25zKG5vZGUpIHtcbiAgICBjb25zdCBjdXN0b21pc2F0aW9ucyA9IHtcbiAgICAgICAgLi4uZGVmYXVsdEN1c3RvbWlzYXRpb25zLFxuICAgIH07XG4gICAgY29uc3QgYXR0ciA9IChrZXksIGRlZikgPT4gbm9kZS5nZXRBdHRyaWJ1dGUoa2V5KSB8fCBkZWY7XG4gICAgLy8gRGltZW5zaW9uc1xuICAgIGN1c3RvbWlzYXRpb25zLndpZHRoID0gYXR0cignd2lkdGgnLCBudWxsKTtcbiAgICBjdXN0b21pc2F0aW9ucy5oZWlnaHQgPSBhdHRyKCdoZWlnaHQnLCBudWxsKTtcbiAgICAvLyBSb3RhdGlvblxuICAgIGN1c3RvbWlzYXRpb25zLnJvdGF0ZSA9IHJvdGF0ZUZyb21TdHJpbmcoYXR0cigncm90YXRlJywgJycpKTtcbiAgICAvLyBGbGlwXG4gICAgZmxpcEZyb21TdHJpbmcoY3VzdG9taXNhdGlvbnMsIGF0dHIoJ2ZsaXAnLCAnJykpO1xuICAgIC8vIFNWRyBhdHRyaWJ1dGVzXG4gICAgY3VzdG9taXNhdGlvbnMucHJlc2VydmVBc3BlY3RSYXRpbyA9IGF0dHIoJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLCBhdHRyKCdwcmVzZXJ2ZWFzcGVjdHJhdGlvJywgJycpKTtcbiAgICByZXR1cm4gY3VzdG9taXNhdGlvbnM7XG59XG4vKipcbiAqIENoZWNrIGlmIGN1c3RvbWlzYXRpb25zIGhhdmUgYmVlbiB1cGRhdGVkXG4gKi9cbmZ1bmN0aW9uIGhhdmVDdXN0b21pc2F0aW9uc0NoYW5nZWQodmFsdWUxLCB2YWx1ZTIpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0Q3VzdG9taXNhdGlvbnMpIHtcbiAgICAgICAgaWYgKHZhbHVlMVtrZXldICE9PSB2YWx1ZTJba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb25zdCBtYXRjaEljb25OYW1lID0gL15bYS16MC05XSsoLVthLXowLTldKykqJC87XG5jb25zdCBzdHJpbmdUb0ljb24gPSAodmFsdWUsIHZhbGlkYXRlLCBhbGxvd1NpbXBsZU5hbWUsIHByb3ZpZGVyID0gXCJcIikgPT4ge1xuICBjb25zdCBjb2xvblNlcGFyYXRlZCA9IHZhbHVlLnNwbGl0KFwiOlwiKTtcbiAgaWYgKHZhbHVlLnNsaWNlKDAsIDEpID09PSBcIkBcIikge1xuICAgIGlmIChjb2xvblNlcGFyYXRlZC5sZW5ndGggPCAyIHx8IGNvbG9uU2VwYXJhdGVkLmxlbmd0aCA+IDMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBwcm92aWRlciA9IGNvbG9uU2VwYXJhdGVkLnNoaWZ0KCkuc2xpY2UoMSk7XG4gIH1cbiAgaWYgKGNvbG9uU2VwYXJhdGVkLmxlbmd0aCA+IDMgfHwgIWNvbG9uU2VwYXJhdGVkLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChjb2xvblNlcGFyYXRlZC5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgbmFtZTIgPSBjb2xvblNlcGFyYXRlZC5wb3AoKTtcbiAgICBjb25zdCBwcmVmaXggPSBjb2xvblNlcGFyYXRlZC5wb3AoKTtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBwcm92aWRlcjogY29sb25TZXBhcmF0ZWQubGVuZ3RoID4gMCA/IGNvbG9uU2VwYXJhdGVkWzBdIDogcHJvdmlkZXIsXG4gICAgICBwcmVmaXgsXG4gICAgICBuYW1lOiBuYW1lMlxuICAgIH07XG4gICAgcmV0dXJuIHZhbGlkYXRlICYmICF2YWxpZGF0ZUljb25OYW1lKHJlc3VsdCkgPyBudWxsIDogcmVzdWx0O1xuICB9XG4gIGNvbnN0IG5hbWUgPSBjb2xvblNlcGFyYXRlZFswXTtcbiAgY29uc3QgZGFzaFNlcGFyYXRlZCA9IG5hbWUuc3BsaXQoXCItXCIpO1xuICBpZiAoZGFzaFNlcGFyYXRlZC5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgcHJvdmlkZXIsXG4gICAgICBwcmVmaXg6IGRhc2hTZXBhcmF0ZWQuc2hpZnQoKSxcbiAgICAgIG5hbWU6IGRhc2hTZXBhcmF0ZWQuam9pbihcIi1cIilcbiAgICB9O1xuICAgIHJldHVybiB2YWxpZGF0ZSAmJiAhdmFsaWRhdGVJY29uTmFtZShyZXN1bHQpID8gbnVsbCA6IHJlc3VsdDtcbiAgfVxuICBpZiAoYWxsb3dTaW1wbGVOYW1lICYmIHByb3ZpZGVyID09PSBcIlwiKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgcHJvdmlkZXIsXG4gICAgICBwcmVmaXg6IFwiXCIsXG4gICAgICBuYW1lXG4gICAgfTtcbiAgICByZXR1cm4gdmFsaWRhdGUgJiYgIXZhbGlkYXRlSWNvbk5hbWUocmVzdWx0LCBhbGxvd1NpbXBsZU5hbWUpID8gbnVsbCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5jb25zdCB2YWxpZGF0ZUljb25OYW1lID0gKGljb24sIGFsbG93U2ltcGxlTmFtZSkgPT4ge1xuICBpZiAoIWljb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuICEhKChpY29uLnByb3ZpZGVyID09PSBcIlwiIHx8IGljb24ucHJvdmlkZXIubWF0Y2gobWF0Y2hJY29uTmFtZSkpICYmIChhbGxvd1NpbXBsZU5hbWUgJiYgaWNvbi5wcmVmaXggPT09IFwiXCIgfHwgaWNvbi5wcmVmaXgubWF0Y2gobWF0Y2hJY29uTmFtZSkpICYmIGljb24ubmFtZS5tYXRjaChtYXRjaEljb25OYW1lKSk7XG59O1xuXG5mdW5jdGlvbiBtZXJnZUljb25UcmFuc2Zvcm1hdGlvbnMob2JqMSwgb2JqMikge1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgaWYgKCFvYmoxLmhGbGlwICE9PSAhb2JqMi5oRmxpcCkge1xuICAgIHJlc3VsdC5oRmxpcCA9IHRydWU7XG4gIH1cbiAgaWYgKCFvYmoxLnZGbGlwICE9PSAhb2JqMi52RmxpcCkge1xuICAgIHJlc3VsdC52RmxpcCA9IHRydWU7XG4gIH1cbiAgY29uc3Qgcm90YXRlID0gKChvYmoxLnJvdGF0ZSB8fCAwKSArIChvYmoyLnJvdGF0ZSB8fCAwKSkgJSA0O1xuICBpZiAocm90YXRlKSB7XG4gICAgcmVzdWx0LnJvdGF0ZSA9IHJvdGF0ZTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtZXJnZUljb25EYXRhKHBhcmVudCwgY2hpbGQpIHtcbiAgY29uc3QgcmVzdWx0ID0gbWVyZ2VJY29uVHJhbnNmb3JtYXRpb25zKHBhcmVudCwgY2hpbGQpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0RXh0ZW5kZWRJY29uUHJvcHMpIHtcbiAgICBpZiAoa2V5IGluIGRlZmF1bHRJY29uVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICBpZiAoa2V5IGluIHBhcmVudCAmJiAhKGtleSBpbiByZXN1bHQpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gZGVmYXVsdEljb25UcmFuc2Zvcm1hdGlvbnNba2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleSBpbiBjaGlsZCkge1xuICAgICAgcmVzdWx0W2tleV0gPSBjaGlsZFtrZXldO1xuICAgIH0gZWxzZSBpZiAoa2V5IGluIHBhcmVudCkge1xuICAgICAgcmVzdWx0W2tleV0gPSBwYXJlbnRba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZ2V0SWNvbnNUcmVlKGRhdGEsIG5hbWVzKSB7XG4gIGNvbnN0IGljb25zID0gZGF0YS5pY29ucztcbiAgY29uc3QgYWxpYXNlcyA9IGRhdGEuYWxpYXNlcyB8fCAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3QgcmVzb2x2ZWQgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZnVuY3Rpb24gcmVzb2x2ZShuYW1lKSB7XG4gICAgaWYgKGljb25zW25hbWVdKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZWRbbmFtZV0gPSBbXTtcbiAgICB9XG4gICAgaWYgKCEobmFtZSBpbiByZXNvbHZlZCkpIHtcbiAgICAgIHJlc29sdmVkW25hbWVdID0gbnVsbDtcbiAgICAgIGNvbnN0IHBhcmVudCA9IGFsaWFzZXNbbmFtZV0gJiYgYWxpYXNlc1tuYW1lXS5wYXJlbnQ7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcmVudCAmJiByZXNvbHZlKHBhcmVudCk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZWRbbmFtZV0gPSBbcGFyZW50XS5jb25jYXQodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzb2x2ZWRbbmFtZV07XG4gIH1cbiAgKG5hbWVzIHx8IE9iamVjdC5rZXlzKGljb25zKS5jb25jYXQoT2JqZWN0LmtleXMoYWxpYXNlcykpKS5mb3JFYWNoKHJlc29sdmUpO1xuICByZXR1cm4gcmVzb2x2ZWQ7XG59XG5cbmZ1bmN0aW9uIGludGVybmFsR2V0SWNvbkRhdGEoZGF0YSwgbmFtZSwgdHJlZSkge1xuICBjb25zdCBpY29ucyA9IGRhdGEuaWNvbnM7XG4gIGNvbnN0IGFsaWFzZXMgPSBkYXRhLmFsaWFzZXMgfHwgLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGxldCBjdXJyZW50UHJvcHMgPSB7fTtcbiAgZnVuY3Rpb24gcGFyc2UobmFtZTIpIHtcbiAgICBjdXJyZW50UHJvcHMgPSBtZXJnZUljb25EYXRhKFxuICAgICAgaWNvbnNbbmFtZTJdIHx8IGFsaWFzZXNbbmFtZTJdLFxuICAgICAgY3VycmVudFByb3BzXG4gICAgKTtcbiAgfVxuICBwYXJzZShuYW1lKTtcbiAgdHJlZS5mb3JFYWNoKHBhcnNlKTtcbiAgcmV0dXJuIG1lcmdlSWNvbkRhdGEoZGF0YSwgY3VycmVudFByb3BzKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VJY29uU2V0KGRhdGEsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IG5hbWVzID0gW107XG4gIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZGF0YS5pY29ucyAhPT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBuYW1lcztcbiAgfVxuICBpZiAoZGF0YS5ub3RfZm91bmQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIGRhdGEubm90X2ZvdW5kLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgIGNhbGxiYWNrKG5hbWUsIG51bGwpO1xuICAgICAgbmFtZXMucHVzaChuYW1lKTtcbiAgICB9KTtcbiAgfVxuICBjb25zdCB0cmVlID0gZ2V0SWNvbnNUcmVlKGRhdGEpO1xuICBmb3IgKGNvbnN0IG5hbWUgaW4gdHJlZSkge1xuICAgIGNvbnN0IGl0ZW0gPSB0cmVlW25hbWVdO1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBjYWxsYmFjayhuYW1lLCBpbnRlcm5hbEdldEljb25EYXRhKGRhdGEsIG5hbWUsIGl0ZW0pKTtcbiAgICAgIG5hbWVzLnB1c2gobmFtZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuYW1lcztcbn1cblxuY29uc3Qgb3B0aW9uYWxQcm9wZXJ0eURlZmF1bHRzID0ge1xuICBwcm92aWRlcjogXCJcIixcbiAgYWxpYXNlczoge30sXG4gIG5vdF9mb3VuZDoge30sXG4gIC4uLmRlZmF1bHRJY29uRGltZW5zaW9uc1xufTtcbmZ1bmN0aW9uIGNoZWNrT3B0aW9uYWxQcm9wcyhpdGVtLCBkZWZhdWx0cykge1xuICBmb3IgKGNvbnN0IHByb3AgaW4gZGVmYXVsdHMpIHtcbiAgICBpZiAocHJvcCBpbiBpdGVtICYmIHR5cGVvZiBpdGVtW3Byb3BdICE9PSB0eXBlb2YgZGVmYXVsdHNbcHJvcF0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBxdWlja2x5VmFsaWRhdGVJY29uU2V0KG9iaikge1xuICBpZiAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIiB8fCBvYmogPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBkYXRhID0gb2JqO1xuICBpZiAodHlwZW9mIGRhdGEucHJlZml4ICE9PSBcInN0cmluZ1wiIHx8ICFvYmouaWNvbnMgfHwgdHlwZW9mIG9iai5pY29ucyAhPT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghY2hlY2tPcHRpb25hbFByb3BzKG9iaiwgb3B0aW9uYWxQcm9wZXJ0eURlZmF1bHRzKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGljb25zID0gZGF0YS5pY29ucztcbiAgZm9yIChjb25zdCBuYW1lIGluIGljb25zKSB7XG4gICAgY29uc3QgaWNvbiA9IGljb25zW25hbWVdO1xuICAgIGlmICghbmFtZS5tYXRjaChtYXRjaEljb25OYW1lKSB8fCB0eXBlb2YgaWNvbi5ib2R5ICE9PSBcInN0cmluZ1wiIHx8ICFjaGVja09wdGlvbmFsUHJvcHMoXG4gICAgICBpY29uLFxuICAgICAgZGVmYXVsdEV4dGVuZGVkSWNvblByb3BzXG4gICAgKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIGNvbnN0IGFsaWFzZXMgPSBkYXRhLmFsaWFzZXMgfHwgLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvciAoY29uc3QgbmFtZSBpbiBhbGlhc2VzKSB7XG4gICAgY29uc3QgaWNvbiA9IGFsaWFzZXNbbmFtZV07XG4gICAgY29uc3QgcGFyZW50ID0gaWNvbi5wYXJlbnQ7XG4gICAgaWYgKCFuYW1lLm1hdGNoKG1hdGNoSWNvbk5hbWUpIHx8IHR5cGVvZiBwYXJlbnQgIT09IFwic3RyaW5nXCIgfHwgIWljb25zW3BhcmVudF0gJiYgIWFsaWFzZXNbcGFyZW50XSB8fCAhY2hlY2tPcHRpb25hbFByb3BzKFxuICAgICAgaWNvbixcbiAgICAgIGRlZmF1bHRFeHRlbmRlZEljb25Qcm9wc1xuICAgICkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuY29uc3QgZGF0YVN0b3JhZ2UgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmZ1bmN0aW9uIG5ld1N0b3JhZ2UocHJvdmlkZXIsIHByZWZpeCkge1xuICByZXR1cm4ge1xuICAgIHByb3ZpZGVyLFxuICAgIHByZWZpeCxcbiAgICBpY29uczogLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgbWlzc2luZzogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0U3RvcmFnZShwcm92aWRlciwgcHJlZml4KSB7XG4gIGNvbnN0IHByb3ZpZGVyU3RvcmFnZSA9IGRhdGFTdG9yYWdlW3Byb3ZpZGVyXSB8fCAoZGF0YVN0b3JhZ2VbcHJvdmlkZXJdID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICByZXR1cm4gcHJvdmlkZXJTdG9yYWdlW3ByZWZpeF0gfHwgKHByb3ZpZGVyU3RvcmFnZVtwcmVmaXhdID0gbmV3U3RvcmFnZShwcm92aWRlciwgcHJlZml4KSk7XG59XG5mdW5jdGlvbiBhZGRJY29uU2V0KHN0b3JhZ2UsIGRhdGEpIHtcbiAgaWYgKCFxdWlja2x5VmFsaWRhdGVJY29uU2V0KGRhdGEpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHJldHVybiBwYXJzZUljb25TZXQoZGF0YSwgKG5hbWUsIGljb24pID0+IHtcbiAgICBpZiAoaWNvbikge1xuICAgICAgc3RvcmFnZS5pY29uc1tuYW1lXSA9IGljb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JhZ2UubWlzc2luZy5hZGQobmFtZSk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGFkZEljb25Ub1N0b3JhZ2Uoc3RvcmFnZSwgbmFtZSwgaWNvbikge1xuICB0cnkge1xuICAgIGlmICh0eXBlb2YgaWNvbi5ib2R5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBzdG9yYWdlLmljb25zW25hbWVdID0geyAuLi5pY29uIH07XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGxpc3RJY29ucyQxKHByb3ZpZGVyLCBwcmVmaXgpIHtcbiAgbGV0IGFsbEljb25zID0gW107XG4gIGNvbnN0IHByb3ZpZGVycyA9IHR5cGVvZiBwcm92aWRlciA9PT0gXCJzdHJpbmdcIiA/IFtwcm92aWRlcl0gOiBPYmplY3Qua2V5cyhkYXRhU3RvcmFnZSk7XG4gIHByb3ZpZGVycy5mb3JFYWNoKChwcm92aWRlcjIpID0+IHtcbiAgICBjb25zdCBwcmVmaXhlcyA9IHR5cGVvZiBwcm92aWRlcjIgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHByZWZpeCA9PT0gXCJzdHJpbmdcIiA/IFtwcmVmaXhdIDogT2JqZWN0LmtleXMoZGF0YVN0b3JhZ2VbcHJvdmlkZXIyXSB8fCB7fSk7XG4gICAgcHJlZml4ZXMuZm9yRWFjaCgocHJlZml4MikgPT4ge1xuICAgICAgY29uc3Qgc3RvcmFnZSA9IGdldFN0b3JhZ2UocHJvdmlkZXIyLCBwcmVmaXgyKTtcbiAgICAgIGFsbEljb25zID0gYWxsSWNvbnMuY29uY2F0KFxuICAgICAgICBPYmplY3Qua2V5cyhzdG9yYWdlLmljb25zKS5tYXAoXG4gICAgICAgICAgKG5hbWUpID0+IChwcm92aWRlcjIgIT09IFwiXCIgPyBcIkBcIiArIHByb3ZpZGVyMiArIFwiOlwiIDogXCJcIikgKyBwcmVmaXgyICsgXCI6XCIgKyBuYW1lXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gYWxsSWNvbnM7XG59XG5cbmxldCBzaW1wbGVOYW1lcyA9IGZhbHNlO1xuZnVuY3Rpb24gYWxsb3dTaW1wbGVOYW1lcyhhbGxvdykge1xuICBpZiAodHlwZW9mIGFsbG93ID09PSBcImJvb2xlYW5cIikge1xuICAgIHNpbXBsZU5hbWVzID0gYWxsb3c7XG4gIH1cbiAgcmV0dXJuIHNpbXBsZU5hbWVzO1xufVxuZnVuY3Rpb24gZ2V0SWNvbkRhdGEobmFtZSkge1xuICBjb25zdCBpY29uID0gdHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgPyBzdHJpbmdUb0ljb24obmFtZSwgdHJ1ZSwgc2ltcGxlTmFtZXMpIDogbmFtZTtcbiAgaWYgKGljb24pIHtcbiAgICBjb25zdCBzdG9yYWdlID0gZ2V0U3RvcmFnZShpY29uLnByb3ZpZGVyLCBpY29uLnByZWZpeCk7XG4gICAgY29uc3QgaWNvbk5hbWUgPSBpY29uLm5hbWU7XG4gICAgcmV0dXJuIHN0b3JhZ2UuaWNvbnNbaWNvbk5hbWVdIHx8IChzdG9yYWdlLm1pc3NpbmcuaGFzKGljb25OYW1lKSA/IG51bGwgOiB2b2lkIDApO1xuICB9XG59XG5mdW5jdGlvbiBhZGRJY29uJDEobmFtZSwgZGF0YSkge1xuICBjb25zdCBpY29uID0gc3RyaW5nVG9JY29uKG5hbWUsIHRydWUsIHNpbXBsZU5hbWVzKTtcbiAgaWYgKCFpY29uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKGljb24ucHJvdmlkZXIsIGljb24ucHJlZml4KTtcbiAgcmV0dXJuIGFkZEljb25Ub1N0b3JhZ2Uoc3RvcmFnZSwgaWNvbi5uYW1lLCBkYXRhKTtcbn1cbmZ1bmN0aW9uIGFkZENvbGxlY3Rpb24kMShkYXRhLCBwcm92aWRlcikge1xuICBpZiAodHlwZW9mIGRhdGEgIT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBwcm92aWRlciAhPT0gXCJzdHJpbmdcIikge1xuICAgIHByb3ZpZGVyID0gZGF0YS5wcm92aWRlciB8fCBcIlwiO1xuICB9XG4gIGlmIChzaW1wbGVOYW1lcyAmJiAhcHJvdmlkZXIgJiYgIWRhdGEucHJlZml4KSB7XG4gICAgbGV0IGFkZGVkID0gZmFsc2U7XG4gICAgaWYgKHF1aWNrbHlWYWxpZGF0ZUljb25TZXQoZGF0YSkpIHtcbiAgICAgIGRhdGEucHJlZml4ID0gXCJcIjtcbiAgICAgIHBhcnNlSWNvblNldChkYXRhLCAobmFtZSwgaWNvbikgPT4ge1xuICAgICAgICBpZiAoaWNvbiAmJiBhZGRJY29uJDEobmFtZSwgaWNvbikpIHtcbiAgICAgICAgICBhZGRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYWRkZWQ7XG4gIH1cbiAgY29uc3QgcHJlZml4ID0gZGF0YS5wcmVmaXg7XG4gIGlmICghdmFsaWRhdGVJY29uTmFtZSh7XG4gICAgcHJvdmlkZXIsXG4gICAgcHJlZml4LFxuICAgIG5hbWU6IFwiYVwiXG4gIH0pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKHByb3ZpZGVyLCBwcmVmaXgpO1xuICByZXR1cm4gISFhZGRJY29uU2V0KHN0b3JhZ2UsIGRhdGEpO1xufVxuZnVuY3Rpb24gaWNvbkV4aXN0cyQxKG5hbWUpIHtcbiAgcmV0dXJuICEhZ2V0SWNvbkRhdGEobmFtZSk7XG59XG5mdW5jdGlvbiBnZXRJY29uJDEobmFtZSkge1xuICBjb25zdCByZXN1bHQgPSBnZXRJY29uRGF0YShuYW1lKTtcbiAgcmV0dXJuIHJlc3VsdCA/IHtcbiAgICAuLi5kZWZhdWx0SWNvblByb3BzLFxuICAgIC4uLnJlc3VsdFxuICB9IDogbnVsbDtcbn1cblxuZnVuY3Rpb24gc29ydEljb25zKGljb25zKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICBsb2FkZWQ6IFtdLFxuICAgIG1pc3Npbmc6IFtdLFxuICAgIHBlbmRpbmc6IFtdXG4gIH07XG4gIGNvbnN0IHN0b3JhZ2UgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgaWNvbnMuc29ydCgoYSwgYikgPT4ge1xuICAgIGlmIChhLnByb3ZpZGVyICE9PSBiLnByb3ZpZGVyKSB7XG4gICAgICByZXR1cm4gYS5wcm92aWRlci5sb2NhbGVDb21wYXJlKGIucHJvdmlkZXIpO1xuICAgIH1cbiAgICBpZiAoYS5wcmVmaXggIT09IGIucHJlZml4KSB7XG4gICAgICByZXR1cm4gYS5wcmVmaXgubG9jYWxlQ29tcGFyZShiLnByZWZpeCk7XG4gICAgfVxuICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xuICB9KTtcbiAgbGV0IGxhc3RJY29uID0ge1xuICAgIHByb3ZpZGVyOiBcIlwiLFxuICAgIHByZWZpeDogXCJcIixcbiAgICBuYW1lOiBcIlwiXG4gIH07XG4gIGljb25zLmZvckVhY2goKGljb24pID0+IHtcbiAgICBpZiAobGFzdEljb24ubmFtZSA9PT0gaWNvbi5uYW1lICYmIGxhc3RJY29uLnByZWZpeCA9PT0gaWNvbi5wcmVmaXggJiYgbGFzdEljb24ucHJvdmlkZXIgPT09IGljb24ucHJvdmlkZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGFzdEljb24gPSBpY29uO1xuICAgIGNvbnN0IHByb3ZpZGVyID0gaWNvbi5wcm92aWRlcjtcbiAgICBjb25zdCBwcmVmaXggPSBpY29uLnByZWZpeDtcbiAgICBjb25zdCBuYW1lID0gaWNvbi5uYW1lO1xuICAgIGNvbnN0IHByb3ZpZGVyU3RvcmFnZSA9IHN0b3JhZ2VbcHJvdmlkZXJdIHx8IChzdG9yYWdlW3Byb3ZpZGVyXSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICBjb25zdCBsb2NhbFN0b3JhZ2UgPSBwcm92aWRlclN0b3JhZ2VbcHJlZml4XSB8fCAocHJvdmlkZXJTdG9yYWdlW3ByZWZpeF0gPSBnZXRTdG9yYWdlKHByb3ZpZGVyLCBwcmVmaXgpKTtcbiAgICBsZXQgbGlzdDtcbiAgICBpZiAobmFtZSBpbiBsb2NhbFN0b3JhZ2UuaWNvbnMpIHtcbiAgICAgIGxpc3QgPSByZXN1bHQubG9hZGVkO1xuICAgIH0gZWxzZSBpZiAocHJlZml4ID09PSBcIlwiIHx8IGxvY2FsU3RvcmFnZS5taXNzaW5nLmhhcyhuYW1lKSkge1xuICAgICAgbGlzdCA9IHJlc3VsdC5taXNzaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0ID0gcmVzdWx0LnBlbmRpbmc7XG4gICAgfVxuICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICBwcm92aWRlcixcbiAgICAgIHByZWZpeCxcbiAgICAgIG5hbWVcbiAgICB9O1xuICAgIGxpc3QucHVzaChpdGVtKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNhbGxiYWNrKHN0b3JhZ2VzLCBpZCkge1xuICBzdG9yYWdlcy5mb3JFYWNoKChzdG9yYWdlKSA9PiB7XG4gICAgY29uc3QgaXRlbXMgPSBzdG9yYWdlLmxvYWRlckNhbGxiYWNrcztcbiAgICBpZiAoaXRlbXMpIHtcbiAgICAgIHN0b3JhZ2UubG9hZGVyQ2FsbGJhY2tzID0gaXRlbXMuZmlsdGVyKChyb3cpID0+IHJvdy5pZCAhPT0gaWQpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVDYWxsYmFja3Moc3RvcmFnZSkge1xuICBpZiAoIXN0b3JhZ2UucGVuZGluZ0NhbGxiYWNrc0ZsYWcpIHtcbiAgICBzdG9yYWdlLnBlbmRpbmdDYWxsYmFja3NGbGFnID0gdHJ1ZTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHN0b3JhZ2UucGVuZGluZ0NhbGxiYWNrc0ZsYWcgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGl0ZW1zID0gc3RvcmFnZS5sb2FkZXJDYWxsYmFja3MgPyBzdG9yYWdlLmxvYWRlckNhbGxiYWNrcy5zbGljZSgwKSA6IFtdO1xuICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IGhhc1BlbmRpbmcgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHByb3ZpZGVyID0gc3RvcmFnZS5wcm92aWRlcjtcbiAgICAgIGNvbnN0IHByZWZpeCA9IHN0b3JhZ2UucHJlZml4O1xuICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBpY29ucyA9IGl0ZW0uaWNvbnM7XG4gICAgICAgIGNvbnN0IG9sZExlbmd0aCA9IGljb25zLnBlbmRpbmcubGVuZ3RoO1xuICAgICAgICBpY29ucy5wZW5kaW5nID0gaWNvbnMucGVuZGluZy5maWx0ZXIoKGljb24pID0+IHtcbiAgICAgICAgICBpZiAoaWNvbi5wcmVmaXggIT09IHByZWZpeCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG5hbWUgPSBpY29uLm5hbWU7XG4gICAgICAgICAgaWYgKHN0b3JhZ2UuaWNvbnNbbmFtZV0pIHtcbiAgICAgICAgICAgIGljb25zLmxvYWRlZC5wdXNoKHtcbiAgICAgICAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgICAgICAgIHByZWZpeCxcbiAgICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdG9yYWdlLm1pc3NpbmcuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICBpY29ucy5taXNzaW5nLnB1c2goe1xuICAgICAgICAgICAgICBwcm92aWRlcixcbiAgICAgICAgICAgICAgcHJlZml4LFxuICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFzUGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGljb25zLnBlbmRpbmcubGVuZ3RoICE9PSBvbGRMZW5ndGgpIHtcbiAgICAgICAgICBpZiAoIWhhc1BlbmRpbmcpIHtcbiAgICAgICAgICAgIHJlbW92ZUNhbGxiYWNrKFtzdG9yYWdlXSwgaXRlbS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW0uY2FsbGJhY2soXG4gICAgICAgICAgICBpY29ucy5sb2FkZWQuc2xpY2UoMCksXG4gICAgICAgICAgICBpY29ucy5taXNzaW5nLnNsaWNlKDApLFxuICAgICAgICAgICAgaWNvbnMucGVuZGluZy5zbGljZSgwKSxcbiAgICAgICAgICAgIGl0ZW0uYWJvcnRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxubGV0IGlkQ291bnRlciA9IDA7XG5mdW5jdGlvbiBzdG9yZUNhbGxiYWNrKGNhbGxiYWNrLCBpY29ucywgcGVuZGluZ1NvdXJjZXMpIHtcbiAgY29uc3QgaWQgPSBpZENvdW50ZXIrKztcbiAgY29uc3QgYWJvcnQgPSByZW1vdmVDYWxsYmFjay5iaW5kKG51bGwsIHBlbmRpbmdTb3VyY2VzLCBpZCk7XG4gIGlmICghaWNvbnMucGVuZGluZy5sZW5ndGgpIHtcbiAgICByZXR1cm4gYWJvcnQ7XG4gIH1cbiAgY29uc3QgaXRlbSA9IHtcbiAgICBpZCxcbiAgICBpY29ucyxcbiAgICBjYWxsYmFjayxcbiAgICBhYm9ydFxuICB9O1xuICBwZW5kaW5nU291cmNlcy5mb3JFYWNoKChzdG9yYWdlKSA9PiB7XG4gICAgKHN0b3JhZ2UubG9hZGVyQ2FsbGJhY2tzIHx8IChzdG9yYWdlLmxvYWRlckNhbGxiYWNrcyA9IFtdKSkucHVzaChpdGVtKTtcbiAgfSk7XG4gIHJldHVybiBhYm9ydDtcbn1cblxuY29uc3Qgc3RvcmFnZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuZnVuY3Rpb24gc2V0QVBJTW9kdWxlKHByb3ZpZGVyLCBpdGVtKSB7XG4gIHN0b3JhZ2VbcHJvdmlkZXJdID0gaXRlbTtcbn1cbmZ1bmN0aW9uIGdldEFQSU1vZHVsZShwcm92aWRlcikge1xuICByZXR1cm4gc3RvcmFnZVtwcm92aWRlcl0gfHwgc3RvcmFnZVtcIlwiXTtcbn1cblxuZnVuY3Rpb24gbGlzdFRvSWNvbnMobGlzdCwgdmFsaWRhdGUgPSB0cnVlLCBzaW1wbGVOYW1lcyA9IGZhbHNlKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBsaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBjb25zdCBpY29uID0gdHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIgPyBzdHJpbmdUb0ljb24oaXRlbSwgdmFsaWRhdGUsIHNpbXBsZU5hbWVzKSA6IGl0ZW07XG4gICAgaWYgKGljb24pIHtcbiAgICAgIHJlc3VsdC5wdXNoKGljb24pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIHNyYy9jb25maWcudHNcbnZhciBkZWZhdWx0Q29uZmlnID0ge1xuICByZXNvdXJjZXM6IFtdLFxuICBpbmRleDogMCxcbiAgdGltZW91dDogMmUzLFxuICByb3RhdGU6IDc1MCxcbiAgcmFuZG9tOiBmYWxzZSxcbiAgZGF0YUFmdGVyVGltZW91dDogZmFsc2Vcbn07XG5cbi8vIHNyYy9xdWVyeS50c1xuZnVuY3Rpb24gc2VuZFF1ZXJ5KGNvbmZpZywgcGF5bG9hZCwgcXVlcnksIGRvbmUpIHtcbiAgY29uc3QgcmVzb3VyY2VzQ291bnQgPSBjb25maWcucmVzb3VyY2VzLmxlbmd0aDtcbiAgY29uc3Qgc3RhcnRJbmRleCA9IGNvbmZpZy5yYW5kb20gPyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiByZXNvdXJjZXNDb3VudCkgOiBjb25maWcuaW5kZXg7XG4gIGxldCByZXNvdXJjZXM7XG4gIGlmIChjb25maWcucmFuZG9tKSB7XG4gICAgbGV0IGxpc3QgPSBjb25maWcucmVzb3VyY2VzLnNsaWNlKDApO1xuICAgIHJlc291cmNlcyA9IFtdO1xuICAgIHdoaWxlIChsaXN0Lmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IG5leHRJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxpc3QubGVuZ3RoKTtcbiAgICAgIHJlc291cmNlcy5wdXNoKGxpc3RbbmV4dEluZGV4XSk7XG4gICAgICBsaXN0ID0gbGlzdC5zbGljZSgwLCBuZXh0SW5kZXgpLmNvbmNhdChsaXN0LnNsaWNlKG5leHRJbmRleCArIDEpKTtcbiAgICB9XG4gICAgcmVzb3VyY2VzID0gcmVzb3VyY2VzLmNvbmNhdChsaXN0KTtcbiAgfSBlbHNlIHtcbiAgICByZXNvdXJjZXMgPSBjb25maWcucmVzb3VyY2VzLnNsaWNlKHN0YXJ0SW5kZXgpLmNvbmNhdChjb25maWcucmVzb3VyY2VzLnNsaWNlKDAsIHN0YXJ0SW5kZXgpKTtcbiAgfVxuICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICBsZXQgc3RhdHVzID0gXCJwZW5kaW5nXCI7XG4gIGxldCBxdWVyaWVzU2VudCA9IDA7XG4gIGxldCBsYXN0RXJyb3I7XG4gIGxldCB0aW1lciA9IG51bGw7XG4gIGxldCBxdWV1ZSA9IFtdO1xuICBsZXQgZG9uZUNhbGxiYWNrcyA9IFtdO1xuICBpZiAodHlwZW9mIGRvbmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGRvbmVDYWxsYmFja3MucHVzaChkb25lKTtcbiAgfVxuICBmdW5jdGlvbiByZXNldFRpbWVyKCkge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgaWYgKHN0YXR1cyA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgIHN0YXR1cyA9IFwiYWJvcnRlZFwiO1xuICAgIH1cbiAgICByZXNldFRpbWVyKCk7XG4gICAgcXVldWUuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSBcInBlbmRpbmdcIikge1xuICAgICAgICBpdGVtLnN0YXR1cyA9IFwiYWJvcnRlZFwiO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHF1ZXVlID0gW107XG4gIH1cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGNhbGxiYWNrLCBvdmVyd3JpdGUpIHtcbiAgICBpZiAob3ZlcndyaXRlKSB7XG4gICAgICBkb25lQ2FsbGJhY2tzID0gW107XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZG9uZUNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0UXVlcnlTdGF0dXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0VGltZSxcbiAgICAgIHBheWxvYWQsXG4gICAgICBzdGF0dXMsXG4gICAgICBxdWVyaWVzU2VudCxcbiAgICAgIHF1ZXJpZXNQZW5kaW5nOiBxdWV1ZS5sZW5ndGgsXG4gICAgICBzdWJzY3JpYmUsXG4gICAgICBhYm9ydFxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZmFpbFF1ZXJ5KCkge1xuICAgIHN0YXR1cyA9IFwiZmFpbGVkXCI7XG4gICAgZG9uZUNhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgY2FsbGJhY2sodm9pZCAwLCBsYXN0RXJyb3IpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGNsZWFyUXVldWUoKSB7XG4gICAgcXVldWUuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSBcInBlbmRpbmdcIikge1xuICAgICAgICBpdGVtLnN0YXR1cyA9IFwiYWJvcnRlZFwiO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHF1ZXVlID0gW107XG4gIH1cbiAgZnVuY3Rpb24gbW9kdWxlUmVzcG9uc2UoaXRlbSwgcmVzcG9uc2UsIGRhdGEpIHtcbiAgICBjb25zdCBpc0Vycm9yID0gcmVzcG9uc2UgIT09IFwic3VjY2Vzc1wiO1xuICAgIHF1ZXVlID0gcXVldWUuZmlsdGVyKChxdWV1ZWQpID0+IHF1ZXVlZCAhPT0gaXRlbSk7XG4gICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgIGNhc2UgXCJwZW5kaW5nXCI6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZhaWxlZFwiOlxuICAgICAgICBpZiAoaXNFcnJvciB8fCAhY29uZmlnLmRhdGFBZnRlclRpbWVvdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyZXNwb25zZSA9PT0gXCJhYm9ydFwiKSB7XG4gICAgICBsYXN0RXJyb3IgPSBkYXRhO1xuICAgICAgZmFpbFF1ZXJ5KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKSB7XG4gICAgICBsYXN0RXJyb3IgPSBkYXRhO1xuICAgICAgaWYgKCFxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFyZXNvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgZmFpbFF1ZXJ5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXhlY05leHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXNldFRpbWVyKCk7XG4gICAgY2xlYXJRdWV1ZSgpO1xuICAgIGlmICghY29uZmlnLnJhbmRvbSkge1xuICAgICAgY29uc3QgaW5kZXggPSBjb25maWcucmVzb3VyY2VzLmluZGV4T2YoaXRlbS5yZXNvdXJjZSk7XG4gICAgICBpZiAoaW5kZXggIT09IC0xICYmIGluZGV4ICE9PSBjb25maWcuaW5kZXgpIHtcbiAgICAgICAgY29uZmlnLmluZGV4ID0gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHN0YXR1cyA9IFwiY29tcGxldGVkXCI7XG4gICAgZG9uZUNhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgY2FsbGJhY2soZGF0YSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gZXhlY05leHQoKSB7XG4gICAgaWYgKHN0YXR1cyAhPT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVzZXRUaW1lcigpO1xuICAgIGNvbnN0IHJlc291cmNlID0gcmVzb3VyY2VzLnNoaWZ0KCk7XG4gICAgaWYgKHJlc291cmNlID09PSB2b2lkIDApIHtcbiAgICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICByZXNldFRpbWVyKCk7XG4gICAgICAgICAgaWYgKHN0YXR1cyA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgICAgICAgIGNsZWFyUXVldWUoKTtcbiAgICAgICAgICAgIGZhaWxRdWVyeSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgY29uZmlnLnRpbWVvdXQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmYWlsUXVlcnkoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXRlbSA9IHtcbiAgICAgIHN0YXR1czogXCJwZW5kaW5nXCIsXG4gICAgICByZXNvdXJjZSxcbiAgICAgIGNhbGxiYWNrOiAoc3RhdHVzMiwgZGF0YSkgPT4ge1xuICAgICAgICBtb2R1bGVSZXNwb25zZShpdGVtLCBzdGF0dXMyLCBkYXRhKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgcXVlcmllc1NlbnQrKztcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoZXhlY05leHQsIGNvbmZpZy5yb3RhdGUpO1xuICAgIHF1ZXJ5KHJlc291cmNlLCBwYXlsb2FkLCBpdGVtLmNhbGxiYWNrKTtcbiAgfVxuICBzZXRUaW1lb3V0KGV4ZWNOZXh0KTtcbiAgcmV0dXJuIGdldFF1ZXJ5U3RhdHVzO1xufVxuXG4vLyBzcmMvaW5kZXgudHNcbmZ1bmN0aW9uIGluaXRSZWR1bmRhbmN5KGNmZykge1xuICBjb25zdCBjb25maWcgPSB7XG4gICAgLi4uZGVmYXVsdENvbmZpZyxcbiAgICAuLi5jZmdcbiAgfTtcbiAgbGV0IHF1ZXJpZXMgPSBbXTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBxdWVyaWVzID0gcXVlcmllcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0oKS5zdGF0dXMgPT09IFwicGVuZGluZ1wiKTtcbiAgfVxuICBmdW5jdGlvbiBxdWVyeShwYXlsb2FkLCBxdWVyeUNhbGxiYWNrLCBkb25lQ2FsbGJhY2spIHtcbiAgICBjb25zdCBxdWVyeTIgPSBzZW5kUXVlcnkoXG4gICAgICBjb25maWcsXG4gICAgICBwYXlsb2FkLFxuICAgICAgcXVlcnlDYWxsYmFjayxcbiAgICAgIChkYXRhLCBlcnJvcikgPT4ge1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIGlmIChkb25lQ2FsbGJhY2spIHtcbiAgICAgICAgICBkb25lQ2FsbGJhY2soZGF0YSwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICBxdWVyaWVzLnB1c2gocXVlcnkyKTtcbiAgICByZXR1cm4gcXVlcnkyO1xuICB9XG4gIGZ1bmN0aW9uIGZpbmQoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gcXVlcmllcy5maW5kKCh2YWx1ZSkgPT4ge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHZhbHVlKTtcbiAgICB9KSB8fCBudWxsO1xuICB9XG4gIGNvbnN0IGluc3RhbmNlID0ge1xuICAgIHF1ZXJ5LFxuICAgIGZpbmQsXG4gICAgc2V0SW5kZXg6IChpbmRleCkgPT4ge1xuICAgICAgY29uZmlnLmluZGV4ID0gaW5kZXg7XG4gICAgfSxcbiAgICBnZXRJbmRleDogKCkgPT4gY29uZmlnLmluZGV4LFxuICAgIGNsZWFudXBcbiAgfTtcbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBUElDb25maWcoc291cmNlKSB7XG4gIGxldCByZXNvdXJjZXM7XG4gIGlmICh0eXBlb2Ygc291cmNlLnJlc291cmNlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJlc291cmNlcyA9IFtzb3VyY2UucmVzb3VyY2VzXTtcbiAgfSBlbHNlIHtcbiAgICByZXNvdXJjZXMgPSBzb3VyY2UucmVzb3VyY2VzO1xuICAgIGlmICghKHJlc291cmNlcyBpbnN0YW5jZW9mIEFycmF5KSB8fCAhcmVzb3VyY2VzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICByZXNvdXJjZXMsXG4gICAgcGF0aDogc291cmNlLnBhdGggfHwgXCIvXCIsXG4gICAgbWF4VVJMOiBzb3VyY2UubWF4VVJMIHx8IDUwMCxcbiAgICByb3RhdGU6IHNvdXJjZS5yb3RhdGUgfHwgNzUwLFxuICAgIHRpbWVvdXQ6IHNvdXJjZS50aW1lb3V0IHx8IDVlMyxcbiAgICByYW5kb206IHNvdXJjZS5yYW5kb20gPT09IHRydWUsXG4gICAgaW5kZXg6IHNvdXJjZS5pbmRleCB8fCAwLFxuICAgIGRhdGFBZnRlclRpbWVvdXQ6IHNvdXJjZS5kYXRhQWZ0ZXJUaW1lb3V0ICE9PSBmYWxzZVxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgY29uZmlnU3RvcmFnZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuY29uc3QgZmFsbEJhY2tBUElTb3VyY2VzID0gW1xuICBcImh0dHBzOi8vYXBpLnNpbXBsZXN2Zy5jb21cIixcbiAgXCJodHRwczovL2FwaS51bmlzdmcuY29tXCJcbl07XG5jb25zdCBmYWxsQmFja0FQSSA9IFtdO1xud2hpbGUgKGZhbGxCYWNrQVBJU291cmNlcy5sZW5ndGggPiAwKSB7XG4gIGlmIChmYWxsQmFja0FQSVNvdXJjZXMubGVuZ3RoID09PSAxKSB7XG4gICAgZmFsbEJhY2tBUEkucHVzaChmYWxsQmFja0FQSVNvdXJjZXMuc2hpZnQoKSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgIGZhbGxCYWNrQVBJLnB1c2goZmFsbEJhY2tBUElTb3VyY2VzLnNoaWZ0KCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmYWxsQmFja0FQSS5wdXNoKGZhbGxCYWNrQVBJU291cmNlcy5wb3AoKSk7XG4gICAgfVxuICB9XG59XG5jb25maWdTdG9yYWdlW1wiXCJdID0gY3JlYXRlQVBJQ29uZmlnKHtcbiAgcmVzb3VyY2VzOiBbXCJodHRwczovL2FwaS5pY29uaWZ5LmRlc2lnblwiXS5jb25jYXQoZmFsbEJhY2tBUEkpXG59KTtcbmZ1bmN0aW9uIGFkZEFQSVByb3ZpZGVyJDEocHJvdmlkZXIsIGN1c3RvbUNvbmZpZykge1xuICBjb25zdCBjb25maWcgPSBjcmVhdGVBUElDb25maWcoY3VzdG9tQ29uZmlnKTtcbiAgaWYgKGNvbmZpZyA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25maWdTdG9yYWdlW3Byb3ZpZGVyXSA9IGNvbmZpZztcbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBnZXRBUElDb25maWcocHJvdmlkZXIpIHtcbiAgcmV0dXJuIGNvbmZpZ1N0b3JhZ2VbcHJvdmlkZXJdO1xufVxuZnVuY3Rpb24gbGlzdEFQSVByb3ZpZGVycygpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGNvbmZpZ1N0b3JhZ2UpO1xufVxuXG5mdW5jdGlvbiBlbXB0eUNhbGxiYWNrJDEoKSB7XG59XG5jb25zdCByZWR1bmRhbmN5Q2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmZ1bmN0aW9uIGdldFJlZHVuZGFuY3lDYWNoZShwcm92aWRlcikge1xuICBpZiAoIXJlZHVuZGFuY3lDYWNoZVtwcm92aWRlcl0pIHtcbiAgICBjb25zdCBjb25maWcgPSBnZXRBUElDb25maWcocHJvdmlkZXIpO1xuICAgIGlmICghY29uZmlnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlZHVuZGFuY3kgPSBpbml0UmVkdW5kYW5jeShjb25maWcpO1xuICAgIGNvbnN0IGNhY2hlZFJldW5kYW5jeSA9IHtcbiAgICAgIGNvbmZpZyxcbiAgICAgIHJlZHVuZGFuY3lcbiAgICB9O1xuICAgIHJlZHVuZGFuY3lDYWNoZVtwcm92aWRlcl0gPSBjYWNoZWRSZXVuZGFuY3k7XG4gIH1cbiAgcmV0dXJuIHJlZHVuZGFuY3lDYWNoZVtwcm92aWRlcl07XG59XG5mdW5jdGlvbiBzZW5kQVBJUXVlcnkodGFyZ2V0LCBxdWVyeSwgY2FsbGJhY2spIHtcbiAgbGV0IHJlZHVuZGFuY3k7XG4gIGxldCBzZW5kO1xuICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNvbnN0IGFwaSA9IGdldEFQSU1vZHVsZSh0YXJnZXQpO1xuICAgIGlmICghYXBpKSB7XG4gICAgICBjYWxsYmFjayh2b2lkIDAsIDQyNCk7XG4gICAgICByZXR1cm4gZW1wdHlDYWxsYmFjayQxO1xuICAgIH1cbiAgICBzZW5kID0gYXBpLnNlbmQ7XG4gICAgY29uc3QgY2FjaGVkID0gZ2V0UmVkdW5kYW5jeUNhY2hlKHRhcmdldCk7XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgcmVkdW5kYW5jeSA9IGNhY2hlZC5yZWR1bmRhbmN5O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjb25maWcgPSBjcmVhdGVBUElDb25maWcodGFyZ2V0KTtcbiAgICBpZiAoY29uZmlnKSB7XG4gICAgICByZWR1bmRhbmN5ID0gaW5pdFJlZHVuZGFuY3koY29uZmlnKTtcbiAgICAgIGNvbnN0IG1vZHVsZUtleSA9IHRhcmdldC5yZXNvdXJjZXMgPyB0YXJnZXQucmVzb3VyY2VzWzBdIDogXCJcIjtcbiAgICAgIGNvbnN0IGFwaSA9IGdldEFQSU1vZHVsZShtb2R1bGVLZXkpO1xuICAgICAgaWYgKGFwaSkge1xuICAgICAgICBzZW5kID0gYXBpLnNlbmQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICghcmVkdW5kYW5jeSB8fCAhc2VuZCkge1xuICAgIGNhbGxiYWNrKHZvaWQgMCwgNDI0KTtcbiAgICByZXR1cm4gZW1wdHlDYWxsYmFjayQxO1xuICB9XG4gIHJldHVybiByZWR1bmRhbmN5LnF1ZXJ5KHF1ZXJ5LCBzZW5kLCBjYWxsYmFjaykoKS5hYm9ydDtcbn1cblxuY29uc3QgYnJvd3NlckNhY2hlVmVyc2lvbiA9IFwiaWNvbmlmeTJcIjtcbmNvbnN0IGJyb3dzZXJDYWNoZVByZWZpeCA9IFwiaWNvbmlmeVwiO1xuY29uc3QgYnJvd3NlckNhY2hlQ291bnRLZXkgPSBicm93c2VyQ2FjaGVQcmVmaXggKyBcIi1jb3VudFwiO1xuY29uc3QgYnJvd3NlckNhY2hlVmVyc2lvbktleSA9IGJyb3dzZXJDYWNoZVByZWZpeCArIFwiLXZlcnNpb25cIjtcbmNvbnN0IGJyb3dzZXJTdG9yYWdlSG91ciA9IDM2ZTU7XG5jb25zdCBicm93c2VyU3RvcmFnZUNhY2hlRXhwaXJhdGlvbiA9IDE2ODtcblxuZnVuY3Rpb24gZ2V0U3RvcmVkSXRlbShmdW5jLCBrZXkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnVuYy5nZXRJdGVtKGtleSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICB9XG59XG5mdW5jdGlvbiBzZXRTdG9yZWRJdGVtKGZ1bmMsIGtleSwgdmFsdWUpIHtcbiAgdHJ5IHtcbiAgICBmdW5jLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycikge1xuICB9XG59XG5mdW5jdGlvbiByZW1vdmVTdG9yZWRJdGVtKGZ1bmMsIGtleSkge1xuICB0cnkge1xuICAgIGZ1bmMucmVtb3ZlSXRlbShrZXkpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRCcm93c2VyU3RvcmFnZUl0ZW1zQ291bnQoc3RvcmFnZSwgdmFsdWUpIHtcbiAgcmV0dXJuIHNldFN0b3JlZEl0ZW0oc3RvcmFnZSwgYnJvd3NlckNhY2hlQ291bnRLZXksIHZhbHVlLnRvU3RyaW5nKCkpO1xufVxuZnVuY3Rpb24gZ2V0QnJvd3NlclN0b3JhZ2VJdGVtc0NvdW50KHN0b3JhZ2UpIHtcbiAgcmV0dXJuIHBhcnNlSW50KGdldFN0b3JlZEl0ZW0oc3RvcmFnZSwgYnJvd3NlckNhY2hlQ291bnRLZXkpKSB8fCAwO1xufVxuXG5jb25zdCBicm93c2VyU3RvcmFnZUNvbmZpZyA9IHtcbiAgbG9jYWw6IHRydWUsXG4gIHNlc3Npb246IHRydWVcbn07XG5jb25zdCBicm93c2VyU3RvcmFnZUVtcHR5SXRlbXMgPSB7XG4gIGxvY2FsOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLFxuICBzZXNzaW9uOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG59O1xubGV0IGJyb3dzZXJTdG9yYWdlU3RhdHVzID0gZmFsc2U7XG5mdW5jdGlvbiBzZXRCcm93c2VyU3RvcmFnZVN0YXR1cyhzdGF0dXMpIHtcbiAgYnJvd3NlclN0b3JhZ2VTdGF0dXMgPSBzdGF0dXM7XG59XG5cbmxldCBfd2luZG93ID0gdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiA/IHt9IDogd2luZG93O1xuZnVuY3Rpb24gZ2V0QnJvd3NlclN0b3JhZ2Uoa2V5KSB7XG4gIGNvbnN0IGF0dHIgPSBrZXkgKyBcIlN0b3JhZ2VcIjtcbiAgdHJ5IHtcbiAgICBpZiAoX3dpbmRvdyAmJiBfd2luZG93W2F0dHJdICYmIHR5cGVvZiBfd2luZG93W2F0dHJdLmxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIF93aW5kb3dbYXR0cl07XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgfVxuICBicm93c2VyU3RvcmFnZUNvbmZpZ1trZXldID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGl0ZXJhdGVCcm93c2VyU3RvcmFnZShrZXksIGNhbGxiYWNrKSB7XG4gIGNvbnN0IGZ1bmMgPSBnZXRCcm93c2VyU3RvcmFnZShrZXkpO1xuICBpZiAoIWZ1bmMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdmVyc2lvbiA9IGdldFN0b3JlZEl0ZW0oZnVuYywgYnJvd3NlckNhY2hlVmVyc2lvbktleSk7XG4gIGlmICh2ZXJzaW9uICE9PSBicm93c2VyQ2FjaGVWZXJzaW9uKSB7XG4gICAgaWYgKHZlcnNpb24pIHtcbiAgICAgIGNvbnN0IHRvdGFsMiA9IGdldEJyb3dzZXJTdG9yYWdlSXRlbXNDb3VudChmdW5jKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWwyOyBpKyspIHtcbiAgICAgICAgcmVtb3ZlU3RvcmVkSXRlbShmdW5jLCBicm93c2VyQ2FjaGVQcmVmaXggKyBpLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRTdG9yZWRJdGVtKGZ1bmMsIGJyb3dzZXJDYWNoZVZlcnNpb25LZXksIGJyb3dzZXJDYWNoZVZlcnNpb24pO1xuICAgIHNldEJyb3dzZXJTdG9yYWdlSXRlbXNDb3VudChmdW5jLCAwKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbWluVGltZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIGJyb3dzZXJTdG9yYWdlSG91cikgLSBicm93c2VyU3RvcmFnZUNhY2hlRXhwaXJhdGlvbjtcbiAgY29uc3QgcGFyc2VJdGVtID0gKGluZGV4KSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IGJyb3dzZXJDYWNoZVByZWZpeCArIGluZGV4LnRvU3RyaW5nKCk7XG4gICAgY29uc3QgaXRlbSA9IGdldFN0b3JlZEl0ZW0oZnVuYywgbmFtZSk7XG4gICAgaWYgKHR5cGVvZiBpdGVtICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShpdGVtKTtcbiAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgZGF0YS5jYWNoZWQgPT09IFwibnVtYmVyXCIgJiYgZGF0YS5jYWNoZWQgPiBtaW5UaW1lICYmIHR5cGVvZiBkYXRhLnByb3ZpZGVyID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBkYXRhLmRhdGEgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGRhdGEuZGF0YS5wcmVmaXggPT09IFwic3RyaW5nXCIgJiYgY2FsbGJhY2soZGF0YSwgaW5kZXgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgIH1cbiAgICByZW1vdmVTdG9yZWRJdGVtKGZ1bmMsIG5hbWUpO1xuICB9O1xuICBsZXQgdG90YWwgPSBnZXRCcm93c2VyU3RvcmFnZUl0ZW1zQ291bnQoZnVuYyk7XG4gIGZvciAobGV0IGkgPSB0b3RhbCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKCFwYXJzZUl0ZW0oaSkpIHtcbiAgICAgIGlmIChpID09PSB0b3RhbCAtIDEpIHtcbiAgICAgICAgdG90YWwtLTtcbiAgICAgICAgc2V0QnJvd3NlclN0b3JhZ2VJdGVtc0NvdW50KGZ1bmMsIHRvdGFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyb3dzZXJTdG9yYWdlRW1wdHlJdGVtc1trZXldLmFkZChpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdEJyb3dzZXJTdG9yYWdlKCkge1xuICBpZiAoYnJvd3NlclN0b3JhZ2VTdGF0dXMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2V0QnJvd3NlclN0b3JhZ2VTdGF0dXModHJ1ZSk7XG4gIGZvciAoY29uc3Qga2V5IGluIGJyb3dzZXJTdG9yYWdlQ29uZmlnKSB7XG4gICAgaXRlcmF0ZUJyb3dzZXJTdG9yYWdlKGtleSwgKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGljb25TZXQgPSBpdGVtLmRhdGE7XG4gICAgICBjb25zdCBwcm92aWRlciA9IGl0ZW0ucHJvdmlkZXI7XG4gICAgICBjb25zdCBwcmVmaXggPSBpY29uU2V0LnByZWZpeDtcbiAgICAgIGNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKFxuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgcHJlZml4XG4gICAgICApO1xuICAgICAgaWYgKCFhZGRJY29uU2V0KHN0b3JhZ2UsIGljb25TZXQpLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBsYXN0TW9kaWZpZWQgPSBpY29uU2V0Lmxhc3RNb2RpZmllZCB8fCAtMTtcbiAgICAgIHN0b3JhZ2UubGFzdE1vZGlmaWVkQ2FjaGVkID0gc3RvcmFnZS5sYXN0TW9kaWZpZWRDYWNoZWQgPyBNYXRoLm1pbihzdG9yYWdlLmxhc3RNb2RpZmllZENhY2hlZCwgbGFzdE1vZGlmaWVkKSA6IGxhc3RNb2RpZmllZDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxhc3RNb2RpZmllZChzdG9yYWdlLCBsYXN0TW9kaWZpZWQpIHtcbiAgY29uc3QgbGFzdFZhbHVlID0gc3RvcmFnZS5sYXN0TW9kaWZpZWRDYWNoZWQ7XG4gIGlmIChsYXN0VmFsdWUgJiYgbGFzdFZhbHVlID49IGxhc3RNb2RpZmllZCkge1xuICAgIHJldHVybiBsYXN0VmFsdWUgPT09IGxhc3RNb2RpZmllZDtcbiAgfVxuICBzdG9yYWdlLmxhc3RNb2RpZmllZENhY2hlZCA9IGxhc3RNb2RpZmllZDtcbiAgaWYgKGxhc3RWYWx1ZSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGJyb3dzZXJTdG9yYWdlQ29uZmlnKSB7XG4gICAgICBpdGVyYXRlQnJvd3NlclN0b3JhZ2Uoa2V5LCAoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBpY29uU2V0ID0gaXRlbS5kYXRhO1xuICAgICAgICByZXR1cm4gaXRlbS5wcm92aWRlciAhPT0gc3RvcmFnZS5wcm92aWRlciB8fCBpY29uU2V0LnByZWZpeCAhPT0gc3RvcmFnZS5wcmVmaXggfHwgaWNvblNldC5sYXN0TW9kaWZpZWQgPT09IGxhc3RNb2RpZmllZDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHN0b3JlSW5Ccm93c2VyU3RvcmFnZShzdG9yYWdlLCBkYXRhKSB7XG4gIGlmICghYnJvd3NlclN0b3JhZ2VTdGF0dXMpIHtcbiAgICBpbml0QnJvd3NlclN0b3JhZ2UoKTtcbiAgfVxuICBmdW5jdGlvbiBzdG9yZShrZXkpIHtcbiAgICBsZXQgZnVuYztcbiAgICBpZiAoIWJyb3dzZXJTdG9yYWdlQ29uZmlnW2tleV0gfHwgIShmdW5jID0gZ2V0QnJvd3NlclN0b3JhZ2Uoa2V5KSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2V0ID0gYnJvd3NlclN0b3JhZ2VFbXB0eUl0ZW1zW2tleV07XG4gICAgbGV0IGluZGV4O1xuICAgIGlmIChzZXQuc2l6ZSkge1xuICAgICAgc2V0LmRlbGV0ZShpbmRleCA9IEFycmF5LmZyb20oc2V0KS5zaGlmdCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5kZXggPSBnZXRCcm93c2VyU3RvcmFnZUl0ZW1zQ291bnQoZnVuYyk7XG4gICAgICBpZiAoIXNldEJyb3dzZXJTdG9yYWdlSXRlbXNDb3VudChmdW5jLCBpbmRleCArIDEpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaXRlbSA9IHtcbiAgICAgIGNhY2hlZDogTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gYnJvd3NlclN0b3JhZ2VIb3VyKSxcbiAgICAgIHByb3ZpZGVyOiBzdG9yYWdlLnByb3ZpZGVyLFxuICAgICAgZGF0YVxuICAgIH07XG4gICAgcmV0dXJuIHNldFN0b3JlZEl0ZW0oXG4gICAgICBmdW5jLFxuICAgICAgYnJvd3NlckNhY2hlUHJlZml4ICsgaW5kZXgudG9TdHJpbmcoKSxcbiAgICAgIEpTT04uc3RyaW5naWZ5KGl0ZW0pXG4gICAgKTtcbiAgfVxuICBpZiAoZGF0YS5sYXN0TW9kaWZpZWQgJiYgIXVwZGF0ZUxhc3RNb2RpZmllZChzdG9yYWdlLCBkYXRhLmxhc3RNb2RpZmllZCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFPYmplY3Qua2V5cyhkYXRhLmljb25zKS5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGRhdGEubm90X2ZvdW5kKSB7XG4gICAgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpO1xuICAgIGRlbGV0ZSBkYXRhLm5vdF9mb3VuZDtcbiAgfVxuICBpZiAoIXN0b3JlKFwibG9jYWxcIikpIHtcbiAgICBzdG9yZShcInNlc3Npb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW1wdHlDYWxsYmFjaygpIHtcbn1cbmZ1bmN0aW9uIGxvYWRlZE5ld0ljb25zKHN0b3JhZ2UpIHtcbiAgaWYgKCFzdG9yYWdlLmljb25zTG9hZGVyRmxhZykge1xuICAgIHN0b3JhZ2UuaWNvbnNMb2FkZXJGbGFnID0gdHJ1ZTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHN0b3JhZ2UuaWNvbnNMb2FkZXJGbGFnID0gZmFsc2U7XG4gICAgICB1cGRhdGVDYWxsYmFja3Moc3RvcmFnZSk7XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGxvYWROZXdJY29ucyhzdG9yYWdlLCBpY29ucykge1xuICBpZiAoIXN0b3JhZ2UuaWNvbnNUb0xvYWQpIHtcbiAgICBzdG9yYWdlLmljb25zVG9Mb2FkID0gaWNvbnM7XG4gIH0gZWxzZSB7XG4gICAgc3RvcmFnZS5pY29uc1RvTG9hZCA9IHN0b3JhZ2UuaWNvbnNUb0xvYWQuY29uY2F0KGljb25zKS5zb3J0KCk7XG4gIH1cbiAgaWYgKCFzdG9yYWdlLmljb25zUXVldWVGbGFnKSB7XG4gICAgc3RvcmFnZS5pY29uc1F1ZXVlRmxhZyA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzdG9yYWdlLmljb25zUXVldWVGbGFnID0gZmFsc2U7XG4gICAgICBjb25zdCB7IHByb3ZpZGVyLCBwcmVmaXggfSA9IHN0b3JhZ2U7XG4gICAgICBjb25zdCBpY29uczIgPSBzdG9yYWdlLmljb25zVG9Mb2FkO1xuICAgICAgZGVsZXRlIHN0b3JhZ2UuaWNvbnNUb0xvYWQ7XG4gICAgICBsZXQgYXBpO1xuICAgICAgaWYgKCFpY29uczIgfHwgIShhcGkgPSBnZXRBUElNb2R1bGUocHJvdmlkZXIpKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJhbXMgPSBhcGkucHJlcGFyZShwcm92aWRlciwgcHJlZml4LCBpY29uczIpO1xuICAgICAgcGFyYW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgc2VuZEFQSVF1ZXJ5KHByb3ZpZGVyLCBpdGVtLCAoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgaXRlbS5pY29ucy5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICAgICAgICAgIHN0b3JhZ2UubWlzc2luZy5hZGQobmFtZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gYWRkSWNvblNldChcbiAgICAgICAgICAgICAgICBzdG9yYWdlLFxuICAgICAgICAgICAgICAgIGRhdGFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKCFwYXJzZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IHBlbmRpbmcgPSBzdG9yYWdlLnBlbmRpbmdJY29ucztcbiAgICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICBwYXJzZWQuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgcGVuZGluZy5kZWxldGUobmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3RvcmVJbkJyb3dzZXJTdG9yYWdlKHN0b3JhZ2UsIGRhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbG9hZGVkTmV3SWNvbnMoc3RvcmFnZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbmNvbnN0IGxvYWRJY29ucyQxID0gKGljb25zLCBjYWxsYmFjaykgPT4ge1xuICBjb25zdCBjbGVhbmVkSWNvbnMgPSBsaXN0VG9JY29ucyhpY29ucywgdHJ1ZSwgYWxsb3dTaW1wbGVOYW1lcygpKTtcbiAgY29uc3Qgc29ydGVkSWNvbnMgPSBzb3J0SWNvbnMoY2xlYW5lZEljb25zKTtcbiAgaWYgKCFzb3J0ZWRJY29ucy5wZW5kaW5nLmxlbmd0aCkge1xuICAgIGxldCBjYWxsQ2FsbGJhY2sgPSB0cnVlO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChjYWxsQ2FsbGJhY2spIHtcbiAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgIHNvcnRlZEljb25zLmxvYWRlZCxcbiAgICAgICAgICAgIHNvcnRlZEljb25zLm1pc3NpbmcsXG4gICAgICAgICAgICBzb3J0ZWRJY29ucy5wZW5kaW5nLFxuICAgICAgICAgICAgZW1wdHlDYWxsYmFja1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2FsbENhbGxiYWNrID0gZmFsc2U7XG4gICAgfTtcbiAgfVxuICBjb25zdCBuZXdJY29ucyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25zdCBzb3VyY2VzID0gW107XG4gIGxldCBsYXN0UHJvdmlkZXIsIGxhc3RQcmVmaXg7XG4gIHNvcnRlZEljb25zLnBlbmRpbmcuZm9yRWFjaCgoaWNvbikgPT4ge1xuICAgIGNvbnN0IHsgcHJvdmlkZXIsIHByZWZpeCB9ID0gaWNvbjtcbiAgICBpZiAocHJlZml4ID09PSBsYXN0UHJlZml4ICYmIHByb3ZpZGVyID09PSBsYXN0UHJvdmlkZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGFzdFByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgbGFzdFByZWZpeCA9IHByZWZpeDtcbiAgICBzb3VyY2VzLnB1c2goZ2V0U3RvcmFnZShwcm92aWRlciwgcHJlZml4KSk7XG4gICAgY29uc3QgcHJvdmlkZXJOZXdJY29ucyA9IG5ld0ljb25zW3Byb3ZpZGVyXSB8fCAobmV3SWNvbnNbcHJvdmlkZXJdID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgIGlmICghcHJvdmlkZXJOZXdJY29uc1twcmVmaXhdKSB7XG4gICAgICBwcm92aWRlck5ld0ljb25zW3ByZWZpeF0gPSBbXTtcbiAgICB9XG4gIH0pO1xuICBzb3J0ZWRJY29ucy5wZW5kaW5nLmZvckVhY2goKGljb24pID0+IHtcbiAgICBjb25zdCB7IHByb3ZpZGVyLCBwcmVmaXgsIG5hbWUgfSA9IGljb247XG4gICAgY29uc3Qgc3RvcmFnZSA9IGdldFN0b3JhZ2UocHJvdmlkZXIsIHByZWZpeCk7XG4gICAgY29uc3QgcGVuZGluZ1F1ZXVlID0gc3RvcmFnZS5wZW5kaW5nSWNvbnMgfHwgKHN0b3JhZ2UucGVuZGluZ0ljb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgaWYgKCFwZW5kaW5nUXVldWUuaGFzKG5hbWUpKSB7XG4gICAgICBwZW5kaW5nUXVldWUuYWRkKG5hbWUpO1xuICAgICAgbmV3SWNvbnNbcHJvdmlkZXJdW3ByZWZpeF0ucHVzaChuYW1lKTtcbiAgICB9XG4gIH0pO1xuICBzb3VyY2VzLmZvckVhY2goKHN0b3JhZ2UpID0+IHtcbiAgICBjb25zdCB7IHByb3ZpZGVyLCBwcmVmaXggfSA9IHN0b3JhZ2U7XG4gICAgaWYgKG5ld0ljb25zW3Byb3ZpZGVyXVtwcmVmaXhdLmxlbmd0aCkge1xuICAgICAgbG9hZE5ld0ljb25zKHN0b3JhZ2UsIG5ld0ljb25zW3Byb3ZpZGVyXVtwcmVmaXhdKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2FsbGJhY2sgPyBzdG9yZUNhbGxiYWNrKGNhbGxiYWNrLCBzb3J0ZWRJY29ucywgc291cmNlcykgOiBlbXB0eUNhbGxiYWNrO1xufTtcbmNvbnN0IGxvYWRJY29uJDEgPSAoaWNvbikgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKGZ1bGZpbGwsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGljb25PYmogPSB0eXBlb2YgaWNvbiA9PT0gXCJzdHJpbmdcIiA/IHN0cmluZ1RvSWNvbihpY29uLCB0cnVlKSA6IGljb247XG4gICAgaWYgKCFpY29uT2JqKSB7XG4gICAgICByZWplY3QoaWNvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxvYWRJY29ucyQxKFtpY29uT2JqIHx8IGljb25dLCAobG9hZGVkKSA9PiB7XG4gICAgICBpZiAobG9hZGVkLmxlbmd0aCAmJiBpY29uT2JqKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBnZXRJY29uRGF0YShpY29uT2JqKTtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICBmdWxmaWxsKHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRJY29uUHJvcHMsXG4gICAgICAgICAgICAuLi5kYXRhXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWplY3QoaWNvbik7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBUZXN0IGljb24gc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIHRlc3RJY29uT2JqZWN0KHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgb2JqID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLmJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLm9iaixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICAvL1xuICAgIH1cbn1cblxuLyoqXG4gKiBQYXJzZSBpY29uIHZhbHVlLCBsb2FkIGlmIG5lZWRlZFxuICovXG5mdW5jdGlvbiBwYXJzZUljb25WYWx1ZSh2YWx1ZSwgb25sb2FkKSB7XG4gICAgLy8gQ2hlY2sgaWYgaWNvbiBuYW1lIGlzIHZhbGlkXG4gICAgY29uc3QgbmFtZSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBzdHJpbmdUb0ljb24odmFsdWUsIHRydWUsIHRydWUpIDogbnVsbDtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgLy8gVGVzdCBmb3Igc2VyaWFsaXNlZCBvYmplY3RcbiAgICAgICAgY29uc3QgZGF0YSA9IHRlc3RJY29uT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gVmFsaWQgaWNvbiBuYW1lOiBjaGVjayBpZiBkYXRhIGlzIGF2YWlsYWJsZVxuICAgIGNvbnN0IGRhdGEgPSBnZXRJY29uRGF0YShuYW1lKTtcbiAgICAvLyBJY29uIGRhdGEgZXhpc3RzIG9yIGljb24gaGFzIG5vIHByZWZpeC4gRG8gbm90IGxvYWQgaWNvbiBmcm9tIEFQSSBpZiBpY29uIGhhcyBubyBwcmVmaXhcbiAgICBpZiAoZGF0YSAhPT0gdm9pZCAwIHx8ICFuYW1lLnByZWZpeCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZGF0YSwgLy8gY291bGQgYmUgJ251bGwnIC0+IGljb24gaXMgbWlzc2luZ1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBMb2FkIGljb25cbiAgICBjb25zdCBsb2FkaW5nID0gbG9hZEljb25zJDEoW25hbWVdLCAoKSA9PiBvbmxvYWQodmFsdWUsIG5hbWUsIGdldEljb25EYXRhKG5hbWUpKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxvYWRpbmcsXG4gICAgfTtcbn1cblxuLyoqXG4gKiBDaGVjayBmb3IgaW5saW5lXG4gKi9cbmZ1bmN0aW9uIGdldElubGluZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuaGFzQXR0cmlidXRlKCdpbmxpbmUnKTtcbn1cblxuLy8gQ2hlY2sgZm9yIFNhZmFyaVxubGV0IGlzQnVnZ2VkU2FmYXJpID0gZmFsc2U7XG50cnkge1xuICAgIGlzQnVnZ2VkU2FmYXJpID0gbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCdBcHBsZScpID09PSAwO1xufVxuY2F0Y2ggKGVycikge1xuICAgIC8vXG59XG4vKipcbiAqIEdldCByZW5kZXIgbW9kZVxuICovXG5mdW5jdGlvbiBnZXRSZW5kZXJNb2RlKGJvZHksIG1vZGUpIHtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgLy8gRm9yY2UgbW9kZVxuICAgICAgICBjYXNlICdzdmcnOlxuICAgICAgICBjYXNlICdiZyc6XG4gICAgICAgIGNhc2UgJ21hc2snOlxuICAgICAgICAgICAgcmV0dXJuIG1vZGU7XG4gICAgfVxuICAgIC8vIENoZWNrIGZvciBhbmltYXRpb24sIHVzZSAnc3R5bGUnIGZvciBhbmltYXRlZCBpY29ucywgdW5sZXNzIGJyb3dzZXIgaXMgU2FmYXJpXG4gICAgLy8gKG9ubHkgPGE+LCB3aGljaCBzaG91bGQgYmUgaWdub3JlZCBvciBhbmltYXRpb25zIHN0YXJ0IHdpdGggJzxhJylcbiAgICBpZiAobW9kZSAhPT0gJ3N0eWxlJyAmJlxuICAgICAgICAoaXNCdWdnZWRTYWZhcmkgfHwgYm9keS5pbmRleE9mKCc8YScpID09PSAtMSkpIHtcbiAgICAgICAgLy8gUmVuZGVyIDxzdmc+XG4gICAgICAgIHJldHVybiAnc3ZnJztcbiAgICB9XG4gICAgLy8gVXNlIGJhY2tncm91bmQgb3IgbWFza1xuICAgIHJldHVybiBib2R5LmluZGV4T2YoJ2N1cnJlbnRDb2xvcicpID09PSAtMSA/ICdiZycgOiAnbWFzayc7XG59XG5cbmNvbnN0IHVuaXRzU3BsaXQgPSAvKC0/WzAtOS5dKlswLTldK1swLTkuXSopL2c7XG5jb25zdCB1bml0c1Rlc3QgPSAvXi0/WzAtOS5dKlswLTldK1swLTkuXSokL2c7XG5mdW5jdGlvbiBjYWxjdWxhdGVTaXplJDEoc2l6ZSwgcmF0aW8sIHByZWNpc2lvbikge1xuICBpZiAocmF0aW8gPT09IDEpIHtcbiAgICByZXR1cm4gc2l6ZTtcbiAgfVxuICBwcmVjaXNpb24gPSBwcmVjaXNpb24gfHwgMTAwO1xuICBpZiAodHlwZW9mIHNpemUgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gTWF0aC5jZWlsKHNpemUgKiByYXRpbyAqIHByZWNpc2lvbikgLyBwcmVjaXNpb247XG4gIH1cbiAgaWYgKHR5cGVvZiBzaXplICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHNpemU7XG4gIH1cbiAgY29uc3Qgb2xkUGFydHMgPSBzaXplLnNwbGl0KHVuaXRzU3BsaXQpO1xuICBpZiAob2xkUGFydHMgPT09IG51bGwgfHwgIW9sZFBhcnRzLmxlbmd0aCkge1xuICAgIHJldHVybiBzaXplO1xuICB9XG4gIGNvbnN0IG5ld1BhcnRzID0gW107XG4gIGxldCBjb2RlID0gb2xkUGFydHMuc2hpZnQoKTtcbiAgbGV0IGlzTnVtYmVyID0gdW5pdHNUZXN0LnRlc3QoY29kZSk7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKGlzTnVtYmVyKSB7XG4gICAgICBjb25zdCBudW0gPSBwYXJzZUZsb2F0KGNvZGUpO1xuICAgICAgaWYgKGlzTmFOKG51bSkpIHtcbiAgICAgICAgbmV3UGFydHMucHVzaChjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1BhcnRzLnB1c2goTWF0aC5jZWlsKG51bSAqIHJhdGlvICogcHJlY2lzaW9uKSAvIHByZWNpc2lvbik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1BhcnRzLnB1c2goY29kZSk7XG4gICAgfVxuICAgIGNvZGUgPSBvbGRQYXJ0cy5zaGlmdCgpO1xuICAgIGlmIChjb2RlID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBuZXdQYXJ0cy5qb2luKFwiXCIpO1xuICAgIH1cbiAgICBpc051bWJlciA9ICFpc051bWJlcjtcbiAgfVxufVxuXG5jb25zdCBpc1Vuc2V0S2V5d29yZCA9ICh2YWx1ZSkgPT4gdmFsdWUgPT09IFwidW5zZXRcIiB8fCB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB2YWx1ZSA9PT0gXCJub25lXCI7XG5mdW5jdGlvbiBpY29uVG9TVkcoaWNvbiwgY3VzdG9taXNhdGlvbnMpIHtcbiAgY29uc3QgZnVsbEljb24gPSB7XG4gICAgLi4uZGVmYXVsdEljb25Qcm9wcyxcbiAgICAuLi5pY29uXG4gIH07XG4gIGNvbnN0IGZ1bGxDdXN0b21pc2F0aW9ucyA9IHtcbiAgICAuLi5kZWZhdWx0SWNvbkN1c3RvbWlzYXRpb25zLFxuICAgIC4uLmN1c3RvbWlzYXRpb25zXG4gIH07XG4gIGNvbnN0IGJveCA9IHtcbiAgICBsZWZ0OiBmdWxsSWNvbi5sZWZ0LFxuICAgIHRvcDogZnVsbEljb24udG9wLFxuICAgIHdpZHRoOiBmdWxsSWNvbi53aWR0aCxcbiAgICBoZWlnaHQ6IGZ1bGxJY29uLmhlaWdodFxuICB9O1xuICBsZXQgYm9keSA9IGZ1bGxJY29uLmJvZHk7XG4gIFtmdWxsSWNvbiwgZnVsbEN1c3RvbWlzYXRpb25zXS5mb3JFYWNoKChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9ucyA9IFtdO1xuICAgIGNvbnN0IGhGbGlwID0gcHJvcHMuaEZsaXA7XG4gICAgY29uc3QgdkZsaXAgPSBwcm9wcy52RmxpcDtcbiAgICBsZXQgcm90YXRpb24gPSBwcm9wcy5yb3RhdGU7XG4gICAgaWYgKGhGbGlwKSB7XG4gICAgICBpZiAodkZsaXApIHtcbiAgICAgICAgcm90YXRpb24gKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKFxuICAgICAgICAgIFwidHJhbnNsYXRlKFwiICsgKGJveC53aWR0aCArIGJveC5sZWZ0KS50b1N0cmluZygpICsgXCIgXCIgKyAoMCAtIGJveC50b3ApLnRvU3RyaW5nKCkgKyBcIilcIlxuICAgICAgICApO1xuICAgICAgICB0cmFuc2Zvcm1hdGlvbnMucHVzaChcInNjYWxlKC0xIDEpXCIpO1xuICAgICAgICBib3gudG9wID0gYm94LmxlZnQgPSAwO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodkZsaXApIHtcbiAgICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKFxuICAgICAgICBcInRyYW5zbGF0ZShcIiArICgwIC0gYm94LmxlZnQpLnRvU3RyaW5nKCkgKyBcIiBcIiArIChib3guaGVpZ2h0ICsgYm94LnRvcCkudG9TdHJpbmcoKSArIFwiKVwiXG4gICAgICApO1xuICAgICAgdHJhbnNmb3JtYXRpb25zLnB1c2goXCJzY2FsZSgxIC0xKVwiKTtcbiAgICAgIGJveC50b3AgPSBib3gubGVmdCA9IDA7XG4gICAgfVxuICAgIGxldCB0ZW1wVmFsdWU7XG4gICAgaWYgKHJvdGF0aW9uIDwgMCkge1xuICAgICAgcm90YXRpb24gLT0gTWF0aC5mbG9vcihyb3RhdGlvbiAvIDQpICogNDtcbiAgICB9XG4gICAgcm90YXRpb24gPSByb3RhdGlvbiAlIDQ7XG4gICAgc3dpdGNoIChyb3RhdGlvbikge1xuICAgICAgY2FzZSAxOlxuICAgICAgICB0ZW1wVmFsdWUgPSBib3guaGVpZ2h0IC8gMiArIGJveC50b3A7XG4gICAgICAgIHRyYW5zZm9ybWF0aW9ucy51bnNoaWZ0KFxuICAgICAgICAgIFwicm90YXRlKDkwIFwiICsgdGVtcFZhbHVlLnRvU3RyaW5nKCkgKyBcIiBcIiArIHRlbXBWYWx1ZS50b1N0cmluZygpICsgXCIpXCJcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHRyYW5zZm9ybWF0aW9ucy51bnNoaWZ0KFxuICAgICAgICAgIFwicm90YXRlKDE4MCBcIiArIChib3gud2lkdGggLyAyICsgYm94LmxlZnQpLnRvU3RyaW5nKCkgKyBcIiBcIiArIChib3guaGVpZ2h0IC8gMiArIGJveC50b3ApLnRvU3RyaW5nKCkgKyBcIilcIlxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgdGVtcFZhbHVlID0gYm94LndpZHRoIC8gMiArIGJveC5sZWZ0O1xuICAgICAgICB0cmFuc2Zvcm1hdGlvbnMudW5zaGlmdChcbiAgICAgICAgICBcInJvdGF0ZSgtOTAgXCIgKyB0ZW1wVmFsdWUudG9TdHJpbmcoKSArIFwiIFwiICsgdGVtcFZhbHVlLnRvU3RyaW5nKCkgKyBcIilcIlxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKHJvdGF0aW9uICUgMiA9PT0gMSkge1xuICAgICAgaWYgKGJveC5sZWZ0ICE9PSBib3gudG9wKSB7XG4gICAgICAgIHRlbXBWYWx1ZSA9IGJveC5sZWZ0O1xuICAgICAgICBib3gubGVmdCA9IGJveC50b3A7XG4gICAgICAgIGJveC50b3AgPSB0ZW1wVmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoYm94LndpZHRoICE9PSBib3guaGVpZ2h0KSB7XG4gICAgICAgIHRlbXBWYWx1ZSA9IGJveC53aWR0aDtcbiAgICAgICAgYm94LndpZHRoID0gYm94LmhlaWdodDtcbiAgICAgICAgYm94LmhlaWdodCA9IHRlbXBWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRyYW5zZm9ybWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgIGJvZHkgPSAnPGcgdHJhbnNmb3JtPVwiJyArIHRyYW5zZm9ybWF0aW9ucy5qb2luKFwiIFwiKSArICdcIj4nICsgYm9keSArIFwiPC9nPlwiO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGN1c3RvbWlzYXRpb25zV2lkdGggPSBmdWxsQ3VzdG9taXNhdGlvbnMud2lkdGg7XG4gIGNvbnN0IGN1c3RvbWlzYXRpb25zSGVpZ2h0ID0gZnVsbEN1c3RvbWlzYXRpb25zLmhlaWdodDtcbiAgY29uc3QgYm94V2lkdGggPSBib3gud2lkdGg7XG4gIGNvbnN0IGJveEhlaWdodCA9IGJveC5oZWlnaHQ7XG4gIGxldCB3aWR0aDtcbiAgbGV0IGhlaWdodDtcbiAgaWYgKGN1c3RvbWlzYXRpb25zV2lkdGggPT09IG51bGwpIHtcbiAgICBoZWlnaHQgPSBjdXN0b21pc2F0aW9uc0hlaWdodCA9PT0gbnVsbCA/IFwiMWVtXCIgOiBjdXN0b21pc2F0aW9uc0hlaWdodCA9PT0gXCJhdXRvXCIgPyBib3hIZWlnaHQgOiBjdXN0b21pc2F0aW9uc0hlaWdodDtcbiAgICB3aWR0aCA9IGNhbGN1bGF0ZVNpemUkMShoZWlnaHQsIGJveFdpZHRoIC8gYm94SGVpZ2h0KTtcbiAgfSBlbHNlIHtcbiAgICB3aWR0aCA9IGN1c3RvbWlzYXRpb25zV2lkdGggPT09IFwiYXV0b1wiID8gYm94V2lkdGggOiBjdXN0b21pc2F0aW9uc1dpZHRoO1xuICAgIGhlaWdodCA9IGN1c3RvbWlzYXRpb25zSGVpZ2h0ID09PSBudWxsID8gY2FsY3VsYXRlU2l6ZSQxKHdpZHRoLCBib3hIZWlnaHQgLyBib3hXaWR0aCkgOiBjdXN0b21pc2F0aW9uc0hlaWdodCA9PT0gXCJhdXRvXCIgPyBib3hIZWlnaHQgOiBjdXN0b21pc2F0aW9uc0hlaWdodDtcbiAgfVxuICBjb25zdCBhdHRyaWJ1dGVzID0ge307XG4gIGNvbnN0IHNldEF0dHIgPSAocHJvcCwgdmFsdWUpID0+IHtcbiAgICBpZiAoIWlzVW5zZXRLZXl3b3JkKHZhbHVlKSkge1xuICAgICAgYXR0cmlidXRlc1twcm9wXSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9O1xuICBzZXRBdHRyKFwid2lkdGhcIiwgd2lkdGgpO1xuICBzZXRBdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCk7XG4gIGF0dHJpYnV0ZXMudmlld0JveCA9IGJveC5sZWZ0LnRvU3RyaW5nKCkgKyBcIiBcIiArIGJveC50b3AudG9TdHJpbmcoKSArIFwiIFwiICsgYm94V2lkdGgudG9TdHJpbmcoKSArIFwiIFwiICsgYm94SGVpZ2h0LnRvU3RyaW5nKCk7XG4gIHJldHVybiB7XG4gICAgYXR0cmlidXRlcyxcbiAgICBib2R5XG4gIH07XG59XG5cbmNvbnN0IGRldGVjdEZldGNoID0gKCkgPT4ge1xuICBsZXQgY2FsbGJhY2s7XG4gIHRyeSB7XG4gICAgY2FsbGJhY2sgPSBmZXRjaDtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICB9XG59O1xubGV0IGZldGNoTW9kdWxlID0gZGV0ZWN0RmV0Y2goKTtcbmZ1bmN0aW9uIHNldEZldGNoKGZldGNoMikge1xuICBmZXRjaE1vZHVsZSA9IGZldGNoMjtcbn1cbmZ1bmN0aW9uIGdldEZldGNoKCkge1xuICByZXR1cm4gZmV0Y2hNb2R1bGU7XG59XG5mdW5jdGlvbiBjYWxjdWxhdGVNYXhMZW5ndGgocHJvdmlkZXIsIHByZWZpeCkge1xuICBjb25zdCBjb25maWcgPSBnZXRBUElDb25maWcocHJvdmlkZXIpO1xuICBpZiAoIWNvbmZpZykge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGxldCByZXN1bHQ7XG4gIGlmICghY29uZmlnLm1heFVSTCkge1xuICAgIHJlc3VsdCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGV0IG1heEhvc3RMZW5ndGggPSAwO1xuICAgIGNvbmZpZy5yZXNvdXJjZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgaG9zdCA9IGl0ZW07XG4gICAgICBtYXhIb3N0TGVuZ3RoID0gTWF0aC5tYXgobWF4SG9zdExlbmd0aCwgaG9zdC5sZW5ndGgpO1xuICAgIH0pO1xuICAgIGNvbnN0IHVybCA9IHByZWZpeCArIFwiLmpzb24/aWNvbnM9XCI7XG4gICAgcmVzdWx0ID0gY29uZmlnLm1heFVSTCAtIG1heEhvc3RMZW5ndGggLSBjb25maWcucGF0aC5sZW5ndGggLSB1cmwubGVuZ3RoO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBzaG91bGRBYm9ydChzdGF0dXMpIHtcbiAgcmV0dXJuIHN0YXR1cyA9PT0gNDA0O1xufVxuY29uc3QgcHJlcGFyZSA9IChwcm92aWRlciwgcHJlZml4LCBpY29ucykgPT4ge1xuICBjb25zdCByZXN1bHRzID0gW107XG4gIGNvbnN0IG1heExlbmd0aCA9IGNhbGN1bGF0ZU1heExlbmd0aChwcm92aWRlciwgcHJlZml4KTtcbiAgY29uc3QgdHlwZSA9IFwiaWNvbnNcIjtcbiAgbGV0IGl0ZW0gPSB7XG4gICAgdHlwZSxcbiAgICBwcm92aWRlcixcbiAgICBwcmVmaXgsXG4gICAgaWNvbnM6IFtdXG4gIH07XG4gIGxldCBsZW5ndGggPSAwO1xuICBpY29ucy5mb3JFYWNoKChuYW1lLCBpbmRleCkgPT4ge1xuICAgIGxlbmd0aCArPSBuYW1lLmxlbmd0aCArIDE7XG4gICAgaWYgKGxlbmd0aCA+PSBtYXhMZW5ndGggJiYgaW5kZXggPiAwKSB7XG4gICAgICByZXN1bHRzLnB1c2goaXRlbSk7XG4gICAgICBpdGVtID0ge1xuICAgICAgICB0eXBlLFxuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgcHJlZml4LFxuICAgICAgICBpY29uczogW11cbiAgICAgIH07XG4gICAgICBsZW5ndGggPSBuYW1lLmxlbmd0aDtcbiAgICB9XG4gICAgaXRlbS5pY29ucy5wdXNoKG5hbWUpO1xuICB9KTtcbiAgcmVzdWx0cy5wdXNoKGl0ZW0pO1xuICByZXR1cm4gcmVzdWx0cztcbn07XG5mdW5jdGlvbiBnZXRQYXRoKHByb3ZpZGVyKSB7XG4gIGlmICh0eXBlb2YgcHJvdmlkZXIgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zdCBjb25maWcgPSBnZXRBUElDb25maWcocHJvdmlkZXIpO1xuICAgIGlmIChjb25maWcpIHtcbiAgICAgIHJldHVybiBjb25maWcucGF0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiL1wiO1xufVxuY29uc3Qgc2VuZCA9IChob3N0LCBwYXJhbXMsIGNhbGxiYWNrKSA9PiB7XG4gIGlmICghZmV0Y2hNb2R1bGUpIHtcbiAgICBjYWxsYmFjayhcImFib3J0XCIsIDQyNCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBwYXRoID0gZ2V0UGF0aChwYXJhbXMucHJvdmlkZXIpO1xuICBzd2l0Y2ggKHBhcmFtcy50eXBlKSB7XG4gICAgY2FzZSBcImljb25zXCI6IHtcbiAgICAgIGNvbnN0IHByZWZpeCA9IHBhcmFtcy5wcmVmaXg7XG4gICAgICBjb25zdCBpY29ucyA9IHBhcmFtcy5pY29ucztcbiAgICAgIGNvbnN0IGljb25zTGlzdCA9IGljb25zLmpvaW4oXCIsXCIpO1xuICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgIGljb25zOiBpY29uc0xpc3RcbiAgICAgIH0pO1xuICAgICAgcGF0aCArPSBwcmVmaXggKyBcIi5qc29uP1wiICsgdXJsUGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBcImN1c3RvbVwiOiB7XG4gICAgICBjb25zdCB1cmkgPSBwYXJhbXMudXJpO1xuICAgICAgcGF0aCArPSB1cmkuc2xpY2UoMCwgMSkgPT09IFwiL1wiID8gdXJpLnNsaWNlKDEpIDogdXJpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBjYWxsYmFjayhcImFib3J0XCIsIDQwMCk7XG4gICAgICByZXR1cm47XG4gIH1cbiAgbGV0IGRlZmF1bHRFcnJvciA9IDUwMztcbiAgZmV0Y2hNb2R1bGUoaG9zdCArIHBhdGgpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgY29uc3Qgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgIGlmIChzdGF0dXMgIT09IDIwMCkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKHNob3VsZEFib3J0KHN0YXR1cykgPyBcImFib3J0XCIgOiBcIm5leHRcIiwgc3RhdHVzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWZhdWx0RXJyb3IgPSA1MDE7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgfSkudGhlbigoZGF0YSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIiB8fCBkYXRhID09PSBudWxsKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKGRhdGEgPT09IDQwNCkge1xuICAgICAgICAgIGNhbGxiYWNrKFwiYWJvcnRcIiwgZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2soXCJuZXh0XCIsIGRlZmF1bHRFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNhbGxiYWNrKFwic3VjY2Vzc1wiLCBkYXRhKTtcbiAgICB9KTtcbiAgfSkuY2F0Y2goKCkgPT4ge1xuICAgIGNhbGxiYWNrKFwibmV4dFwiLCBkZWZhdWx0RXJyb3IpO1xuICB9KTtcbn07XG5jb25zdCBmZXRjaEFQSU1vZHVsZSA9IHtcbiAgcHJlcGFyZSxcbiAgc2VuZFxufTtcblxuZnVuY3Rpb24gdG9nZ2xlQnJvd3NlckNhY2hlKHN0b3JhZ2UsIHZhbHVlKSB7XG4gIHN3aXRjaCAoc3RvcmFnZSkge1xuICAgIGNhc2UgXCJsb2NhbFwiOlxuICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICBicm93c2VyU3RvcmFnZUNvbmZpZ1tzdG9yYWdlXSA9IHZhbHVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImFsbFwiOlxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gYnJvd3NlclN0b3JhZ2VDb25maWcpIHtcbiAgICAgICAgYnJvd3NlclN0b3JhZ2VDb25maWdba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuLyoqXG4gKiBBdHRyaWJ1dGUgdG8gYWRkXG4gKi9cbmNvbnN0IG5vZGVBdHRyID0gJ2RhdGEtc3R5bGUnO1xuLyoqXG4gKiBDdXN0b20gc3R5bGUgdG8gYWRkIHRvIGVhY2ggbm9kZVxuICovXG5sZXQgY3VzdG9tU3R5bGUgPSAnJztcbi8qKlxuICogU2V0IGN1c3RvbSBzdHlsZSB0byBhZGQgdG8gYWxsIGNvbXBvbmVudHNcbiAqXG4gKiBBZmZlY3RzIG9ubHkgY29tcG9uZW50cyByZW5kZXJlZCBhZnRlciBmdW5jdGlvbiBjYWxsXG4gKi9cbmZ1bmN0aW9uIGFwcGVuZEN1c3RvbVN0eWxlKHN0eWxlKSB7XG4gICAgY3VzdG9tU3R5bGUgPSBzdHlsZTtcbn1cbi8qKlxuICogQWRkL3VwZGF0ZSBzdHlsZSBub2RlXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVN0eWxlKHBhcmVudCwgaW5saW5lKSB7XG4gICAgLy8gR2V0IG5vZGUsIGNyZWF0ZSBpZiBuZWVkZWRcbiAgICBsZXQgc3R5bGVOb2RlID0gQXJyYXkuZnJvbShwYXJlbnQuY2hpbGROb2RlcykuZmluZCgobm9kZSkgPT4gbm9kZS5oYXNBdHRyaWJ1dGUgJiZcbiAgICAgICAgbm9kZS5oYXNBdHRyaWJ1dGUobm9kZUF0dHIpKTtcbiAgICBpZiAoIXN0eWxlTm9kZSkge1xuICAgICAgICBzdHlsZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZU5vZGUuc2V0QXR0cmlidXRlKG5vZGVBdHRyLCBub2RlQXR0cik7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChzdHlsZU5vZGUpO1xuICAgIH1cbiAgICAvLyBVcGRhdGUgY29udGVudFxuICAgIHN0eWxlTm9kZS50ZXh0Q29udGVudCA9XG4gICAgICAgICc6aG9zdHtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjonICtcbiAgICAgICAgICAgIChpbmxpbmUgPyAnLTAuMTI1ZW0nIDogJzAnKSArXG4gICAgICAgICAgICAnfXNwYW4sc3Zne2Rpc3BsYXk6YmxvY2t9JyArXG4gICAgICAgICAgICBjdXN0b21TdHlsZTtcbn1cblxuLy8gQ29yZVxuLyoqXG4gKiBHZXQgZnVuY3Rpb25zIGFuZCBpbml0aWFsaXNlIHN0dWZmXG4gKi9cbmZ1bmN0aW9uIGV4cG9ydEZ1bmN0aW9ucygpIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXNlIHN0dWZmXG4gICAgICovXG4gICAgLy8gU2V0IEFQSSBtb2R1bGVcbiAgICBzZXRBUElNb2R1bGUoJycsIGZldGNoQVBJTW9kdWxlKTtcbiAgICAvLyBBbGxvdyBzaW1wbGUgaWNvbiBuYW1lc1xuICAgIGFsbG93U2ltcGxlTmFtZXModHJ1ZSk7XG4gICAgbGV0IF93aW5kb3c7XG4gICAgdHJ5IHtcbiAgICAgICAgX3dpbmRvdyA9IHdpbmRvdztcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICAvL1xuICAgIH1cbiAgICBpZiAoX3dpbmRvdykge1xuICAgICAgICAvLyBTZXQgY2FjaGUgYW5kIGxvYWQgZXhpc3RpbmcgY2FjaGVcbiAgICAgICAgaW5pdEJyb3dzZXJTdG9yYWdlKCk7XG4gICAgICAgIC8vIExvYWQgaWNvbnMgZnJvbSBnbG9iYWwgXCJJY29uaWZ5UHJlbG9hZFwiXG4gICAgICAgIGlmIChfd2luZG93Lkljb25pZnlQcmVsb2FkICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IHByZWxvYWQgPSBfd2luZG93Lkljb25pZnlQcmVsb2FkO1xuICAgICAgICAgICAgY29uc3QgZXJyID0gJ0ludmFsaWQgSWNvbmlmeVByZWxvYWQgc3ludGF4Lic7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByZWxvYWQgPT09ICdvYmplY3QnICYmIHByZWxvYWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAocHJlbG9hZCBpbnN0YW5jZW9mIEFycmF5ID8gcHJlbG9hZCA6IFtwcmVsb2FkXSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXRlbSBpcyBhbiBvYmplY3QgYW5kIG5vdCBudWxsL2FycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaXRlbSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID09PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSBpbnN0YW5jZW9mIEFycmF5IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yICdpY29ucycgYW5kICdwcmVmaXgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGl0ZW0uaWNvbnMgIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGl0ZW0ucHJlZml4ICE9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBpY29uIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFhZGRDb2xsZWN0aW9uJDEoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNldCBBUEkgZnJvbSBnbG9iYWwgXCJJY29uaWZ5UHJvdmlkZXJzXCJcbiAgICAgICAgaWYgKF93aW5kb3cuSWNvbmlmeVByb3ZpZGVycyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb25zdCBwcm92aWRlcnMgPSBfd2luZG93Lkljb25pZnlQcm92aWRlcnM7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3ZpZGVycyA9PT0gJ29iamVjdCcgJiYgcHJvdmlkZXJzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvdmlkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9ICdJY29uaWZ5UHJvdmlkZXJzWycgKyBrZXkgKyAnXSBpcyBpbnZhbGlkLic7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHByb3ZpZGVyc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdmFsdWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5yZXNvdXJjZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhZGRBUElQcm92aWRlciQxKGtleSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgX2FwaSA9IHtcbiAgICAgICAgZ2V0QVBJQ29uZmlnLFxuICAgICAgICBzZXRBUElNb2R1bGUsXG4gICAgICAgIHNlbmRBUElRdWVyeSxcbiAgICAgICAgc2V0RmV0Y2gsXG4gICAgICAgIGdldEZldGNoLFxuICAgICAgICBsaXN0QVBJUHJvdmlkZXJzLFxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5hYmxlQ2FjaGU6IChzdG9yYWdlKSA9PiB0b2dnbGVCcm93c2VyQ2FjaGUoc3RvcmFnZSwgdHJ1ZSksXG4gICAgICAgIGRpc2FibGVDYWNoZTogKHN0b3JhZ2UpID0+IHRvZ2dsZUJyb3dzZXJDYWNoZShzdG9yYWdlLCBmYWxzZSksXG4gICAgICAgIGljb25FeGlzdHM6IGljb25FeGlzdHMkMSxcbiAgICAgICAgZ2V0SWNvbjogZ2V0SWNvbiQxLFxuICAgICAgICBsaXN0SWNvbnM6IGxpc3RJY29ucyQxLFxuICAgICAgICBhZGRJY29uOiBhZGRJY29uJDEsXG4gICAgICAgIGFkZENvbGxlY3Rpb246IGFkZENvbGxlY3Rpb24kMSxcbiAgICAgICAgY2FsY3VsYXRlU2l6ZTogY2FsY3VsYXRlU2l6ZSQxLFxuICAgICAgICBidWlsZEljb246IGljb25Ub1NWRyxcbiAgICAgICAgbG9hZEljb25zOiBsb2FkSWNvbnMkMSxcbiAgICAgICAgbG9hZEljb246IGxvYWRJY29uJDEsXG4gICAgICAgIGFkZEFQSVByb3ZpZGVyOiBhZGRBUElQcm92aWRlciQxLFxuICAgICAgICBhcHBlbmRDdXN0b21TdHlsZSxcbiAgICAgICAgX2FwaSxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpY29uVG9IVE1MKGJvZHksIGF0dHJpYnV0ZXMpIHtcbiAgbGV0IHJlbmRlckF0dHJpYnNIVE1MID0gYm9keS5pbmRleE9mKFwieGxpbms6XCIpID09PSAtMSA/IFwiXCIgOiAnIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiJztcbiAgZm9yIChjb25zdCBhdHRyIGluIGF0dHJpYnV0ZXMpIHtcbiAgICByZW5kZXJBdHRyaWJzSFRNTCArPSBcIiBcIiArIGF0dHIgKyAnPVwiJyArIGF0dHJpYnV0ZXNbYXR0cl0gKyAnXCInO1xuICB9XG4gIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCInICsgcmVuZGVyQXR0cmlic0hUTUwgKyBcIj5cIiArIGJvZHkgKyBcIjwvc3ZnPlwiO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVTVkdmb3JVUkwoc3ZnKSB7XG4gIHJldHVybiBzdmcucmVwbGFjZSgvXCIvZywgXCInXCIpLnJlcGxhY2UoLyUvZywgXCIlMjVcIikucmVwbGFjZSgvIy9nLCBcIiUyM1wiKS5yZXBsYWNlKC88L2csIFwiJTNDXCIpLnJlcGxhY2UoLz4vZywgXCIlM0VcIikucmVwbGFjZSgvXFxzKy9nLCBcIiBcIik7XG59XG5mdW5jdGlvbiBzdmdUb1VSTChzdmcpIHtcbiAgcmV0dXJuICd1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWwsJyArIGVuY29kZVNWR2ZvclVSTChzdmcpICsgJ1wiKSc7XG59XG5cbi8vIExpc3Qgb2YgcHJvcGVydGllcyB0byBhcHBseVxuY29uc3QgbW9ub3RvbmVQcm9wcyA9IHtcbiAgICAnYmFja2dyb3VuZC1jb2xvcic6ICdjdXJyZW50Q29sb3InLFxufTtcbmNvbnN0IGNvbG9yZWRQcm9wcyA9IHtcbiAgICAnYmFja2dyb3VuZC1jb2xvcic6ICd0cmFuc3BhcmVudCcsXG59O1xuLy8gRHluYW1pY2FsbHkgYWRkIGNvbW1vbiBwcm9wcyB0byB2YXJpYWJsZXMgYWJvdmVcbmNvbnN0IHByb3BzVG9BZGQgPSB7XG4gICAgaW1hZ2U6ICd2YXIoLS1zdmcpJyxcbiAgICByZXBlYXQ6ICduby1yZXBlYXQnLFxuICAgIHNpemU6ICcxMDAlIDEwMCUnLFxufTtcbmNvbnN0IHByb3BzVG9BZGRUbyA9IHtcbiAgICAnLXdlYmtpdC1tYXNrJzogbW9ub3RvbmVQcm9wcyxcbiAgICAnbWFzayc6IG1vbm90b25lUHJvcHMsXG4gICAgJ2JhY2tncm91bmQnOiBjb2xvcmVkUHJvcHMsXG59O1xuZm9yIChjb25zdCBwcmVmaXggaW4gcHJvcHNUb0FkZFRvKSB7XG4gICAgY29uc3QgbGlzdCA9IHByb3BzVG9BZGRUb1twcmVmaXhdO1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBwcm9wc1RvQWRkKSB7XG4gICAgICAgIGxpc3RbcHJlZml4ICsgJy0nICsgcHJvcF0gPSBwcm9wc1RvQWRkW3Byb3BdO1xuICAgIH1cbn1cbi8qKlxuICogRml4IHNpemU6IGFkZCAncHgnIHRvIG51bWJlcnNcbiAqL1xuZnVuY3Rpb24gZml4U2l6ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSArICh2YWx1ZS5tYXRjaCgvXlstMC05Ll0rJC8pID8gJ3B4JyA6ICcnKTtcbn1cbi8qKlxuICogUmVuZGVyIG5vZGUgYXMgPHNwYW4+XG4gKi9cbmZ1bmN0aW9uIHJlbmRlclNQQU4oZGF0YSwgaWNvbiwgdXNlTWFzaykge1xuICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgLy8gQm9keVxuICAgIGxldCBib2R5ID0gZGF0YS5ib2R5O1xuICAgIGlmIChib2R5LmluZGV4T2YoJzxhJykgIT09IC0xKSB7XG4gICAgICAgIC8vIEFuaW1hdGVkIFNWRzogYWRkIHNvbWV0aGluZyB0byBmaXggdGltaW5nIGJ1Z1xuICAgICAgICBib2R5ICs9ICc8IS0tICcgKyBEYXRlLm5vdygpICsgJyAtLT4nO1xuICAgIH1cbiAgICAvLyBHZW5lcmF0ZSBTVkcgYXMgVVJMXG4gICAgY29uc3QgcmVuZGVyQXR0cmlicyA9IGRhdGEuYXR0cmlidXRlcztcbiAgICBjb25zdCBodG1sID0gaWNvblRvSFRNTChib2R5LCB7XG4gICAgICAgIC4uLnJlbmRlckF0dHJpYnMsXG4gICAgICAgIHdpZHRoOiBpY29uLndpZHRoICsgJycsXG4gICAgICAgIGhlaWdodDogaWNvbi5oZWlnaHQgKyAnJyxcbiAgICB9KTtcbiAgICBjb25zdCB1cmwgPSBzdmdUb1VSTChodG1sKTtcbiAgICAvLyBHZW5lcmF0ZSBzdHlsZVxuICAgIGNvbnN0IHN2Z1N0eWxlID0gbm9kZS5zdHlsZTtcbiAgICBjb25zdCBzdHlsZXMgPSB7XG4gICAgICAgICctLXN2Zyc6IHVybCxcbiAgICAgICAgJ3dpZHRoJzogZml4U2l6ZShyZW5kZXJBdHRyaWJzLndpZHRoKSxcbiAgICAgICAgJ2hlaWdodCc6IGZpeFNpemUocmVuZGVyQXR0cmlicy5oZWlnaHQpLFxuICAgICAgICAuLi4odXNlTWFzayA/IG1vbm90b25lUHJvcHMgOiBjb2xvcmVkUHJvcHMpLFxuICAgIH07XG4gICAgLy8gQXBwbHkgc3R5bGVcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gc3R5bGVzKSB7XG4gICAgICAgIHN2Z1N0eWxlLnNldFByb3BlcnR5KHByb3AsIHN0eWxlc1twcm9wXSk7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIFJlbmRlciBub2RlIGFzIDxzdmc+XG4gKi9cbmZ1bmN0aW9uIHJlbmRlclNWRyhkYXRhKSB7XG4gICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAvLyBHZW5lcmF0ZSBTVkdcbiAgICBub2RlLmlubmVySFRNTCA9IGljb25Ub0hUTUwoZGF0YS5ib2R5LCBkYXRhLmF0dHJpYnV0ZXMpO1xuICAgIHJldHVybiBub2RlLmZpcnN0Q2hpbGQ7XG59XG5cbi8qKlxuICogUmVuZGVyIGljb25cbiAqL1xuZnVuY3Rpb24gcmVuZGVySWNvbihwYXJlbnQsIHN0YXRlKSB7XG4gICAgY29uc3QgaWNvbkRhdGEgPSBzdGF0ZS5pY29uLmRhdGE7XG4gICAgY29uc3QgY3VzdG9taXNhdGlvbnMgPSBzdGF0ZS5jdXN0b21pc2F0aW9ucztcbiAgICAvLyBSZW5kZXIgaWNvblxuICAgIGNvbnN0IHJlbmRlckRhdGEgPSBpY29uVG9TVkcoaWNvbkRhdGEsIGN1c3RvbWlzYXRpb25zKTtcbiAgICBpZiAoY3VzdG9taXNhdGlvbnMucHJlc2VydmVBc3BlY3RSYXRpbykge1xuICAgICAgICByZW5kZXJEYXRhLmF0dHJpYnV0ZXNbJ3ByZXNlcnZlQXNwZWN0UmF0aW8nXSA9XG4gICAgICAgICAgICBjdXN0b21pc2F0aW9ucy5wcmVzZXJ2ZUFzcGVjdFJhdGlvO1xuICAgIH1cbiAgICBjb25zdCBtb2RlID0gc3RhdGUucmVuZGVyZWRNb2RlO1xuICAgIGxldCBub2RlO1xuICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgICBjYXNlICdzdmcnOlxuICAgICAgICAgICAgbm9kZSA9IHJlbmRlclNWRyhyZW5kZXJEYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbm9kZSA9IHJlbmRlclNQQU4ocmVuZGVyRGF0YSwge1xuICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRJY29uUHJvcHMsXG4gICAgICAgICAgICAgICAgLi4uaWNvbkRhdGEsXG4gICAgICAgICAgICB9LCBtb2RlID09PSAnbWFzaycpO1xuICAgIH1cbiAgICAvLyBTZXQgZWxlbWVudFxuICAgIGNvbnN0IG9sZE5vZGUgPSBBcnJheS5mcm9tKHBhcmVudC5jaGlsZE5vZGVzKS5maW5kKChub2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhZyA9IG5vZGUudGFnTmFtZSAmJlxuICAgICAgICAgICAgbm9kZS50YWdOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdTUEFOJyB8fCB0YWcgPT09ICdTVkcnO1xuICAgIH0pO1xuICAgIGlmIChvbGROb2RlKSB7XG4gICAgICAgIC8vIFJlcGxhY2Ugb2xkIGVsZW1lbnRcbiAgICAgICAgaWYgKG5vZGUudGFnTmFtZSA9PT0gJ1NQQU4nICYmIG9sZE5vZGUudGFnTmFtZSA9PT0gbm9kZS50YWdOYW1lKSB7XG4gICAgICAgICAgICAvLyBTd2FwIHN0eWxlIGluc3RlYWQgb2Ygd2hvbGUgbm9kZVxuICAgICAgICAgICAgb2xkTm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgbm9kZS5nZXRBdHRyaWJ1dGUoJ3N0eWxlJykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChub2RlLCBvbGROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQWRkIG5ldyBlbGVtZW50XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICB9XG59XG5cbi8qKlxuICogU2V0IHN0YXRlIHRvIFBlbmRpbmdTdGF0ZVxuICovXG5mdW5jdGlvbiBzZXRQZW5kaW5nU3RhdGUoaWNvbiwgaW5saW5lLCBsYXN0U3RhdGUpIHtcbiAgICBjb25zdCBsYXN0UmVuZGVyID0gbGFzdFN0YXRlICYmXG4gICAgICAgIChsYXN0U3RhdGUucmVuZGVyZWRcbiAgICAgICAgICAgID8gbGFzdFN0YXRlXG4gICAgICAgICAgICA6IGxhc3RTdGF0ZS5sYXN0UmVuZGVyKTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXJlZDogZmFsc2UsXG4gICAgICAgIGlubGluZSxcbiAgICAgICAgaWNvbixcbiAgICAgICAgbGFzdFJlbmRlcixcbiAgICB9O1xufVxuXG4vKipcbiAqIFJlZ2lzdGVyICdpY29uaWZ5LWljb24nIGNvbXBvbmVudCwgaWYgaXQgZG9lcyBub3QgZXhpc3RcbiAqL1xuZnVuY3Rpb24gZGVmaW5lSWNvbmlmeUljb24obmFtZSA9ICdpY29uaWZ5LWljb24nKSB7XG4gICAgLy8gQ2hlY2sgZm9yIGN1c3RvbSBlbGVtZW50cyByZWdpc3RyeSBhbmQgSFRNTEVsZW1lbnRcbiAgICBsZXQgY3VzdG9tRWxlbWVudHM7XG4gICAgbGV0IFBhcmVudENsYXNzO1xuICAgIHRyeSB7XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzID0gd2luZG93LmN1c3RvbUVsZW1lbnRzO1xuICAgICAgICBQYXJlbnRDbGFzcyA9IHdpbmRvdy5IVE1MRWxlbWVudDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIE1ha2Ugc3VyZSByZWdpc3RyeSBhbmQgSFRNTEVsZW1lbnQgZXhpc3RcbiAgICBpZiAoIWN1c3RvbUVsZW1lbnRzIHx8ICFQYXJlbnRDbGFzcykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIENoZWNrIGZvciBkdXBsaWNhdGVcbiAgICBjb25zdCBDb25mbGljdGluZ0NsYXNzID0gY3VzdG9tRWxlbWVudHMuZ2V0KG5hbWUpO1xuICAgIGlmIChDb25mbGljdGluZ0NsYXNzKSB7XG4gICAgICAgIHJldHVybiBDb25mbGljdGluZ0NsYXNzO1xuICAgIH1cbiAgICAvLyBBbGwgYXR0cmlidXRlc1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXG4gICAgICAgIC8vIEljb25cbiAgICAgICAgJ2ljb24nLFxuICAgICAgICAvLyBNb2RlXG4gICAgICAgICdtb2RlJyxcbiAgICAgICAgJ2lubGluZScsXG4gICAgICAgIC8vIEN1c3RvbWlzYXRpb25zXG4gICAgICAgICd3aWR0aCcsXG4gICAgICAgICdoZWlnaHQnLFxuICAgICAgICAncm90YXRlJyxcbiAgICAgICAgJ2ZsaXAnLFxuICAgIF07XG4gICAgLyoqXG4gICAgICogQ29tcG9uZW50IGNsYXNzXG4gICAgICovXG4gICAgY29uc3QgSWNvbmlmeUljb24gPSBjbGFzcyBleHRlbmRzIFBhcmVudENsYXNzIHtcbiAgICAgICAgLy8gUm9vdFxuICAgICAgICBfc2hhZG93Um9vdDtcbiAgICAgICAgLy8gU3RhdGVcbiAgICAgICAgX3N0YXRlO1xuICAgICAgICAvLyBBdHRyaWJ1dGVzIGNoZWNrIHF1ZXVlZFxuICAgICAgICBfY2hlY2tRdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICAvLyBBdHRhY2ggc2hhZG93IERPTVxuICAgICAgICAgICAgY29uc3Qgcm9vdCA9ICh0aGlzLl9zaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coe1xuICAgICAgICAgICAgICAgIG1vZGU6ICdvcGVuJyxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIC8vIEFkZCBzdHlsZVxuICAgICAgICAgICAgY29uc3QgaW5saW5lID0gZ2V0SW5saW5lKHRoaXMpO1xuICAgICAgICAgICAgdXBkYXRlU3R5bGUocm9vdCwgaW5saW5lKTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBlbXB0eSBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBzZXRQZW5kaW5nU3RhdGUoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgIH0sIGlubGluZSk7XG4gICAgICAgICAgICAvLyBRdWV1ZSBpY29uIHJlbmRlclxuICAgICAgICAgICAgdGhpcy5fcXVldWVDaGVjaygpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPYnNlcnZlZCBhdHRyaWJ1dGVzXG4gICAgICAgICAqL1xuICAgICAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGVzLnNsaWNlKDApO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPYnNlcnZlZCBwcm9wZXJ0aWVzIHRoYXQgYXJlIGRpZmZlcmVudCBmcm9tIGF0dHJpYnV0ZXNcbiAgICAgICAgICpcbiAgICAgICAgICogRXhwZXJpbWVudGFsISBOZWVkIHRvIHRlc3Qgd2l0aCB2YXJpb3VzIGZyYW1ld29ya3MgdGhhdCBzdXBwb3J0IGl0XG4gICAgICAgICAqL1xuICAgICAgICAvKlxuICAgICAgICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlubGluZToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgICAgICAgICAgICByZWZsZWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gTm90IGxpc3Rpbmcgb3RoZXIgYXR0cmlidXRlcyBiZWNhdXNlIHRoZXkgYXJlIHN0cmluZ3Mgb3IgY29tYmluYXRpb25cbiAgICAgICAgICAgICAgICAvLyBvZiBzdHJpbmcgYW5kIGFub3RoZXIgdHlwZS4gQ2Fubm90IGhhdmUgbXVsdGlwbGUgdHlwZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF0dHJpYnV0ZSBoYXMgY2hhbmdlZFxuICAgICAgICAgKi9cbiAgICAgICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUpIHtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSAnaW5saW5lJykge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBpbW1lZGlhdGVseTogbm90IGFmZmVjdGVkIGJ5IG90aGVyIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdJbmxpbmUgPSBnZXRJbmxpbmUodGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAobmV3SW5saW5lICE9PSBzdGF0ZS5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHN0eWxlIGlmIGlubGluZSBtb2RlIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuaW5saW5lID0gbmV3SW5saW5lO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdHlsZSh0aGlzLl9zaGFkb3dSb290LCBuZXdJbmxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFF1ZXVlIGNoZWNrIGZvciBvdGhlciBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgdGhpcy5fcXVldWVDaGVjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQvc2V0IGljb25cbiAgICAgICAgICovXG4gICAgICAgIGdldCBpY29uKCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnaWNvbicpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLnNsaWNlKDAsIDEpID09PSAneycpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGljb24odmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnaWNvbicsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0L3NldCBpbmxpbmVcbiAgICAgICAgICovXG4gICAgICAgIGdldCBpbmxpbmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0SW5saW5lKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHNldCBpbmxpbmUodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdpbmxpbmUnLCAndHJ1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ2lubGluZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXN0YXJ0IGFuaW1hdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgcmVzdGFydEFuaW1hdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fc3RhdGU7XG4gICAgICAgICAgICBpZiAoc3RhdGUucmVuZGVyZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb290ID0gdGhpcy5fc2hhZG93Um9vdDtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUucmVuZGVyZWRNb2RlID09PSAnc3ZnJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcm9vdCBub2RlXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290Lmxhc3RDaGlsZC5zZXRDdXJyZW50VGltZSgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWlsZWQ6IHNldEN1cnJlbnRUaW1lKCkgaXMgbm90IHN1cHBvcnRlZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlbmRlckljb24ocm9vdCwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgc3RhdHVzXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgc3RhdHVzKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5yZW5kZXJlZFxuICAgICAgICAgICAgICAgID8gJ3JlbmRlcmVkJ1xuICAgICAgICAgICAgICAgIDogc3RhdGUuaWNvbi5kYXRhID09PSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gJ2ZhaWxlZCdcbiAgICAgICAgICAgICAgICAgICAgOiAnbG9hZGluZyc7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFF1ZXVlIGF0dHJpYnV0ZXMgcmUtY2hlY2tcbiAgICAgICAgICovXG4gICAgICAgIF9xdWV1ZUNoZWNrKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jaGVja1F1ZXVlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrUXVldWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hlY2soKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgZm9yIGNoYW5nZXNcbiAgICAgICAgICovXG4gICAgICAgIF9jaGVjaygpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2hlY2tRdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jaGVja1F1ZXVlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgICAgIC8vIEdldCBpY29uXG4gICAgICAgICAgICBjb25zdCBuZXdJY29uID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2ljb24nKTtcbiAgICAgICAgICAgIGlmIChuZXdJY29uICE9PSBzdGF0ZS5pY29uLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faWNvbkNoYW5nZWQobmV3SWNvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWdub3JlIG90aGVyIGF0dHJpYnV0ZXMgaWYgaWNvbiBpcyBub3QgcmVuZGVyZWRcbiAgICAgICAgICAgIGlmICghc3RhdGUucmVuZGVyZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgbW9kZSBhbmQgYXR0cmlidXRlIGNoYW5nZXNcbiAgICAgICAgICAgIGNvbnN0IG1vZGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnbW9kZScpO1xuICAgICAgICAgICAgY29uc3QgY3VzdG9taXNhdGlvbnMgPSBnZXRDdXN0b21pc2F0aW9ucyh0aGlzKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5hdHRyTW9kZSAhPT0gbW9kZSB8fFxuICAgICAgICAgICAgICAgIGhhdmVDdXN0b21pc2F0aW9uc0NoYW5nZWQoc3RhdGUuY3VzdG9taXNhdGlvbnMsIGN1c3RvbWlzYXRpb25zKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlckljb24oc3RhdGUuaWNvbiwgY3VzdG9taXNhdGlvbnMsIG1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJY29uIHZhbHVlIGhhcyBjaGFuZ2VkXG4gICAgICAgICAqL1xuICAgICAgICBfaWNvbkNoYW5nZWQobmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGljb24gPSBwYXJzZUljb25WYWx1ZShuZXdWYWx1ZSwgKHZhbHVlLCBuYW1lLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQXN5bmNocm9ub3VzIGNhbGxiYWNrOiByZS1jaGVjayB2YWx1ZXMgdG8gbWFrZSBzdXJlIHN0dWZmIHdhc24ndCBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUucmVuZGVyZWQgfHwgdGhpcy5nZXRBdHRyaWJ1dGUoJ2ljb24nKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWNvbiBkYXRhIGlzIGFscmVhZHkgYXZhaWxhYmxlIG9yIGljb24gYXR0cmlidXRlIHdhcyBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2hhbmdlIGljb25cbiAgICAgICAgICAgICAgICBjb25zdCBpY29uID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChpY29uLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyIGljb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ290SWNvbkRhdGEoaWNvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3RoaW5nIHRvIHJlbmRlcjogdXBkYXRlIGljb24gaW4gc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuaWNvbiA9IGljb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaWNvbi5kYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gSWNvbiBpcyByZWFkeSB0byByZW5kZXJcbiAgICAgICAgICAgICAgICB0aGlzLl9nb3RJY29uRGF0YShpY29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFBlbmRpbmcgaWNvblxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gc2V0UGVuZGluZ1N0YXRlKGljb24sIHRoaXMuX3N0YXRlLmlubGluZSwgdGhpcy5fc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHb3QgbmV3IGljb24gZGF0YSwgaWNvbiBpcyByZWFkeSB0byAocmUpcmVuZGVyXG4gICAgICAgICAqL1xuICAgICAgICBfZ290SWNvbkRhdGEoaWNvbikge1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tRdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckljb24oaWNvbiwgZ2V0Q3VzdG9taXNhdGlvbnModGhpcyksIHRoaXMuZ2V0QXR0cmlidXRlKCdtb2RlJykpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZS1yZW5kZXIgYmFzZWQgb24gaWNvbiBkYXRhXG4gICAgICAgICAqL1xuICAgICAgICBfcmVuZGVySWNvbihpY29uLCBjdXN0b21pc2F0aW9ucywgYXR0ck1vZGUpIHtcbiAgICAgICAgICAgIC8vIEdldCBtb2RlXG4gICAgICAgICAgICBjb25zdCByZW5kZXJlZE1vZGUgPSBnZXRSZW5kZXJNb2RlKGljb24uZGF0YS5ib2R5LCBhdHRyTW9kZSk7XG4gICAgICAgICAgICAvLyBJbmxpbmUgd2FzIG5vdCBjaGFuZ2VkXG4gICAgICAgICAgICBjb25zdCBpbmxpbmUgPSB0aGlzLl9zdGF0ZS5pbmxpbmU7XG4gICAgICAgICAgICAvLyBTZXQgc3RhdGUgYW5kIHJlbmRlclxuICAgICAgICAgICAgcmVuZGVySWNvbih0aGlzLl9zaGFkb3dSb290LCAodGhpcy5fc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgaWNvbixcbiAgICAgICAgICAgICAgICBpbmxpbmUsXG4gICAgICAgICAgICAgICAgY3VzdG9taXNhdGlvbnMsXG4gICAgICAgICAgICAgICAgYXR0ck1vZGUsXG4gICAgICAgICAgICAgICAgcmVuZGVyZWRNb2RlLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBBZGQgZ2V0dGVycyBhbmQgc2V0dGVyc1xuICAgIGF0dHJpYnV0ZXMuZm9yRWFjaCgoYXR0cikgPT4ge1xuICAgICAgICBpZiAoIShhdHRyIGluIEljb25pZnlJY29uLnByb3RvdHlwZSkpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJY29uaWZ5SWNvbi5wcm90b3R5cGUsIGF0dHIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIEFkZCBleHBvcnRlZCBmdW5jdGlvbnM6IGJvdGggYXMgc3RhdGljIGFuZCBpbnN0YW5jZSBtZXRob2RzXG4gICAgY29uc3QgZnVuY3Rpb25zID0gZXhwb3J0RnVuY3Rpb25zKCk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZnVuY3Rpb25zKSB7XG4gICAgICAgIEljb25pZnlJY29uW2tleV0gPSBJY29uaWZ5SWNvbi5wcm90b3R5cGVba2V5XSA9IGZ1bmN0aW9uc1trZXldO1xuICAgIH1cbiAgICAvLyBEZWZpbmUgbmV3IGNvbXBvbmVudFxuICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShuYW1lLCBJY29uaWZ5SWNvbik7XG4gICAgcmV0dXJuIEljb25pZnlJY29uO1xufVxuXG4vKipcbiAqIENyZWF0ZSBleHBvcnRlZCBkYXRhOiBlaXRoZXIgY29tcG9uZW50IGluc3RhbmNlIG9yIGZ1bmN0aW9uc1xuICovXG5jb25zdCBJY29uaWZ5SWNvbkNvbXBvbmVudCA9IGRlZmluZUljb25pZnlJY29uKCkgfHwgZXhwb3J0RnVuY3Rpb25zKCk7XG4vKipcbiAqIEV4cG9ydCBmdW5jdGlvbnNcbiAqL1xuY29uc3QgeyBlbmFibGVDYWNoZSwgZGlzYWJsZUNhY2hlLCBpY29uRXhpc3RzLCBnZXRJY29uLCBsaXN0SWNvbnMsIGFkZEljb24sIGFkZENvbGxlY3Rpb24sIGNhbGN1bGF0ZVNpemUsIGJ1aWxkSWNvbiwgbG9hZEljb25zLCBsb2FkSWNvbiwgYWRkQVBJUHJvdmlkZXIsIF9hcGksIH0gPSBJY29uaWZ5SWNvbkNvbXBvbmVudDtcblxuZXhwb3J0IHsgSWNvbmlmeUljb25Db21wb25lbnQsIF9hcGksIGFkZEFQSVByb3ZpZGVyLCBhZGRDb2xsZWN0aW9uLCBhZGRJY29uLCBhcHBlbmRDdXN0b21TdHlsZSwgYnVpbGRJY29uLCBjYWxjdWxhdGVTaXplLCBkaXNhYmxlQ2FjaGUsIGVuYWJsZUNhY2hlLCBnZXRJY29uLCBpY29uRXhpc3RzLCBsaXN0SWNvbnMsIGxvYWRJY29uLCBsb2FkSWNvbnMgfTtcbiIsImltcG9ydCB0b2RvTW9kZWwgZnJvbSAnLi90b2RvTW9kZWwuanMnO1xuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tICcuLi91dGlscy9FdmVudE1hbmFnZXIuanMnO1xuaW1wb3J0IFRvZG8gZnJvbSAnLi4vbW9kZWwvVG9kby5qcyc7XG5pbXBvcnQgJ2ljb25pZnktaWNvbic7IC8qIGljb25pZnktaWNvbiB3ZWIgY29tcG9uZW50ICovXG5cbmNvbnN0IGljb25pZnlJY29uID0gJ2ljb25pZnktaWNvbic7XG5jb25zdCBERUZBVUxUX0NBVEVHT1JZID0gJ0hvbWUnO1xuY29uc3QgZW1wdHlUb2RvSFRNTCA9XG4gICc8aSBjbGFzcz1cImVtcHR5XCI+Tm8gdG9kbyB5ZXQgaW4gdGhpcyBjYXRlZ29yeS4gRW1wdHkgY2F0ZWdvcmllcyB3aWxsIGJlIGRlbGV0ZWQgYWZ0ZXIgcmVmcmVzaCAoZXhjZXB0IGhvbWUpLjwvaT4nO1xuXG5mdW5jdGlvbiBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG59XG5cbmNvbnN0IHRvZG9WaWV3ID0gKCgpID0+IHtcbiAgZnVuY3Rpb24gbWFrZVRvZG9FbGVtZW50KHRvZG8pIHtcbiAgICBjb25zdCB0b2RvRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdG9kb0Rpdi5jbGFzc0xpc3QuYWRkKCd0b2RvJywgdG9kby5wcmlvcml0eSk7XG4gICAgdG9kb0Rpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCB0b2RvLmlkKTtcbiAgICB0b2RvRGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yb2xlJywgJ2J1dHRvbicpO1xuXG4gICAgLy8gbGVmdCBwYXJ0XG4gICAgY29uc3QgbGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxlZnQuY2xhc3NMaXN0LmFkZCgnbGVmdF9zZWN0aW9uJyk7XG4gICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBjaGVja2JveC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgIGlmICh0b2RvLmNoZWNrZWQpIHtcbiAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICB9XG4gICAgY29uc3QgdG9kb1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgdG9kb1RleHQudGV4dENvbnRlbnQgPSB0b2RvLnRpdGxlO1xuICAgIGxlZnQuYXBwZW5kKGNoZWNrYm94LCB0b2RvVGV4dCk7XG5cbiAgICB0b2RvRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2hlY2tib3guY2xpY2soKTtcbiAgICB9KTtcblxuICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0b2RvLnRvZ2dsZURvbmUoKTtcbiAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ2NoZWNrZWQnKTtcbiAgICB9KTtcblxuICAgIC8vIHJpZ2h0IHBhcnRcbiAgICBjb25zdCByaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJpZ2h0LmNsYXNzTGlzdC5hZGQoJ3JpZ2h0X3NlY3Rpb24nKTtcbiAgICBjb25zdCBkZXRhaWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBkZXRhaWxCdXR0b24uY2xhc3NMaXN0LmFkZCgnZGV0YWlsX2J1dHRvbicpO1xuICAgIGRldGFpbEJ1dHRvbi50ZXh0Q29udGVudCA9ICdERVRBSUxTJztcbiAgICBkZXRhaWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRDYXRlZ29yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yaWVzX2NvbnRhaW5lcicpXG4gICAgICAgIC5kYXRhc2V0LnNlbGVjdGVkO1xuICAgICAgY29uc3QgdG9kb0lkID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmRhdGFzZXQuaWQ7XG4gICAgICBjb25zdCB0b2RvID0gdG9kb01vZGVsLmdldFRvZG8odG9kb0lkLCBjdXJyZW50Q2F0ZWdvcnkpO1xuICAgICAgcmVuZGVyVG9kb0RldGFpbHModG9kbywgY3VycmVudENhdGVnb3J5KTtcbiAgICB9KTtcbiAgICBjb25zdCBkdWVEYXRlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBkdWVEYXRlVGV4dC50ZXh0Q29udGVudCA9IHRvZG8uZHVlRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywge1xuICAgICAgbW9udGg6ICdzaG9ydCcsXG4gICAgICBkYXk6ICdudW1lcmljJyxcbiAgICB9KTtcbiAgICBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgZWRpdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdpY29uX2J1dHRvbicpO1xuICAgIGNvbnN0IGVkaXRJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpY29uaWZ5SWNvbik7XG4gICAgZWRpdEljb24uc2V0QXR0cmlidXRlKCdpY29uJywgJ21kaTpzcXVhcmUtZWRpdC1vdXRsaW5lJyk7XG4gICAgZWRpdEljb24uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAnMjRweCcpO1xuICAgIGVkaXRJY29uLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnMjRweCcpO1xuICAgIGVkaXRJY29uLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAnbWlkZGxlJztcbiAgICBlZGl0QnV0dG9uLmFwcGVuZENoaWxkKGVkaXRJY29uKTtcbiAgICBlZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZW5kZXJUb2RvRWRpdEVsZW1lbnQodG9kbyk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnaWNvbl9idXR0b24nKTtcbiAgICBjb25zdCB0cmFzaEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGljb25pZnlJY29uKTtcbiAgICB0cmFzaEljb24uc2V0QXR0cmlidXRlKCdpY29uJywgJ21kaTp0cmFzaC1jYW4nKTtcbiAgICB0cmFzaEljb24uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAnMjRweCcpO1xuICAgIHRyYXNoSWNvbi5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJzI0cHgnKTtcbiAgICB0cmFzaEljb24uc3R5bGUudmVydGljYWxBbGlnbiA9ICdtaWRkbGUnO1xuICAgIGRlbGV0ZUJ1dHRvbi5hcHBlbmRDaGlsZCh0cmFzaEljb24pO1xuICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgY29uc3QgY3VycmVudENhdGVnb3J5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3JpZXNfY29udGFpbmVyJylcbiAgICAgICAgLmRhdGFzZXQuc2VsZWN0ZWQ7XG4gICAgICBjb25zdCB0b2RvRXZlbnRNYW5hZ2VyID0gRXZlbnRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICB0b2RvRXZlbnRNYW5hZ2VyLnRyaWdnZXJFdmVudCgnZGVsZXRlVG9kbycsIHtcbiAgICAgICAgY2F0ZWdvcnk6IGN1cnJlbnRDYXRlZ29yeSxcbiAgICAgICAgdG9kbyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJpZ2h0LmFwcGVuZChkZXRhaWxCdXR0b24sIGR1ZURhdGVUZXh0LCBlZGl0QnV0dG9uLCBkZWxldGVCdXR0b24pO1xuXG4gICAgLy8gYXBwZW5kIGxlZnQgYW5kIHJpZ2h0IHRvIGNvbnRhaW5lciBkaXZcbiAgICB0b2RvRGl2LmFwcGVuZChsZWZ0LCByaWdodCk7XG5cbiAgICByZXR1cm4gdG9kb0RpdjtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VUb2RvRGV0YWlsc0VsZW1lbnQodG9kbywgY2F0ZWdvcnkpIHtcbiAgICBjb25zdCBkZXRhaWxNb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRldGFpbE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2RldGFpbF9tb2RhbCcpO1xuICAgIGRldGFpbE1vZGFsLmlkID0gJ2RldGFpbF9tb2RhbCc7XG4gICAgY29uc3QgaGVhZGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaGVhZGVyRGl2LmNsYXNzTGlzdC5hZGQoJ2RldGFpbF9oZWFkZXInKTtcbiAgICBjb25zdCBoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgaDMudGV4dENvbnRlbnQgPSB0b2RvLnRpdGxlO1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgY2xvc2VCdXR0b24udGV4dENvbnRlbnQgPSAneCc7XG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH0pO1xuICAgIGhlYWRlckRpdi5hcHBlbmQoaDMsIGNsb3NlQnV0dG9uKTtcblxuICAgIGNvbnN0IGNhdGVnb3J5UCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjYXRlZ29yeVAudGV4dENvbnRlbnQgPSBgQ2F0ZWdvcnk6ICR7Y2FwaXRhbGl6ZUZpcnN0TGV0dGVyKGNhdGVnb3J5KX1gO1xuICAgIGNvbnN0IHByaW9yaXR5UCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBwcmlvcml0eVAudGV4dENvbnRlbnQgPSBgUHJpb3JpdHk6ICR7dG9kby5wcmlvcml0eX1gO1xuICAgIGNvbnN0IGR1ZURhdGVQID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGR1ZURhdGVQLnRleHRDb250ZW50ID0gYERhdGU6ICR7dG9kby5kdWVEYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpfWA7XG4gICAgY29uc3QgZGVzY3JpcHRpb25QID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGRlc2NyaXB0aW9uUC50ZXh0Q29udGVudCA9IGBEZXNjcmlwdGlvbjogJHt0b2RvLmRlc2NyaXB0aW9ufWA7XG4gICAgZGV0YWlsTW9kYWwuYXBwZW5kKGhlYWRlckRpdiwgY2F0ZWdvcnlQLCBwcmlvcml0eVAsIGR1ZURhdGVQLCBkZXNjcmlwdGlvblApO1xuICAgIHJldHVybiBkZXRhaWxNb2RhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VBZGRUb2RvRm9ybUVsZW1lbnQoKSB7XG4gICAgY29uc3QgaHRtbCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbFwiIGlkPVwiYWRkX21vZGFsXCI+XG4gICAgICAgIDxmb3JtPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ0aXRsZVwiPlRpdGxlPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICByZXF1aXJlZD1cInRydWVcIlxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIG5hbWU9XCJ0aXRsZVwiXG4gICAgICAgICAgICAgIGlkPVwidGl0bGVcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1yLkZpdHogSG9tZXdvcmtcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiZGVzY3JpcHRpb25cIj5EZXNjcmlwdGlvbjwvbGFiZWw+XG4gICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgcmVxdWlyZWQ9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgaWQ9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgIGNvbHM9XCIzMFwiXG4gICAgICAgICAgICAgIHJvd3M9XCI3XCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJEbyBNci5GaXR6IGJpb2xvZ3kgaG9tZXdvcmsgYmVmb3JlIE1hcmNoIDI5dGguXCJcbiAgICAgICAgICAgID48L3RleHRhcmVhPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJkYXRlXCI+RHVlIERhdGU8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IHJlcXVpcmVkPVwidHJ1ZVwiIHR5cGU9XCJkYXRlXCIgbmFtZT1cImRhdGVcIiBpZD1cImRhdGVcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxmaWVsZHNldD5cbiAgICAgICAgICAgIDxsZWdlbmQ+UHJpb3JpdHk8L2xlZ2VuZD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmlvcml0aWVzXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmlvcml0eV9jb250cm9sIGxvd1wiPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwicHJpb3JpdHlcIlxuICAgICAgICAgICAgICAgICAgaWQ9XCJsb3dcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9XCJsb3dcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxvd1wiPkxPVzwvbGFiZWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJpb3JpdHlfY29udHJvbCBtZWRpdW1cIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwicHJpb3JpdHlcIlxuICAgICAgICAgICAgICAgICAgaWQ9XCJtZWRpdW1cIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9XCJtZWRpdW1cIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cIm1lZGl1bVwiPk1FRElVTTwvbGFiZWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJpb3JpdHlfY29udHJvbCBoaWdoXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJwcmlvcml0eVwiIGlkPVwiaGlnaFwiIHZhbHVlPVwiaGlnaFwiIC8+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImhpZ2hcIj5ISUdIPC9sYWJlbD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICAgIDxidXR0b24gaWQ9XCJhZGRUb2RvQnV0dG9uXCIgdHlwZT1cInN1Ym1pdFwiPkFkZCBUb2RvPC9idXR0b24+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgY29uc3QgZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhodG1sLCAndGV4dC9odG1sJyk7XG4gICAgY29uc3QgbW9kYWwgPSBkb2MuYm9keS5maXJzdENoaWxkO1xuICAgIGNvbnN0IGZvcm0gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgdG9kb0V2ZW50TWFuYWdlciA9IEV2ZW50TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgY29uc3QgY3VycmVudENhdGVnb3J5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3JpZXNfY29udGFpbmVyJylcbiAgICAgICAgLmRhdGFzZXQuc2VsZWN0ZWQ7XG4gICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdI3RpdGxlJykudmFsdWU7XG4gICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhI2Rlc2NyaXB0aW9uJykudmFsdWU7XG4gICAgICBjb25zdCBkdWVEYXRlU3RyaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgJ2lucHV0W3R5cGU9XCJkYXRlXCJdI2RhdGUnXG4gICAgICApLnZhbHVlO1xuICAgICAgY29uc3QgZHVlRGF0ZSA9IG5ldyBEYXRlKGR1ZURhdGVTdHJpbmcpO1xuICAgICAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAnaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCJwcmlvcml0eVwiXTpjaGVja2VkJ1xuICAgICAgKS52YWx1ZTtcbiAgICAgIGlmICghcHJpb3JpdHkpIHJldHVybjtcblxuICAgICAgY29uc3QgdG9kbyA9IG5ldyBUb2RvKHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBkdWVEYXRlLFxuICAgICAgICBwcmlvcml0eSxcbiAgICAgIH0pO1xuXG4gICAgICB0b2RvRXZlbnRNYW5hZ2VyLnRyaWdnZXJFdmVudCgnYWRkVG9kbycsIHtcbiAgICAgICAgY2F0ZWdvcnk6IGN1cnJlbnRDYXRlZ29yeSxcbiAgICAgICAgdG9kbyxcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI292ZXJsYXknKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBtb2RhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlclRvZG9FZGl0RWxlbWVudCh0b2RvKSB7XG4gICAgY29uc3QgZGF0ZSA9IHRvZG8uZHVlRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0ucmVwbGFjZSgnLycsICctJyk7XG4gICAgY29uc3QgaHRtbCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbFwiIGlkPVwiYWRkX21vZGFsXCI+XG4gICAgICAgIDxmb3JtPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ0aXRsZVwiPlRpdGxlPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIG5hbWU9XCJ0aXRsZVwiXG4gICAgICAgICAgICAgIGlkPVwidGl0bGVcIlxuICAgICAgICAgICAgICB2YWx1ZT1cIiR7dG9kby50aXRsZX1cIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIldvcmsgb24gbXkgdGhlc2lzXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImRlc2NyaXB0aW9uXCI+RGVzY3JpcHRpb248L2xhYmVsPlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgIGlkPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICBjb2xzPVwiMzBcIlxuICAgICAgICAgICAgICByb3dzPVwiN1wiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiV29yayBvbiBteSB0aGVzaXMgaW5zdGVhZCBvZiBkb2luZyB0aGlzIHByb2plY3QuIEhlbHAgbWVlISFcIlxuICAgICAgICAgICAgPlxuJHt0b2RvLmRlc2NyaXB0aW9ufTwvdGV4dGFyZWFcbiAgICAgICAgICAgID5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiZGF0ZVwiPkR1ZSBEYXRlPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCByZXF1aXJlZCB2YWx1ZT1cIiR7ZGF0ZX1cIiB0eXBlPVwiZGF0ZVwiIG5hbWU9XCJkYXRlXCIgaWQ9XCJkYXRlXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICA8bGVnZW5kPlByaW9yaXR5PC9sZWdlbmQ+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJpb3JpdGllc1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJpb3JpdHlfY29udHJvbCBsb3dcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAke3RvZG8ucHJpb3JpdHkgPT09ICdsb3cnID8gJ2NoZWNrZWQnIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwicHJpb3JpdHlcIlxuICAgICAgICAgICAgICAgICAgaWQ9XCJsb3dcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9XCJsb3dcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxvd1wiPkxPVzwvbGFiZWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJpb3JpdHlfY29udHJvbCBtZWRpdW1cIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICR7dG9kby5wcmlvcml0eSA9PT0gJ21lZGl1bScgPyAnY2hlY2tlZCcgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJwcmlvcml0eVwiXG4gICAgICAgICAgICAgICAgICBpZD1cIm1lZGl1bVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT1cIm1lZGl1bVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwibWVkaXVtXCI+TUVESVVNPC9sYWJlbD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmlvcml0eV9jb250cm9sIGhpZ2hcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICR7dG9kby5wcmlvcml0eSA9PT0gJ2hpZ2gnID8gJ2NoZWNrZWQnIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwicHJpb3JpdHlcIlxuICAgICAgICAgICAgICAgICAgaWQ9XCJoaWdoXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPVwiaGlnaFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiaGlnaFwiPkhJR0g8L2xhYmVsPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgICAgPGJ1dHRvbiBpZD1cImVkaXRUb2RvQnV0dG9uXCIgdHlwZT1cInN1Ym1pdFwiPkVkaXQgVG9kbzwvYnV0dG9uPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIGNvbnN0IGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoaHRtbCwgJ3RleHQvaHRtbCcpO1xuICAgIGNvbnN0IG1vZGFsID0gZG9jLmJvZHkuZmlyc3RDaGlsZDtcbiAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKTtcbiAgICBvdmVybGF5LmlubmVySFRNTCA9ICcnO1xuICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgb3ZlcmxheS5hcHBlbmRDaGlsZChtb2RhbCk7XG4gICAgY29uc3QgZm9ybSA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcblxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHRvZG9FdmVudE1hbmFnZXIgPSBFdmVudE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRDYXRlZ29yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yaWVzX2NvbnRhaW5lcicpXG4gICAgICAgIC5kYXRhc2V0LnNlbGVjdGVkO1xuICAgICAgY29uc3QgdGl0bGUgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdI3RpdGxlJykudmFsdWU7XG4gICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGZvcm0ucXVlcnlTZWxlY3RvcigndGV4dGFyZWEjZGVzY3JpcHRpb24nKS52YWx1ZTtcbiAgICAgIGNvbnN0IGR1ZURhdGVTdHJpbmcgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJkYXRlXCJdI2RhdGUnKS52YWx1ZTtcbiAgICAgIGNvbnN0IGR1ZURhdGUgPSBuZXcgRGF0ZShkdWVEYXRlU3RyaW5nKTtcbiAgICAgIGNvbnN0IHByaW9yaXR5ID0gZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAnaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCJwcmlvcml0eVwiXTpjaGVja2VkJ1xuICAgICAgKS52YWx1ZTtcbiAgICAgIGlmICghcHJpb3JpdHkpIHJldHVybjtcblxuICAgICAgY29uc3QgbmV3VG9kbyA9IG5ldyBUb2RvKHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBkdWVEYXRlLFxuICAgICAgICBwcmlvcml0eSxcbiAgICAgICAgaWQ6IHRvZG8uaWQsXG4gICAgICB9KTtcblxuICAgICAgdG9kb0V2ZW50TWFuYWdlci50cmlnZ2VyRXZlbnQoJ2VkaXRUb2RvJywge1xuICAgICAgICBjYXRlZ29yeTogY3VycmVudENhdGVnb3J5LFxuICAgICAgICB0b2RvOiBuZXdUb2RvLFxuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3ZlcmxheScpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyVG9kb0RldGFpbHModG9kbywgY2F0ZWdvcnkpIHtcbiAgICBjb25zdCBkZXRhaWxNb2RhbCA9IG1ha2VUb2RvRGV0YWlsc0VsZW1lbnQodG9kbywgY2F0ZWdvcnkpO1xuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpO1xuICAgIG92ZXJsYXkuaW5uZXJIVE1MID0gJyc7XG4gICAgb3ZlcmxheS5hcHBlbmRDaGlsZChkZXRhaWxNb2RhbCk7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlclRvZG9zKGNhdGVnb3J5KSB7XG4gICAgY29uc3QgdG9kb3NDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kb3NfY29udGFpbmVyJyk7XG4gICAgdG9kb3NDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgY29uc3QgdG9kb3MgPSB0b2RvTW9kZWwuZ2V0VG9kb3NCeUNhdGVnb3J5KGNhdGVnb3J5KTtcbiAgICBpZiAoIXRvZG9zIHx8IHRvZG9zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdG9kb3NDb250YWluZXIuaW5uZXJIVE1MID0gZW1wdHlUb2RvSFRNTDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdG9kb3MuZm9yRWFjaCgodG9kbykgPT4ge1xuICAgICAgY29uc3QgdG9kb0VsZW1lbnQgPSBtYWtlVG9kb0VsZW1lbnQodG9kbyk7XG4gICAgICB0b2Rvc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2RvRWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRUb2Rvcyh0b2RvKSB7XG4gICAgY29uc3QgdG9kb3NDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kb3NfY29udGFpbmVyJyk7XG4gICAgaWYgKHRvZG9zQ29udGFpbmVyLmlubmVySFRNTCA9PT0gZW1wdHlUb2RvSFRNTCkge1xuICAgICAgdG9kb3NDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgfVxuICAgIGNvbnN0IHRvZG9FbGVtZW50ID0gbWFrZVRvZG9FbGVtZW50KHRvZG8pO1xuICAgIHRvZG9zQ29udGFpbmVyLmFwcGVuZENoaWxkKHRvZG9FbGVtZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VDYXRlZ29yeUVsZW1lbnQoY2F0ZWdvcnkpIHtcbiAgICBjb25zdCB0b2RvRXZlbnRNYW5hZ2VyID0gRXZlbnRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGJ1dHRvbi5kYXRhc2V0LmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgYnV0dG9uLmlubmVyVGV4dCA9IGNhdGVnb3J5O1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRvZG9FdmVudE1hbmFnZXIudHJpZ2dlckV2ZW50KCdjaGFuZ2VUYWInLCB7IGNhdGVnb3J5IH0pO1xuICAgIH0pO1xuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjYXRlZ29yeV9idXR0b24nKTtcbiAgICBsaS5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgIHJldHVybiBsaTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckNhdGVnb3JpZXMoY2F0ZWdvcmllcykge1xuICAgIGNvbnN0IGNhdGVnb3JpZXNVbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yaWVzJyk7XG4gICAgaWYgKCFjYXRlZ29yaWVzIHx8IGNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRlZmF1bHRIb21lQ2F0ZWdvcnkgPSBtYWtlQ2F0ZWdvcnlFbGVtZW50KERFRkFVTFRfQ0FURUdPUlkpO1xuICAgIGRlZmF1bHRIb21lQ2F0ZWdvcnkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgY29uc29sZS5sb2coZGVmYXVsdEhvbWVDYXRlZ29yeS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKTtcbiAgICBjYXRlZ29yaWVzVWwuaW5uZXJIVE1MID0gJyc7XG4gICAgY2F0ZWdvcmllc1VsLmFwcGVuZENoaWxkKGRlZmF1bHRIb21lQ2F0ZWdvcnkpO1xuICAgIGZvciAoY29uc3QgY2F0ZWdvcnkgb2YgY2F0ZWdvcmllcykge1xuICAgICAgaWYgKGNhdGVnb3J5ID09PSBERUZBVUxUX0NBVEVHT1JZKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IGNhdGVnb3J5RWwgPSBtYWtlQ2F0ZWdvcnlFbGVtZW50KGNhdGVnb3J5KTtcbiAgICAgIGFwcGVuZENhdGVnb3J5KGNhdGVnb3J5RWwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGVuZENhdGVnb3J5KGNhdGVnb3J5RWxlbWVudCkge1xuICAgIGNvbnN0IGNhdGVnb3JpZXNVbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yaWVzJyk7XG4gICAgY2F0ZWdvcmllc1VsLmFwcGVuZENoaWxkKGNhdGVnb3J5RWxlbWVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBzdWJzY3JpYmVUb1B1Ymxpc2hlcigpIHtcbiAgICBjb25zdCB0b2RvRXZlbnRNYW5hZ2VyID0gRXZlbnRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgY29uc3QgY2F0ZWdvcmllc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yaWVzX2NvbnRhaW5lcicpO1xuICAgIHRvZG9FdmVudE1hbmFnZXIuc3Vic2NyaWJlKCdhZGRUb2RvJywgKGUpID0+IHtcbiAgICAgIGFwcGVuZFRvZG9zKGUudG9kbyk7XG4gICAgfSk7XG5cbiAgICB0b2RvRXZlbnRNYW5hZ2VyLnN1YnNjcmliZSgnbG9hZFRvZG8nLCAoZSkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3JpZXNDb250YWluZXIuZGF0YXNldC5zZWxlY3RlZCA9PT0gZS5jYXRlZ29yeSkge1xuICAgICAgICBhcHBlbmRUb2RvcyhlLnRvZG8pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdG9kb0V2ZW50TWFuYWdlci5zdWJzY3JpYmUoJ2xvYWRDYXRlZ29yaWVzJywgKHsgY2F0ZWdvcmllcyB9KSA9PiB7XG4gICAgICByZW5kZXJDYXRlZ29yaWVzKGNhdGVnb3JpZXMpO1xuICAgIH0pO1xuXG4gICAgdG9kb0V2ZW50TWFuYWdlci5zdWJzY3JpYmUoJ2NoYW5nZVRhYicsIChlKSA9PiB7XG4gICAgICBjb25zdCBvbGRBY3RpdmVDYXRlZ29yeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICduYXYgdWwjY2F0ZWdvcmllcyBsaS5hY3RpdmUnXG4gICAgICApO1xuICAgICAgb2xkQWN0aXZlQ2F0ZWdvcnkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBjYXRlZ29yaWVzQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS1zZWxlY3RlZCcsIGUuY2F0ZWdvcnkpO1xuICAgICAgY29uc3QgbmV3QWN0aXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYC5jYXRlZ29yeV9idXR0b25bZGF0YS1jYXRlZ29yeT1cIiR7ZS5jYXRlZ29yeX1cIl1gXG4gICAgICApO1xuICAgICAgY29uc3QgbmV3QWN0aXZlQ2F0ZWdvcnkgPSBuZXdBY3RpdmVCdXR0b24ucGFyZW50Tm9kZTtcbiAgICAgIG5ld0FjdGl2ZUNhdGVnb3J5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgcmVuZGVyVG9kb3MoZS5jYXRlZ29yeSk7XG4gICAgfSk7XG4gICAgdG9kb0V2ZW50TWFuYWdlci5zdWJzY3JpYmUoJ2VkaXRUb2RvJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGVkaXRlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBgZGl2W2RhdGEtaWQ9XCIke2UudG9kby5pZH1cIl1gXG4gICAgICApO1xuICAgICAgY29uc3QgdGl0bGVQID0gZWRpdGVkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdF9zZWN0aW9uID4gcCcpO1xuICAgICAgdGl0bGVQLnRleHRDb250ZW50ID0gZS50b2RvLnRpdGxlO1xuICAgICAgY29uc3QgZGF0ZVAgPSBlZGl0ZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yaWdodF9zZWN0aW9uID4gcCcpO1xuICAgICAgZGF0ZVAudGV4dENvbnRlbnQgPSBlLnRvZG8uZHVlRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywge1xuICAgICAgICBtb250aDogJ3Nob3J0JyxcbiAgICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgICB9KTtcbiAgICAgIGVkaXRlZEVsZW1lbnQuY2xhc3NOYW1lID0gYHRvZG8gJHtlLnRvZG8ucHJpb3JpdHl9YDtcbiAgICB9KTtcblxuICAgIHRvZG9FdmVudE1hbmFnZXIuc3Vic2NyaWJlKCdkZWxldGVUb2RvJywgKGUpID0+IHtcbiAgICAgIHJlbmRlclRvZG9zKGUuY2F0ZWdvcnkpO1xuICAgIH0pO1xuXG4gICAgdG9kb0V2ZW50TWFuYWdlci5zdWJzY3JpYmUoJ3JlbG9hZENhdGVnb3JpZXMnLCAoZSkgPT4ge1xuICAgICAgcmVuZGVyQ2F0ZWdvcmllcyhlLmNhdGVnb3JpZXMpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdGlhbGl6ZURvbUV2ZW50cygpIHtcbiAgICBjb25zdCB0b2RvRXZlbnRNYW5hZ2VyID0gRXZlbnRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgY29uc3QgY2F0ZWdvcnlCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhdGVnb3J5X2J1dHRvbicpO1xuICAgIGNhdGVnb3J5QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gZS50YXJnZXQuZGF0YXNldC5jYXRlZ29yeTtcbiAgICAgICAgdG9kb0V2ZW50TWFuYWdlci50cmlnZ2VyRXZlbnQoJ2NoYW5nZVRhYicsIHsgY2F0ZWdvcnkgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGZhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYWInKTtcbiAgICBmYWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2RhbE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpO1xuICAgICAgaWYgKCFtb2RhbE92ZXJsYXkuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkgcmV0dXJuO1xuICAgICAgbW9kYWxPdmVybGF5LmlubmVySFRNTCA9ICcnO1xuICAgICAgbW9kYWxPdmVybGF5LmFwcGVuZENoaWxkKG1ha2VBZGRUb2RvRm9ybUVsZW1lbnQoKSk7XG4gICAgICBtb2RhbE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBtb2RhbE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpO1xuICAgIG1vZGFsT3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnb3ZlcmxheScpKSB7XG4gICAgICAgIG1vZGFsT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNhdGVnb3J5Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRfY2F0ZWdvcnlfX2Zvcm0nKTtcbiAgICBjb25zdCBhZGRDYXRlZ29yeUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtY2F0ZWdvcnknKTtcbiAgICBhZGRDYXRlZ29yeUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGNhdGVnb3J5Rm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHN1Ym1pdENhdGVnb3J5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdF9jYXRlZ29yeScpO1xuICAgIHN1Ym1pdENhdGVnb3J5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGlucHV0RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcnlfaW5wdXQnKTtcbiAgICAgIGlmIChpbnB1dEVsLnZhbHVlID09PSAnJykge1xuICAgICAgICBhbGVydChcIkNhdGVnb3J5IHRleHQgY2FuJ3QgYmUgZW1wdHkhXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0b2RvRXZlbnRNYW5hZ2VyLnRyaWdnZXJFdmVudCgnYWRkQ2F0ZWdvcnknLCB7XG4gICAgICAgIGNhdGVnb3J5OiBpbnB1dEVsLnZhbHVlLFxuICAgICAgfSk7XG5cbiAgICAgIGFkZENhdGVnb3J5QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY2F0ZWdvcnlGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY2FuY2VsQ2F0ZWdvcnlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuY2VsX3N1Ym1pdCcpO1xuICAgIGNhbmNlbENhdGVnb3J5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2F0ZWdvcnlGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkQ2F0ZWdvcnlCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN1YnNjcmliZVRvUHVibGlzaGVyLFxuICAgIGluaXRpYWxpemVEb21FdmVudHMsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCB0b2RvVmlldztcbiIsImltcG9ydCAnLi9hc3NldHMvcmVzZXQuY3NzJztcbmltcG9ydCAnLi9hc3NldHMvc3R5bGVzLmNzcyc7XG5pbXBvcnQgVG9kbyBmcm9tICcuL21vZGVsL1RvZG8uanMnO1xuaW1wb3J0IHRvZG9WaWV3IGZyb20gJy4vdG9kb3MvdG9kb1ZpZXcuanMnO1xuaW1wb3J0IHRvZG9Nb2RlbCBmcm9tICcuL3RvZG9zL3RvZG9Nb2RlbC5qcyc7XG5pbXBvcnQgRXZlbnRNYW5hZ2VyIGZyb20gJy4vdXRpbHMvRXZlbnRNYW5hZ2VyLmpzJztcblxuY29uc3QgdG9kb0V2ZW50TWFuYWdlciA9IEV2ZW50TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG50b2RvTW9kZWwuc3Vic2NyaWJlVG9QdWJsaXNoZXIoKTtcbnRvZG9WaWV3LnN1YnNjcmliZVRvUHVibGlzaGVyKCk7XG50b2RvVmlldy5pbml0aWFsaXplRG9tRXZlbnRzKCk7XG5cbi8vIGxvYWQgdG9kb3MgZnJvbSBsb2NhbFN0b3JhZ2VcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpO1xuICBjb25zdCB0b2RvS2V5cyA9IGtleXMuZmlsdGVyKChrZXkpID0+IGtleS5zdGFydHNXaXRoKCd0b2RvLScpKTtcbiAgY29uc3QgY2F0ZWdvcnlTZXQgPSBuZXcgU2V0KCk7XG5cbiAgZm9yIChjb25zdCBrZXkgb2YgdG9kb0tleXMpIHtcbiAgICBjb25zdCByYXdUb2RvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcbiAgICBjYXRlZ29yeVNldC5hZGQocmF3VG9kby5jYXRlZ29yeSk7XG5cbiAgICBjb25zdCB0b2RvID0gbmV3IFRvZG8oe1xuICAgICAgaWQ6IGtleS5zdWJzdHJpbmcoNSksXG4gICAgICB0aXRsZTogcmF3VG9kby50aXRsZSxcbiAgICAgIGRlc2NyaXB0aW9uOiByYXdUb2RvLmRlc2NyaXB0aW9uLFxuICAgICAgZHVlRGF0ZTogbmV3IERhdGUocmF3VG9kby5kdWVEYXRlKSxcbiAgICAgIHByaW9yaXR5OiByYXdUb2RvLnByaW9yaXR5LFxuICAgICAgY2hlY2tlZDogcmF3VG9kby5jaGVja2VkLFxuICAgIH0pO1xuXG4gICAgdG9kb0V2ZW50TWFuYWdlci50cmlnZ2VyRXZlbnQoJ2xvYWRUb2RvJywge1xuICAgICAgdG9kbyxcbiAgICAgIGNhdGVnb3J5OiByYXdUb2RvLmNhdGVnb3J5LFxuICAgIH0pO1xuICB9XG5cbiAgdG9kb0V2ZW50TWFuYWdlci50cmlnZ2VyRXZlbnQoJ2xvYWRDYXRlZ29yaWVzJywge1xuICAgIGNhdGVnb3JpZXM6IGNhdGVnb3J5U2V0LFxuICB9KTtcblxuICAvLyBIb21lIGRlZmF1bHQgY2F0ZWdvcnkgd2lsbCBiZSBsb2FkZWRcbiAgdG9kb0V2ZW50TWFuYWdlci50cmlnZ2VyRXZlbnQoJ2NoYW5nZVRhYicsIHsgY2F0ZWdvcnk6ICdIb21lJyB9KTtcbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpO1xuICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIH1cbn0pO1xuIl0sIm5hbWVzIjpbIm5hbm9pZCIsInNpemUiLCJjcnlwdG8iLCJnZXRSYW5kb21WYWx1ZXMiLCJVaW50OEFycmF5IiwicmVkdWNlIiwiaWQiLCJieXRlIiwidG9TdHJpbmciLCJ0b1VwcGVyQ2FzZSIsIlRvZG8iLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwiY2hlY2tlZCIsInRoaXMiLCJ2YWx1ZSIsInR5cGUiLCJjYWxsYmFjayIsImV2ZW50cyIsInB1c2giLCJhcmdzIiwiZm9yRWFjaCIsIkV2ZW50TWFuYWdlciIsIl9pbnN0YW5jZSIsInRvZG9Nb2RlbCIsInRvZG9TdG9yYWdlIiwiZ2V0VG9kb3NCeUNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJjb25zb2xlIiwibG9nIiwiZ2V0IiwiZ2V0VG9kbyIsInRvZG9JZCIsImZpbmQiLCJ0b2RvIiwiYWRkVG9kbyIsImhhcyIsInNldCIsImRlbGV0ZVRvZG8iLCJFcnJvciIsImZpbHRlcmVkVG9kb3MiLCJmaWx0ZXIiLCJleGlzdGluZ1RvZG8iLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwicmVtb3ZlVG9kbyIsInN1YnNjcmliZVRvUHVibGlzaGVyIiwidG9kb0V2ZW50TWFuYWdlciIsInN1YnNjcmliZSIsInRvZG9PYmoiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImFkZFRvTG9jYWxTdG9yYWdlIiwidG9kb1RvQmVFZGl0ZWQiLCJ1bmRlZmluZWQiLCJ0cmlnZ2VyRXZlbnQiLCJjYXRlZ29yaWVzIiwiQXJyYXkiLCJmcm9tIiwia2V5cyIsImFsZXJ0IiwiZWRpdFRvZG8iLCJwYXJhbXMiLCJ0b2RvVG9FZGl0IiwiX2R1ZURhdGUiLCJNYXAiLCJEYXRlIiwiZGVmYXVsdEljb25EaW1lbnNpb25zIiwiT2JqZWN0IiwiZnJlZXplIiwibGVmdCIsInRvcCIsIndpZHRoIiwiaGVpZ2h0IiwiZGVmYXVsdEljb25UcmFuc2Zvcm1hdGlvbnMiLCJyb3RhdGUiLCJ2RmxpcCIsImhGbGlwIiwiZGVmYXVsdEljb25Qcm9wcyIsImRlZmF1bHRFeHRlbmRlZEljb25Qcm9wcyIsImJvZHkiLCJoaWRkZW4iLCJkZWZhdWx0SWNvblNpemVDdXN0b21pc2F0aW9ucyIsImRlZmF1bHRJY29uQ3VzdG9taXNhdGlvbnMiLCJzZXBhcmF0b3IiLCJkZWZhdWx0Q3VzdG9taXNhdGlvbnMiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwiZ2V0Q3VzdG9taXNhdGlvbnMiLCJub2RlIiwiY3VzdG9taXNhdGlvbnMiLCJhdHRyIiwia2V5IiwiZGVmIiwiZ2V0QXR0cmlidXRlIiwiY3VzdG9tIiwiZGVmYXVsdFZhbHVlIiwidW5pdHMiLCJyZXBsYWNlIiwiY2xlYW51cCIsInZhbHVlMiIsIm51bSIsInBhcnNlSW50IiwiaXNOYU4iLCJzcGxpdCIsInBhcnNlRmxvYXQiLCJzbGljZSIsImxlbmd0aCIsInJvdGF0ZUZyb21TdHJpbmciLCJzdHIiLCJ0cmltIiwibWF0Y2hJY29uTmFtZSIsInN0cmluZ1RvSWNvbiIsInZhbGlkYXRlIiwiYWxsb3dTaW1wbGVOYW1lIiwicHJvdmlkZXIiLCJjb2xvblNlcGFyYXRlZCIsInNoaWZ0IiwibmFtZTIiLCJwb3AiLCJwcmVmaXgiLCJyZXN1bHQiLCJuYW1lIiwidmFsaWRhdGVJY29uTmFtZSIsImRhc2hTZXBhcmF0ZWQiLCJqb2luIiwiaWNvbiIsIm1hdGNoIiwibWVyZ2VJY29uRGF0YSIsInBhcmVudCIsImNoaWxkIiwib2JqMSIsIm9iajIiLCJtZXJnZUljb25UcmFuc2Zvcm1hdGlvbnMiLCJpbnRlcm5hbEdldEljb25EYXRhIiwiZGF0YSIsInRyZWUiLCJpY29ucyIsImFsaWFzZXMiLCJjcmVhdGUiLCJjdXJyZW50UHJvcHMiLCJwYXJzZSIsInBhcnNlSWNvblNldCIsIm5hbWVzIiwibm90X2ZvdW5kIiwicmVzb2x2ZWQiLCJjb25jYXQiLCJyZXNvbHZlIiwiZ2V0SWNvbnNUcmVlIiwiaXRlbSIsIm9wdGlvbmFsUHJvcGVydHlEZWZhdWx0cyIsImNoZWNrT3B0aW9uYWxQcm9wcyIsImRlZmF1bHRzIiwicHJvcCIsInF1aWNrbHlWYWxpZGF0ZUljb25TZXQiLCJvYmoiLCJkYXRhU3RvcmFnZSIsImdldFN0b3JhZ2UiLCJwcm92aWRlclN0b3JhZ2UiLCJtaXNzaW5nIiwiU2V0IiwibmV3U3RvcmFnZSIsImFkZEljb25TZXQiLCJzdG9yYWdlIiwiYWRkIiwibGlzdEljb25zJDEiLCJhbGxJY29ucyIsInByb3ZpZGVyMiIsInByZWZpeDIiLCJtYXAiLCJzaW1wbGVOYW1lcyIsImFsbG93U2ltcGxlTmFtZXMiLCJhbGxvdyIsImdldEljb25EYXRhIiwiaWNvbk5hbWUiLCJhZGRJY29uJDEiLCJlcnIiLCJhZGRJY29uVG9TdG9yYWdlIiwiYWRkQ29sbGVjdGlvbiQxIiwiYWRkZWQiLCJpY29uRXhpc3RzJDEiLCJnZXRJY29uJDEiLCJyZW1vdmVDYWxsYmFjayIsInN0b3JhZ2VzIiwiaXRlbXMiLCJsb2FkZXJDYWxsYmFja3MiLCJyb3ciLCJpZENvdW50ZXIiLCJzZXRBUElNb2R1bGUiLCJnZXRBUElNb2R1bGUiLCJkZWZhdWx0Q29uZmlnIiwicmVzb3VyY2VzIiwiaW5kZXgiLCJ0aW1lb3V0IiwicmFuZG9tIiwiZGF0YUFmdGVyVGltZW91dCIsImluaXRSZWR1bmRhbmN5IiwiY2ZnIiwiY29uZmlnIiwicXVlcmllcyIsInN0YXR1cyIsInF1ZXJ5IiwicGF5bG9hZCIsInF1ZXJ5Q2FsbGJhY2siLCJkb25lQ2FsbGJhY2siLCJxdWVyeTIiLCJkb25lIiwicmVzb3VyY2VzQ291bnQiLCJzdGFydEluZGV4IiwiTWF0aCIsImZsb29yIiwibGlzdCIsIm5leHRJbmRleCIsInN0YXJ0VGltZSIsIm5vdyIsImxhc3RFcnJvciIsInF1ZXJpZXNTZW50IiwidGltZXIiLCJxdWV1ZSIsImRvbmVDYWxsYmFja3MiLCJyZXNldFRpbWVyIiwiY2xlYXJUaW1lb3V0IiwiYWJvcnQiLCJvdmVyd3JpdGUiLCJmYWlsUXVlcnkiLCJjbGVhclF1ZXVlIiwic2V0VGltZW91dCIsImV4ZWNOZXh0IiwicmVzb3VyY2UiLCJzdGF0dXMyIiwicmVzcG9uc2UiLCJpc0Vycm9yIiwicXVldWVkIiwiaW5kZXhPZiIsIm1vZHVsZVJlc3BvbnNlIiwicXVlcmllc1BlbmRpbmciLCJzZW5kUXVlcnkiLCJlcnJvciIsInNldEluZGV4IiwiZ2V0SW5kZXgiLCJjcmVhdGVBUElDb25maWciLCJzb3VyY2UiLCJwYXRoIiwibWF4VVJMIiwiY29uZmlnU3RvcmFnZSIsImZhbGxCYWNrQVBJU291cmNlcyIsImZhbGxCYWNrQVBJIiwiYWRkQVBJUHJvdmlkZXIkMSIsImN1c3RvbUNvbmZpZyIsImdldEFQSUNvbmZpZyIsImxpc3RBUElQcm92aWRlcnMiLCJlbXB0eUNhbGxiYWNrJDEiLCJyZWR1bmRhbmN5Q2FjaGUiLCJzZW5kQVBJUXVlcnkiLCJ0YXJnZXQiLCJyZWR1bmRhbmN5Iiwic2VuZCIsImFwaSIsImNhY2hlZCIsImNhY2hlZFJldW5kYW5jeSIsImdldFJlZHVuZGFuY3lDYWNoZSIsImJyb3dzZXJDYWNoZVZlcnNpb24iLCJicm93c2VyQ2FjaGVQcmVmaXgiLCJicm93c2VyQ2FjaGVDb3VudEtleSIsImJyb3dzZXJDYWNoZVZlcnNpb25LZXkiLCJicm93c2VyU3RvcmFnZUhvdXIiLCJicm93c2VyU3RvcmFnZUNhY2hlRXhwaXJhdGlvbiIsImdldFN0b3JlZEl0ZW0iLCJmdW5jIiwiZ2V0SXRlbSIsInNldFN0b3JlZEl0ZW0iLCJyZW1vdmVTdG9yZWRJdGVtIiwic2V0QnJvd3NlclN0b3JhZ2VJdGVtc0NvdW50IiwiZ2V0QnJvd3NlclN0b3JhZ2VJdGVtc0NvdW50IiwiYnJvd3NlclN0b3JhZ2VDb25maWciLCJsb2NhbCIsInNlc3Npb24iLCJicm93c2VyU3RvcmFnZUVtcHR5SXRlbXMiLCJicm93c2VyU3RvcmFnZVN0YXR1cyIsIl93aW5kb3ciLCJ3aW5kb3ciLCJnZXRCcm93c2VyU3RvcmFnZSIsIml0ZXJhdGVCcm93c2VyU3RvcmFnZSIsInZlcnNpb24iLCJ0b3RhbDIiLCJpIiwibWluVGltZSIsInBhcnNlSXRlbSIsInRvdGFsIiwiaW5pdEJyb3dzZXJTdG9yYWdlIiwiaWNvblNldCIsImxhc3RNb2RpZmllZCIsImxhc3RNb2RpZmllZENhY2hlZCIsIm1pbiIsImVtcHR5Q2FsbGJhY2siLCJsb2FkSWNvbnMkMSIsImNsZWFuZWRJY29ucyIsImxpc3RUb0ljb25zIiwic29ydGVkSWNvbnMiLCJsb2FkZWQiLCJwZW5kaW5nIiwic29ydCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsImxhc3RJY29uIiwic29ydEljb25zIiwiY2FsbENhbGxiYWNrIiwibmV3SWNvbnMiLCJzb3VyY2VzIiwibGFzdFByb3ZpZGVyIiwibGFzdFByZWZpeCIsInByb3ZpZGVyTmV3SWNvbnMiLCJwZW5kaW5nUXVldWUiLCJwZW5kaW5nSWNvbnMiLCJpY29uc1RvTG9hZCIsImljb25zUXVldWVGbGFnIiwiaWNvbnMyIiwicHJlcGFyZSIsInBhcnNlZCIsImRlbGV0ZSIsInN0b3JlIiwibGFzdFZhbHVlIiwidXBkYXRlTGFzdE1vZGlmaWVkIiwiYXNzaWduIiwic3RvcmVJbkJyb3dzZXJTdG9yYWdlIiwiaWNvbnNMb2FkZXJGbGFnIiwicGVuZGluZ0NhbGxiYWNrc0ZsYWciLCJoYXNQZW5kaW5nIiwib2xkTGVuZ3RoIiwidXBkYXRlQ2FsbGJhY2tzIiwibG9hZGVkTmV3SWNvbnMiLCJsb2FkTmV3SWNvbnMiLCJwZW5kaW5nU291cmNlcyIsImJpbmQiLCJzdG9yZUNhbGxiYWNrIiwibG9hZEljb24kMSIsIlByb21pc2UiLCJmdWxmaWxsIiwicmVqZWN0IiwiaWNvbk9iaiIsImdldElubGluZSIsImhhc0F0dHJpYnV0ZSIsImlzQnVnZ2VkU2FmYXJpIiwibmF2aWdhdG9yIiwidmVuZG9yIiwidW5pdHNTcGxpdCIsInVuaXRzVGVzdCIsImNhbGN1bGF0ZVNpemUkMSIsInJhdGlvIiwicHJlY2lzaW9uIiwiY2VpbCIsIm9sZFBhcnRzIiwibmV3UGFydHMiLCJjb2RlIiwiaXNOdW1iZXIiLCJ0ZXN0IiwiaXNVbnNldEtleXdvcmQiLCJpY29uVG9TVkciLCJmdWxsSWNvbiIsImZ1bGxDdXN0b21pc2F0aW9ucyIsImJveCIsInByb3BzIiwidHJhbnNmb3JtYXRpb25zIiwidGVtcFZhbHVlIiwicm90YXRpb24iLCJ1bnNoaWZ0IiwiY3VzdG9taXNhdGlvbnNXaWR0aCIsImN1c3RvbWlzYXRpb25zSGVpZ2h0IiwiYm94V2lkdGgiLCJib3hIZWlnaHQiLCJhdHRyaWJ1dGVzIiwic2V0QXR0ciIsInZpZXdCb3giLCJmZXRjaE1vZHVsZSIsImZldGNoIiwiZGV0ZWN0RmV0Y2giLCJzZXRGZXRjaCIsImZldGNoMiIsImdldEZldGNoIiwiZmV0Y2hBUElNb2R1bGUiLCJyZXN1bHRzIiwibWF4TGVuZ3RoIiwibWF4SG9zdExlbmd0aCIsImhvc3QiLCJtYXgiLCJ1cmwiLCJjYWxjdWxhdGVNYXhMZW5ndGgiLCJnZXRQYXRoIiwiaWNvbnNMaXN0IiwiVVJMU2VhcmNoUGFyYW1zIiwidXJpIiwiZGVmYXVsdEVycm9yIiwidGhlbiIsImpzb24iLCJzaG91bGRBYm9ydCIsImNhdGNoIiwidG9nZ2xlQnJvd3NlckNhY2hlIiwibm9kZUF0dHIiLCJjdXN0b21TdHlsZSIsImFwcGVuZEN1c3RvbVN0eWxlIiwic3R5bGUiLCJ1cGRhdGVTdHlsZSIsImlubGluZSIsInN0eWxlTm9kZSIsImNoaWxkTm9kZXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsInRleHRDb250ZW50IiwiZXhwb3J0RnVuY3Rpb25zIiwiSWNvbmlmeVByZWxvYWQiLCJwcmVsb2FkIiwiZSIsIkljb25pZnlQcm92aWRlcnMiLCJwcm92aWRlcnMiLCJlbmFibGVDYWNoZSIsImRpc2FibGVDYWNoZSIsImljb25FeGlzdHMiLCJnZXRJY29uIiwibGlzdEljb25zIiwiYWRkSWNvbiIsImFkZENvbGxlY3Rpb24iLCJjYWxjdWxhdGVTaXplIiwiYnVpbGRJY29uIiwibG9hZEljb25zIiwibG9hZEljb24iLCJhZGRBUElQcm92aWRlciIsIl9hcGkiLCJpY29uVG9IVE1MIiwicmVuZGVyQXR0cmlic0hUTUwiLCJtb25vdG9uZVByb3BzIiwiY29sb3JlZFByb3BzIiwicHJvcHNUb0FkZCIsImltYWdlIiwicmVwZWF0IiwicHJvcHNUb0FkZFRvIiwiZml4U2l6ZSIsInJlbmRlckljb24iLCJzdGF0ZSIsImljb25EYXRhIiwicmVuZGVyRGF0YSIsIm1vZGUiLCJyZW5kZXJlZE1vZGUiLCJpbm5lckhUTUwiLCJmaXJzdENoaWxkIiwicmVuZGVyU1ZHIiwidXNlTWFzayIsInJlbmRlckF0dHJpYnMiLCJzdmdTdHlsZSIsInN0eWxlcyIsInNldFByb3BlcnR5IiwicmVuZGVyU1BBTiIsIm9sZE5vZGUiLCJ0YWciLCJ0YWdOYW1lIiwicmVwbGFjZUNoaWxkIiwic2V0UGVuZGluZ1N0YXRlIiwibGFzdFN0YXRlIiwicmVuZGVyZWQiLCJsYXN0UmVuZGVyIiwiSWNvbmlmeUljb25Db21wb25lbnQiLCJjdXN0b21FbGVtZW50cyIsIlBhcmVudENsYXNzIiwiSFRNTEVsZW1lbnQiLCJDb25mbGljdGluZ0NsYXNzIiwiSWNvbmlmeUljb24iLCJfc2hhZG93Um9vdCIsIl9zdGF0ZSIsIl9jaGVja1F1ZXVlZCIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJyb290IiwiYXR0YWNoU2hhZG93IiwiX3F1ZXVlQ2hlY2siLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJuZXdJbmxpbmUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZXN0YXJ0QW5pbWF0aW9uIiwibGFzdENoaWxkIiwic2V0Q3VycmVudFRpbWUiLCJfY2hlY2siLCJuZXdJY29uIiwiX2ljb25DaGFuZ2VkIiwiYXR0ck1vZGUiLCJ2YWx1ZTEiLCJoYXZlQ3VzdG9taXNhdGlvbnNDaGFuZ2VkIiwiX3JlbmRlckljb24iLCJuZXdWYWx1ZSIsIm9ubG9hZCIsInRlc3RJY29uT2JqZWN0IiwibG9hZGluZyIsInBhcnNlSWNvblZhbHVlIiwiX2dvdEljb25EYXRhIiwiZ2V0UmVuZGVyTW9kZSIsInByb3RvdHlwZSIsImRlZmluZVByb3BlcnR5IiwiZnVuY3Rpb25zIiwiZGVmaW5lIiwiZGVmaW5lSWNvbmlmeUljb24iLCJpY29uaWZ5SWNvbiIsIkRFRkFVTFRfQ0FURUdPUlkiLCJlbXB0eVRvZG9IVE1MIiwidG9kb1ZpZXciLCJtYWtlVG9kb0VsZW1lbnQiLCJ0b2RvRGl2IiwiY2xhc3NMaXN0IiwiY2hlY2tib3giLCJ0b2RvVGV4dCIsImFwcGVuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGljayIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwidG9nZ2xlRG9uZSIsInRvZ2dsZSIsInJpZ2h0IiwiZGV0YWlsQnV0dG9uIiwiY3VycmVudENhdGVnb3J5IiwiZ2V0RWxlbWVudEJ5SWQiLCJkYXRhc2V0Iiwic2VsZWN0ZWQiLCJwYXJlbnRFbGVtZW50IiwiZGV0YWlsTW9kYWwiLCJoZWFkZXJEaXYiLCJoMyIsImNsb3NlQnV0dG9uIiwic3RyaW5nIiwiY2F0ZWdvcnlQIiwiY2hhckF0IiwicHJpb3JpdHlQIiwiZHVlRGF0ZVAiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJkZXNjcmlwdGlvblAiLCJtYWtlVG9kb0RldGFpbHNFbGVtZW50Iiwib3ZlcmxheSIsInJlbW92ZSIsInJlbmRlclRvZG9EZXRhaWxzIiwiZHVlRGF0ZVRleHQiLCJtb250aCIsImRheSIsImVkaXRCdXR0b24iLCJlZGl0SWNvbiIsInZlcnRpY2FsQWxpZ24iLCJkYXRlIiwidG9JU09TdHJpbmciLCJodG1sIiwibW9kYWwiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJmb3JtIiwicXVlcnlTZWxlY3RvciIsImR1ZURhdGVTdHJpbmciLCJuZXdUb2RvIiwicmVuZGVyVG9kb0VkaXRFbGVtZW50IiwiZGVsZXRlQnV0dG9uIiwidHJhc2hJY29uIiwicmVuZGVyVG9kb3MiLCJ0b2Rvc0NvbnRhaW5lciIsInRvZG9zIiwidG9kb0VsZW1lbnQiLCJhcHBlbmRUb2RvcyIsIm1ha2VDYXRlZ29yeUVsZW1lbnQiLCJsaSIsImJ1dHRvbiIsImlubmVyVGV4dCIsInJlbmRlckNhdGVnb3JpZXMiLCJjYXRlZ29yeUVsZW1lbnQiLCJjYXRlZ29yaWVzVWwiLCJkZWZhdWx0SG9tZUNhdGVnb3J5IiwiY29udGFpbnMiLCJjYXRlZ29yaWVzQ29udGFpbmVyIiwicGFyZW50Tm9kZSIsImVkaXRlZEVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbml0aWFsaXplRG9tRXZlbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIm1vZGFsT3ZlcmxheSIsImNhdGVnb3J5Rm9ybSIsImFkZENhdGVnb3J5QnV0dG9uIiwiaW5wdXRFbCIsInRvZG9LZXlzIiwic3RhcnRzV2l0aCIsImNhdGVnb3J5U2V0IiwicmF3VG9kbyIsInN1YnN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=